(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{sOnn:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=e("W4AR"),o={Items:"Items",BooleanValue:"BooleanValue",SentimentValue:"SentimentValue"},i={Journeymap:"jm",Persona:"p",StageActivity:"sa"},a={List:1,Callout:2,Stats:3,Boolean:4,Sentiment:5},r={CreateJourneymap:Object(u.d)("[CreateJourneyMap]"),CreateJourneymapSucceeded:Object(u.d)("[CreateJourneyMap] Success"),CreateJourneymapFailed:Object(u.d)("[CreateJourneyMap] Fail"),ResetJourneymapSelection:Object(u.d)("[ResetJourneyMapSelection]"),LoadJourneymaps:Object(u.d)("[LoadJourneyMaps]"),LoadJourneymapsSucceeded:Object(u.d)("[LoadJourneyMaps] Success"),LoadJourneymapsFailed:Object(u.d)("[LoadJourneyMaps] Fail"),LoadJourneymapDetails:Object(u.d)("[LoadJourneyMapDetails]"),LoadJourneymapDetailsSucceeded:Object(u.d)("[LoadJourneyMapDetails] Success"),LoadJourneymapDetailsFailed:Object(u.d)("[LoadJourneyMapDetails] Fail"),UpdateJourneymap:Object(u.d)("[UpdateJourneyMap]"),UpdateJourneymapSucceeded:Object(u.d)("[UpdateJourneyMap] Success"),UpdateJourneymapFailed:Object(u.d)("[UpdateJourneyMap] Fail"),ArchiveJourneymap:Object(u.d)("[ArchiveJourneyMapAction]"),ArchiveJourneymapSucceeded:Object(u.d)("[ArchiveJourneyMapAction] Succeeded"),ArchiveJourneymapFailed:Object(u.d)("[ArchiveJourneyMapAction] Fail"),AttachPrimaryConversations:Object(u.d)("[AttachPrimaryConversations]"),AddPrimaryConversation:Object(u.d)("[AddPrimaryConversation]"),ClosePrimaryConversation:Object(u.d)("[ClosePrimaryConversation]"),UpdateSA:Object(u.d)("[UpdateSA]"),UpdateSASucceeded:Object(u.d)("[UpdateSASucceeded] Success"),UpdateSAFailed:Object(u.d)("[UpdateSAFailed] Fail"),AttachSAConversations:Object(u.d)("[AttachStageActivityConversations]"),AddSAConversation:Object(u.d)("[AddStageActivityConversation]"),CloseSAConversation:Object(u.d)("[CloseStageActivityConversation]"),UpdateStageActivityItem:Object(u.d)("[UpdateStageActivityItem]"),UpdateStageActivityItemSucceeded:Object(u.d)("[UpdateStageActivityItem] Success"),UpdateStageActivityItemFailed:Object(u.d)("[UpdateStageActivityItem] Fail")},d=function(){return function(l){this.payload=l,this.type=r.LoadJourneymaps}}(),c=function(){return function(l){this.payload=l,this.type=r.CreateJourneymap}}(),s=function(){return function(){this.type=r.ResetJourneymapSelection}}(),p=function(){return function(l){this.payload=l,this.type=r.LoadJourneymapDetails}}(),g=function(){return function(l){this.payload=l,this.type=r.UpdateJourneymap}}(),f=function(){return function(l){this.payload=l,this.type=r.ArchiveJourneymap}}(),m=function(){return function(l){this.payload=l,this.type=r.UpdateSA}}(),v=function(){return function(l){this.payload=l,this.type=r.AttachPrimaryConversations}}(),h=function(){return function(l){this.payload=l,this.type=r.AddPrimaryConversation}}(),C=function(){return function(l){this.payload=l,this.type=r.ClosePrimaryConversation}}(),y=function(){return function(l){this.payload=l,this.type=r.AttachSAConversations}}(),b=function(){return function(l){this.payload=l,this.type=r.AddSAConversation}}(),_=function(){return function(l){this.payload=l,this.type=r.CloseSAConversation}}(),k=function(){function l(l,n,e){var t=this;this.store=l,this.router=n,this.route=e,this.type="",this.isEditorVisible=!1,this.triggerSearch=!1,this.viewType="detail",this.onSearch=function(l){t.store.dispatch(new d(l))},this.onCreate=function(){return t.isEditorVisible=!0}}return l.prototype.ngOnInit=function(){var l=this;this.store.select(function(l){return l.journeymaps.archived}).subscribe(function(n){return n?l.router.navigate(["journeymaps"]):null}),this.store.select(function(l){return l.journeymaps.created}).subscribe(function(n){n&&(l.isEditorVisible=!1,l.router.navigate(["journeymaps",n.code,"details"]))}),this.result$=this.store.select(function(l){return l.journeymaps.journeymaps}),this.result$.subscribe(function(n){l.result=n}),this.triggerSearch=!0},l.prototype.onHome=function(){this.router.navigate(["journeymaps"]),this.store.dispatch(new s)},l.prototype.onViewTypeChanged=function(l){this.viewType=l},l}(),R=e("jUk4"),O=e("8OuM"),M=e("RIEr"),x=function(){function l(l,n,e){var t=this;this.route=l,this.router=n,this.store$=e,this.entityContexts=i,this.navigationCommands=[],this.pCode="code",this.editTitle=!1,this.editSummary=!1,this.isActivitiesEditorVisible=!1,this.isStagesEditorVisible=!1,this.isConversationsVisible=!1,this.isAttachmentsEditorVisible=!1,this.canUpdateTitle=function(){return t.record.title&&t.record.title.trim().length>0},this.canUpdateSummary=function(){return t.record.title&&t.record.title.trim().length>0},this.canSave=function(){return!1},this.setCommands=function(){},this.navigatePrev=function(l){return t.router.navigate(["journeymaps",l.details.prev,"details"])},this.navigateNext=function(l){return t.router.navigate(["journeymaps",l.details.next,"details"])},this.navigatePrevPage=function(l){return t.store$.dispatch(new d({pageIndex:l.details.prevPage,pageSize:3}))},this.navigateNextPage=function(l){return t.store$.dispatch(new d({pageIndex:l.details.nextPage,pageSize:3}))},this.subscribeRouteParams(),this.subscribeJourneyMapDetails(),this.subscribeJourneyMapConversations(),this.subscribeJourneyMapUpdated()}return l.prototype.subscribeRouteParams=function(){var l=this;this.route.params.subscribe(function(n){n[l.pCode]&&(l.store$.dispatch(new p(n[l.pCode])),l.setCommands())})},l.prototype.subscribeJourneyMapDetails=function(){var l=this;this.details$=this.store$.select(function(l){return l.journeymaps.details}),this.details$.subscribe(function(n){if(n){l.details=n,l.record=n.record,l.setNavigationCommands(),l.store$.dispatch(new R.h),l.isStagesEditorVisible=!1,l.isActivitiesEditorVisible=!1;var e=Object(M.a)(l.record.code+":"+l.entityContexts.Journeymap+":"+l.record.code);l.store$.dispatch(new O.e(e))}})},l.prototype.subscribeJourneyMapConversations=function(){var l=this;this.store$.select(function(l){return l.journeymaps.conversations}).subscribe(function(n){return n?l.record.conversations=n:null}),this.store$.select(function(l){return l.conversations.formattedResult}).subscribe(function(n){if(n)switch(n.entityContext){case l.entityContexts.Journeymap:l.store$.dispatch(new v(n))}})},l.prototype.subscribeJourneyMapUpdated=function(){},l.prototype.updateTitle=function(){this.canUpdateTitle()&&(this.store$.dispatch(new g({record:{code:this.record.code,title:this.record.title},column:"Title"})),this.editTitle=!1)},l.prototype.updateSummary=function(){this.canUpdateSummary()&&(this.store$.dispatch(new g({record:{code:this.record.code,summary:this.record.summary},column:"Summary"})),this.editSummary=!1)},l.prototype.updateTheme=function(l){this.record.theme=l,this.store$.dispatch(new g({record:{code:this.record.code,theme:l},column:"Theme"}))},l.prototype.onArchiveJourneyMap=function(){!0===confirm("Are you sure you want to delete the workspace?")&&this.store$.dispatch(new f({workspaceCode:this.record.code}))},l.prototype.closeAllEditors=function(){this.isConversationsVisible=!1,this.isStagesEditorVisible=!1,this.isActivitiesEditorVisible=!1,this.isAttachmentsEditorVisible=!1},l.prototype.openAttachmentsEditor=function(){this.closeAllEditors(),this.isAttachmentsEditorVisible=!0},l.prototype.openStagesEditor=function(){this.closeAllEditors(),this.isStagesEditorVisible=!0},l.prototype.openConversationsEditor=function(){this.closeAllEditors(),this.isConversationsVisible=!0},l.prototype.openActivitiesEditor=function(){this.closeAllEditors(),this.isActivitiesEditorVisible=!0},l.prototype.onPrimaryConversationAdded=function(l){l&&l.entityContext===this.entityContexts.Journeymap&&this.store$.dispatch(new h(l.conversation))},l.prototype.onPrimaryConversationClosed=function(l){l&&l.entityContext===this.entityContexts.Journeymap&&this.store$.dispatch(new C(l.conversation))},l.prototype.setNavigationCommands=function(){this.navigationCommands=[],this.details.prevPage&&this.navigationCommands.push({type:"link",icon:"fa-angle-double-left",callback:this.navigatePrevPage,parentComponent:this}),this.details.prev&&this.navigationCommands.push({type:"link",icon:"fa-angle-left",callback:this.navigatePrev,parentComponent:this}),this.details.next&&this.navigationCommands.push({type:"link",icon:"fa-angle-right",callback:this.navigateNext,parentComponent:this}),this.details.nextPage&&this.navigationCommands.push({type:"link",icon:"fa-angle-double-right",callback:this.navigateNextPage,parentComponent:this})},l}(),S=e("LvDl"),w=e("AmrC"),I=e("jQqf"),A=function(){function l(l,n){var e=this;this.store$=l,this.attachmentService=n,this.entityContexts=i,this.activityTypeEnum=a,this.stageActivityColumn=o,this.canUpdatePersona=function(){return e.selectedPersonaId&&e.selectedPersonaId>0},this.canUpdateStageTitle=function(l){return l.title&&l.title.trim().length>0},this.canUpdateActivityTitle=function(l){return l.title&&l.title.trim().length>0},this.canUpdateStageActivityItem=function(l){return l.title&&l.title.trim().length>0},this.details$=this.store$.select(function(l){return l.journeymaps.details}),this.details$.subscribe(function(l){if(l&&l.record&&(e.record=l.record,e.record.theme||(e.record.theme="default"),e.record.persona)){var n=e.record.persona;n.photo&&n.photo.length>0&&e.attachmentService.download$(n.code,n.photo).subscribe(function(l){var e=new FileReader;e.addEventListener("load",function(){return n.photoUrl=e.result}),l&&e.readAsDataURL(l)})}}),this.personas$=this.store$.select(function(l){return l.personas.personas}),this.personas$.subscribe(function(l){l&&l.records&&(e.personas=l.records)}),this.store$.dispatch(new w.e({})),this.store$.select(function(l){return l.conversations.formattedResult}).subscribe(function(l){if(l)switch(l.entityContext){case e.entityContexts.StageActivity:e.store$.dispatch(new y(l))}})}return l.prototype.onPersonaSelected=function(){this.canUpdatePersona()&&this.store$.dispatch(new g({record:{code:this.record.code,persona:{id:this.selectedPersonaId}},column:"Persona"}))},l.prototype.updateStageTitle=function(l){this.canUpdateStageTitle(l)&&(l.isDirty=!0,this.store$.dispatch(new g({record:{code:this.record.code,stages:[l]},column:"Stages"})),l.edit=!1)},l.prototype.updateActivityTitle=function(l){this.canUpdateActivityTitle(l)&&(l.isDirty=!0,this.store$.dispatch(new g({record:{code:this.record.code,activities:[l]},column:"Activities"})),l.edit=!1)},l.prototype.getStageActivity=function(l,n){return S.find(this.record.stageActivities,{stageId:n.id,activityId:l.id})},l.prototype.updateStageActivityItem=function(l,n){if(this.canUpdateStageTitle(n)){n.isDirty=!0;var e=S.cloneDeep(l);e.items=[n],this.store$.dispatch(new m({record:e,column:o.Items})),n.edit=!1}},l.prototype.deleteStageActivityItem=function(l,n){n.isDeleted=!0;var e=S.cloneDeep(l);e.items=[n],this.store$.dispatch(new m({record:e,column:o.Items})),n.edit=!1},l.prototype.onChange=function(l,n){this.store$.dispatch(new m({record:l,column:n}))},l.prototype.openConversationsEditor=function(l){l.comments=!0;var n=Object(M.a)("undefined:"+this.entityContexts.StageActivity+":"+l.code+":"+this.entityContexts.Journeymap+":"+this.record.code);this.store$.dispatch(new O.e(n))},l.prototype.onSAConversationAdded=function(l,n){l&&l.entityContext===this.entityContexts.StageActivity&&l.contextToken===n.code&&this.store$.dispatch(new b(l.conversation))},l.prototype.onSAConversationClosed=function(l,n){l&&l.entityContext===this.entityContexts.StageActivity&&l.contextToken===n.code&&this.store$.dispatch(new _(l.conversation))},l}(),E=function(){return function(){}}(),P=e("9AJC"),T=e("oAi0"),N=e("pMnS"),D=e("eVFG"),V=e("Ip0R"),j=e("ZYCi"),$=e("jhFJ"),F=e("8uIU"),U=e("yGQT"),L=e("HuXx"),J=e("qVCQ"),q=e("Pchq"),B=e("gIcY"),G=function(){function l(l,n){var e=this;this.store=l,this.formBuilder=n,this.showCodeEditor=!1,this.canSave=function(l){return l.editorForm.invalid},this.submit=function(l){l.store.dispatch(new c({record:l.editorForm.value}))},this.editorForm=this.formBuilder.group({code:["",B.Validators.required],title:["",B.Validators.required],summary:[""]}),this.store.select(function(l){return l.journeymaps.created}).subscribe(function(){e.editorForm.reset(),e.showCodeEditor=!1})}return l.prototype.onTitleKeyup=function(l){this.editorForm.patchValue({code:l.target.value.replace(/[^\w]/gi,"").toLocaleLowerCase().slice(0,10)})},l.prototype.reset=function(){this.editorForm.reset()},l}(),z=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function H(l){return t["\u0275vid"](2,[(l()(),t["\u0275eld"](0,0,null,null,51,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,B["\u0275angular_packages_forms_forms_bh"],[],null,null),t["\u0275did"](2,540672,null,0,B.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,B.ControlContainer,null,[B.FormGroupDirective]),t["\u0275did"](4,16384,null,0,B.NgControlStatusGroup,[[4,B.ControlContainer]],null,null),(l()(),t["\u0275eld"](5,0,null,null,1,"h4",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Journeymap editor"])),(l()(),t["\u0275eld"](7,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam molestie dolor eget neque suscipit, in finibus nisl laoreet. "])),(l()(),t["\u0275eld"](9,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,25,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Journeymap name"])),(l()(),t["\u0275eld"](13,0,null,null,8,"input",[["autofocus",""],["class","form-control"],["formControlName","title"],["id","title"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,14)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,14).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,14)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,14)._compositionEnd(e.target.value)&&u),"keyup"===n&&(u=!1!==o.onTitleKeyup(e)&&u),u},null,null)),t["\u0275did"](14,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](15,16384,null,0,B.RequiredValidator,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,B.NG_VALIDATORS,function(l){return[l]},[B.RequiredValidator]),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](18,671744,null,0,B.FormControlName,[[3,B.ControlContainer],[6,B.NG_VALIDATORS],[8,null],[6,B.NG_VALUE_ACCESSOR],[2,B["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,B.NgControl,null,[B.FormControlName]),t["\u0275did"](20,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](21,1720320,null,0,R.s,[t.ElementRef],null,null),(l()(),t["\u0275eld"](22,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Code"])),(l()(),t["\u0275eld"](24,0,null,null,11,"div",[["class","input-group input-group-sm w-50"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,5,"input",[["class","form-control"],["formControlName","code"],["id","code"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,26)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,26).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,26)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,26)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](26,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](28,671744,null,0,B.FormControlName,[[3,B.ControlContainer],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR],[2,B["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,B.NgControl,null,[B.FormControlName]),t["\u0275did"](30,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),(l()(),t["\u0275eld"](31,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,3,"a",[["class","btn btn-light btn-outline-secondary"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=0!=(u.showCodeEditor=!u.showCodeEditor)&&t),t},null,null)),(l()(),t["\u0275eld"](33,0,null,null,2,"i",[["class","fa "]],null,null,null,null,null)),t["\u0275did"](34,278528,null,0,V.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](35,{"fa-pencil-alt":0,"fa-check text-success":1}),(l()(),t["\u0275eld"](36,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Summary"])),(l()(),t["\u0275eld"](39,0,null,null,5,"textarea",[["class","form-control"],["formControlName","summary"],["rows","4"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,40)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,40).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,40)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,40)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](40,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](42,671744,null,0,B.FormControlName,[[3,B.ControlContainer],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR],[2,B["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,B.NgControl,null,[B.FormControlName]),t["\u0275did"](44,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),(l()(),t["\u0275eld"](45,0,null,null,6,"div",[["class","pane-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,2,"button",[["class","btn btn-primary mr-1"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.submit(u)&&t),t},null,null)),(l()(),t["\u0275eld"](47,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Save changes"])),(l()(),t["\u0275eld"](49,0,null,null,2,"button",[["class","btn btn-default"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reset()&&t),t},null,null)),(l()(),t["\u0275eld"](50,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reset"]))],function(l,n){var e=n.component;l(n,2,0,e.editorForm),l(n,15,0,""),l(n,18,0,"title"),l(n,28,0,"code");var t=l(n,35,0,!e.showCodeEditor,e.showCodeEditor);l(n,34,0,"fa ",t),l(n,42,0,"summary")},function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,13,0,t["\u0275nov"](n,15).required?"":null,t["\u0275nov"](n,20).ngClassUntouched,t["\u0275nov"](n,20).ngClassTouched,t["\u0275nov"](n,20).ngClassPristine,t["\u0275nov"](n,20).ngClassDirty,t["\u0275nov"](n,20).ngClassValid,t["\u0275nov"](n,20).ngClassInvalid,t["\u0275nov"](n,20).ngClassPending),l(n,25,0,!e.showCodeEditor,t["\u0275nov"](n,30).ngClassUntouched,t["\u0275nov"](n,30).ngClassTouched,t["\u0275nov"](n,30).ngClassPristine,t["\u0275nov"](n,30).ngClassDirty,t["\u0275nov"](n,30).ngClassValid,t["\u0275nov"](n,30).ngClassInvalid,t["\u0275nov"](n,30).ngClassPending),l(n,39,0,t["\u0275nov"](n,44).ngClassUntouched,t["\u0275nov"](n,44).ngClassTouched,t["\u0275nov"](n,44).ngClassPristine,t["\u0275nov"](n,44).ngClassDirty,t["\u0275nov"](n,44).ngClassValid,t["\u0275nov"](n,44).ngClassInvalid,t["\u0275nov"](n,44).ngClassPending),l(n,46,0,e.canSave(e))})}var K=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function X(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"p",[["class","mb-1 small text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,1),t["\u0275ppd"](3,3)],null,function(l,n){var e=t["\u0275unv"](n,1,0,l(n,3,0,t["\u0275nov"](n.parent.parent.parent,1),t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent.parent.parent,2),n.parent.context.$implicit.summary)),100,"..."));l(n,1,0,e)})}function Z(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"a",[["class","list-group-item list-group-item-action flex-column align-items-start"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),t["\u0275did"](1,278528,null,0,V.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"selected-list-item":0}),t["\u0275did"](3,671744,null,0,j.m,[j.k,j.a,V.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](4,3),(l()(),t["\u0275eld"](5,0,null,null,3,"div",[["class","d-flex w-100 justify-content-between"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"span",[["class","mb-1 text-dark"]],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),t["\u0275ppd"](8,1),(l()(),t["\u0275and"](16777216,null,null,1,null,X)),t["\u0275did"](10,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.current);l(n,1,0,"list-group-item list-group-item-action flex-column align-items-start",t);var u=l(n,4,0,"/journeymaps",n.context.$implicit.code,"details");l(n,3,0,u),l(n,10,0,"detail"===e.viewType)},function(l,n){l(n,0,0,t["\u0275nov"](n,3).target,t["\u0275nov"](n,3).href);var e=t["\u0275unv"](n,7,0,l(n,8,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.title));l(n,7,0,e)})}function Y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","list-group"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Z)),t["\u0275did"](3,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.result.records)},null)}function W(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","alert text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Need a new journey map?"])),(l()(),t["\u0275eld"](4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Journey maps helps you plot an end to end user journey. "])),(l()(),t["\u0275eld"](6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCreate()&&t),t},null,null)),(l()(),t["\u0275eld"](8,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Add journey map"]))],null,null)}function Q(l){return t["\u0275vid"](0,[t["\u0275pid"](0,$.a,[]),t["\u0275pid"](0,F.d,[]),t["\u0275pid"](0,F.c,[]),(l()(),t["\u0275eld"](3,0,null,null,13,"container-splitter",[["leftPaneSize","20"]],null,null,null,D.n,D.g)),t["\u0275did"](4,114688,null,0,R.v,[U.o],{leftPaneSize:[0,"leftPaneSize"]},null),(l()(),t["\u0275eld"](5,0,null,0,7,"container-list",[["icon","fa-map-marked-alt"],["title","Journey maps"],["viewMode","multiple"]],null,[[null,"viewTypeChanged"],[null,"home"],[null,"search"],[null,"create"]],function(l,n,e){var t=!0,u=l.component;return"viewTypeChanged"===n&&(t=!1!==u.onViewTypeChanged(e)&&t),"home"===n&&(t=!1!==u.onHome()&&t),"search"===n&&(t=!1!==u.onSearch(e)&&t),"create"===n&&(t=!1!==u.onCreate()&&t),t},D.o,D.h)),t["\u0275did"](6,49152,null,0,R.w,[L.d],{icon:[0,"icon"],title:[1,"title"],result:[2,"result"],viewMode:[3,"viewMode"],viewType:[4,"viewType"],containerInitiated:[5,"containerInitiated"]},{search:"search",create:"create",home:"home",viewTypeChanged:"viewTypeChanged"}),(l()(),t["\u0275and"](16777216,null,0,2,null,Y)),t["\u0275did"](8,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,V.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,0,2,null,W)),t["\u0275did"](11,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,V.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](13,0,null,0,3,"p-sidebar",[["position","right"],["styleClass","ui-sidebar-md"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isEditorVisible=e)&&t),t},J.b,J.a)),t["\u0275did"](14,12763136,null,0,q.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],visible:[2,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](15,0,null,0,1,"app-journeymap-editor",[],null,null,null,H,z)),t["\u0275did"](16,49152,null,0,G,[U.o,B.FormBuilder],null,null)],function(l,n){var e=n.component;l(n,4,0,"20"),l(n,6,0,"fa-map-marked-alt","Journey maps",e.result,"multiple",e.viewType,e.triggerSearch),l(n,8,0,t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform(e.result$))&&e.result.total>0),l(n,11,0,!t["\u0275unv"](n,11,0,t["\u0275nov"](n,12).transform(e.result$))||0===e.result.total),l(n,14,0,"right","ui-sidebar-md",e.isEditorVisible)},null)}function ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-journeymap-home",[],null,null,null,Q,K)),t["\u0275did"](1,114688,null,0,k,[U.o,j.k,j.a],null,null)],function(l,n){l(n,1,0)},null)}var nl=t["\u0275ccf"]("app-journeymap-home",k,ll,{},{},[]),el=e("LK7e"),tl=e("nX/Y"),ul=e("4GxJ"),ol=e("SuPe"),il=e("9fJe"),al=e("ZYjt"),rl=e("srSj"),dl=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-link btn-sm float-right"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.collapsed=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null))],null,null)}function sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-link btn-sm float-right"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.collapsed=!0)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,[" details "])),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-angle-down"]],null,null,null,null,null))],null,null)}function pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"sub",[["class","small text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275ppd"](3,1),(l()(),t["\u0275eld"](4,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""]))],null,function(l,n){var e=t["\u0275unv"](n,2,0,l(n,3,0,t["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.key));l(n,2,0,e),l(n,5,0,n.context.$implicit.value)})}function gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pl)),t["\u0275did"](2,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.conversationContext)},null)}function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,cl)),t["\u0275did"](2,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,sl)),t["\u0275did"](4,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gl)),t["\u0275did"](6,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.collapsed),l(n,4,0,!e.collapsed),l(n,6,0,e.collapsed)},null)}function ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-link btn-sm float-right"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.resetSelectedText()&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,5,"blockquote",[["class","small text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-quote-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275ted"](-1,null,[' " '])),(l()(),t["\u0275eld"](8,0,null,null,0,"i",[["class","fa fa-quote-right"]],null,null,null,null,null))],null,function(l,n){l(n,6,0,n.component.selectedText)})}function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","dropdown-item conversation-type"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.add("Discuss")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","far fa-comments fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Discuss"]))],null,null)}function hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","dropdown-item conversation-type-Ask"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.add("Ask")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","far fa-question-circle fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Ask"]))],null,null)}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","dropdown-item conversation-type-Note"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.add("Note")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","far fa-sticky-note fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Note"]))],null,null)}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","dropdown-item conversation-type-Task"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.add("Task")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-tasks fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Task"]))],null,null)}function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,45,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"button",[["class","btn btn-link btn-sm float-left"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleAll()&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"i",[["class","fa text-muted "]],null,null,null,null,null)),t["\u0275did"](3,278528,null,0,V.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](4,{"fa-angle-double-down":0,"fa-angle-double-up":1}),(l()(),t["\u0275eld"](5,0,null,null,40,"div",[["class","conversation "]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,39,"div",[["style","margin-left:24pt; padding:2pt"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ml)),t["\u0275did"](8,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](9,16777216,null,null,9,"textarea",[["autocomplete","off"],["autosize",""]],[[8,"className",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"searchTerm"],[null,"keyup.control.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,10)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,10).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,10)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,10)._compositionEnd(e.target.value)&&u),"keydown"===n&&(u=!1!==t["\u0275nov"](l,15).keyHandler(e)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,15).blurHandler(e)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,18).onInput(e.target)&&u),"ngModelChange"===n&&(u=!1!==(o.newConversation=e)&&u),"searchTerm"===n&&(u=!1!==o.searchUsers(e)&&u),"keyup.control.enter"===n&&(u=!1!==o.addConversation()&&u),u},null,null)),t["\u0275did"](10,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](12,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](14,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](15,540672,null,0,ol.MentionDirective,[t.ElementRef,t.ComponentFactoryResolver,t.ViewContainerRef],{mention:[0,"mention"],mentionConfig:[1,"mentionConfig"]},{searchTerm:"searchTerm"}),t["\u0275pod"](16,{labelKey:0,mentionSelect:1}),t["\u0275did"](17,1720320,null,0,R.s,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),t["\u0275did"](18,2768896,null,0,il.a,[t.ElementRef,t.NgZone],{minRows:[0,"minRows"],maxRows:[1,"maxRows"]},null),(l()(),t["\u0275eld"](19,0,null,null,26,"div",[["style","padding-top:2pt"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,3,"div",[["class","btn-group btn-group-sm float-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addConversation()&&t),t},null,null)),(l()(),t["\u0275eld"](22,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Post"])),(l()(),t["\u0275eld"](24,0,null,null,21,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,18,"div",[["class","btn-group btn-group-sm mr-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,17,"div",[["class","btn btn-default"],["ngbDropdown",""],["placement","bottom-left"]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](27,212992,null,2,ul.t,[t.ChangeDetectorRef,ul.v,V.DOCUMENT,t.NgZone],{placement:[0,"placement"]},null),t["\u0275qud"](335544320,1,{_menu:0}),t["\u0275qud"](335544320,2,{_anchor:0}),(l()(),t["\u0275eld"](30,0,null,null,3,"a",[["aria-haspopup","true"],["class","dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,31).toggleOpen()&&u),u},null,null)),t["\u0275did"](31,16384,null,0,ul.y,[ul.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[2,4]],ul.u,null,[ul.y]),(l()(),t["\u0275ted"](33,null,["",""])),(l()(),t["\u0275eld"](34,0,null,null,9,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](35,16384,[[1,4]],0,ul.w,[ul.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](37,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,hl)),t["\u0275did"](39,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](41,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](43,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](44,0,null,null,1,"help-ctrl-enter-save",[],null,null,null,D.j,D.c)),t["\u0275did"](45,49152,null,0,R.f,[],null,null)],function(l,n){var e=n.component,t=l(n,4,0,e.allCollapsed,!e.allCollapsed);l(n,3,0,"fa text-muted ",t),l(n,8,0,e.selectedText&&e.selectedText.length>0),l(n,12,0,e.newConversation);var u=e.users,o=l(n,16,0,"title",e.mentionSelect);l(n,15,0,u,o),l(n,17,0,1),l(n,18,0,3,6),l(n,27,0,"bottom-left"),l(n,37,0,e.allowDiscuss),l(n,39,0,e.allowAsk),l(n,41,0,e.allowNote),l(n,43,0,e.allowTask)},function(l,n){var e=n.component;l(n,9,0,t["\u0275inlineInterpolate"](1,"form-control form-control-sm conversation-type-",e.type,""),t["\u0275nov"](n,14).ngClassUntouched,t["\u0275nov"](n,14).ngClassTouched,t["\u0275nov"](n,14).ngClassPristine,t["\u0275nov"](n,14).ngClassDirty,t["\u0275nov"](n,14).ngClassValid,t["\u0275nov"](n,14).ngClassInvalid,t["\u0275nov"](n,14).ngClassPending),l(n,26,0,t["\u0275nov"](n,27).isOpen()),l(n,30,0,t["\u0275nov"](n,31).dropdown.isOpen()),l(n,33,0,e.type),l(n,34,0,!0,t["\u0275nov"](n,35).dropdown.isOpen(),t["\u0275nov"](n,35).placement)})}function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","text-muted"]],[[8,"title",0]],null,null,null,null)),t["\u0275ppd"](1,2),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","far fa-check-circle"]],null,null,null,null,null))],null,function(l,n){var e=t["\u0275unv"](n,0,0,l(n,1,0,t["\u0275nov"](n.parent.parent.parent.parent,1),n.parent.parent.context.$implicit.closedOn,"medium"));l(n,0,0,e)})}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-link"]],[[8,"title",0],[2,"collapse",null],[2,"show",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.markAsClosed(l.parent.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,16384,null,0,ul.m,[],{collapsed:[0,"collapsed"]},null),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","far fa-check-circle"]],null,null,null,null,null))],function(l,n){l(n,1,0,n.parent.parent.context.$implicit.collapsed)},function(l,n){l(n,0,0,"Task"===n.parent.parent.context.$implicit.type?"Mark as done":"Mark as answered",!0,!t["\u0275nov"](n,1).collapsed)})}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,_l)),t["\u0275did"](2,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](4,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.parent.context.$implicit.isClosed),l(n,4,0,!n.parent.context.$implicit.isClosed)},null)}function Ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","response"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"b",[["class","mr-1"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["user 2"])),(l()(),t["\u0275eld"](3,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),t["\u0275ppd"](5,2),(l()(),t["\u0275eld"](6,0,null,null,2,"ngx-md",[],null,null,null,el.b,el.a)),t["\u0275did"](7,4243456,null,0,tl.a,[tl.c,t.ElementRef,t.PLATFORM_ID],{data:[0,"data"]},null),t["\u0275ppd"](8,1)],function(l,n){var e=t["\u0275unv"](n,7,0,l(n,8,0,t["\u0275nov"](n.parent.parent.parent,2),n.context.$implicit.content));l(n,7,0,e)},function(l,n){var e=t["\u0275unv"](n,4,0,l(n,5,0,t["\u0275nov"](n.parent.parent.parent,1),n.context.$implicit.createdOn,"medium"));l(n,4,0,e)})}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","input-group input-group-sm"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"textarea",[["autosize",""],["class","form-control reply"],["placeholder","use ctrl+enter to reply"],["rows","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.control.enter"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,2)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,2).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionEnd(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,8).onInput(e.target)&&u),"keyup.control.enter"===n&&(u=!1!==o.reply(l.parent.context.$implicit)&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.reply=e)&&u),u},null,null)),t["\u0275did"](2,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](4,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](6,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](7,1720320,null,0,R.s,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),t["\u0275did"](8,2768896,null,0,il.a,[t.ElementRef,t.NgZone],{minRows:[0,"minRows"],maxRows:[1,"maxRows"]},null),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reply(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-reply text-primary"]],null,null,null,null,null))],function(l,n){l(n,4,0,n.parent.context.$implicit.reply),l(n,7,0,n.parent.context.$implicit.replying),l(n,8,0,1,3)},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-sm btn-light btn-reply btn-block"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.replying=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-reply"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reply"]))],null,null)}function Sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,26,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"button",[["class","btn btn-link btn-sm float-left"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggle(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"i",[["class","fa text-muted "]],null,null,null,null,null)),t["\u0275did"](3,278528,null,0,V.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](4,{"fa-angle-down":0,"fa-angle-up":1}),(l()(),t["\u0275eld"](5,0,null,null,21,"div",[["class","conversation small"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,12,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"div",[["class","float-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Rl)),t["\u0275did"](9,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,null,8,"div",[["style","margin-left:16pt;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggle(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"b",[["class","mr-1"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Abhijeet"])),(l()(),t["\u0275eld"](13,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,["",""])),t["\u0275ppd"](15,2),(l()(),t["\u0275eld"](16,0,null,null,2,"ngx-md",[],null,null,null,el.b,el.a)),t["\u0275did"](17,4243456,null,0,tl.a,[tl.c,t.ElementRef,t.PLATFORM_ID],{data:[0,"data"]},null),t["\u0275ppd"](18,1),(l()(),t["\u0275eld"](19,0,null,null,7,"div",[["class","nth"]],[[2,"collapse",null],[2,"show",null]],null,null,null,null)),t["\u0275did"](20,16384,null,0,ul.m,[],{collapsed:[0,"collapsed"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ol)),t["\u0275did"](22,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](24,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](26,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=l(n,4,0,n.context.$implicit.collapsed,!n.context.$implicit.collapsed);l(n,3,0,"fa text-muted ",e),l(n,9,0,"Task"===n.context.$implicit.type||"Ask"===n.context.$implicit.type);var u=t["\u0275unv"](n,17,0,l(n,18,0,t["\u0275nov"](n.parent.parent,2),n.context.$implicit.content));l(n,17,0,u),l(n,20,0,n.context.$implicit.collapsed),l(n,22,0,n.context.$implicit.replies),l(n,24,0,n.context.$implicit.replying),l(n,26,0,!n.context.$implicit.replying)},function(l,n){l(n,6,0,t["\u0275inlineInterpolate"](1,"first conversation-type conversation-type-",n.context.$implicit.type,""));var e=t["\u0275unv"](n,14,0,l(n,15,0,t["\u0275nov"](n.parent.parent,1),n.context.$implicit.createdOn,"medium"));l(n,14,0,e),l(n,19,0,!0,!t["\u0275nov"](n,20).collapsed)})}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Sl)),t["\u0275did"](2,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.conversations.records)},null)}function Il(l){return t["\u0275vid"](0,[t["\u0275pid"](0,V.UpperCasePipe,[]),t["\u0275pid"](0,V.DatePipe,[t.LOCALE_ID]),t["\u0275pid"](0,F.e,[al.DomSanitizer]),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](4,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](6,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wl)),t["\u0275did"](8,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,e.conversationContext&&e.conversationContext.length>0),l(n,6,0,e.allowDiscuss||e.allowAsk||e.allowNote||e.allowTask),l(n,8,0,e.conversations)},null)}var Al=e("kSSh"),El=e("VYqR"),Pl=e("t/Na"),Tl=e("7LN8"),Nl=e("i4hE"),Dl=function(){function l(l,n,e,t){var u=this;this.authService=l,this.store=n,this.route=e,this.attachmentService=t,this.showUploadEditor=!1,this.toggleUploadEditor=function(){return u.showUploadEditor=!u.showUploadEditor},this.onSearch=function(l){return u.store.dispatch(new Nl.c(l))},this.deleteAttachment=function(l){return u.store.dispatch(new Nl.b(l))},this.userPreference=this.authService.getUserPreference(),this.filter={pageIndex:1,pageSize:this.userPreference.pageSize,q:""},this.store.select(function(l){return l.attachments.uploading}).subscribe(function(l){return u.uploading=u.showUploadEditor=l}),this.uploaded$=this.store.select(function(l){return l.attachments.uploaded}),this.attachments$=this.store.select(function(l){return l.attachments.attachments}),this.attachments$.subscribe(function(l){l&&(u.result=l)})}return Object.defineProperty(l.prototype,"token",{get:function(){return this._token},set:function(l){this._token=l,this._token&&this._token.length>0&&(this.filter=this.filter||{},this.filter.token=this._token,this.onSearch(this.filter))},enumerable:!0,configurable:!0}),l.prototype.onUploadHandler=function(l,n){this.store.dispatch(new Nl.d({token:this.filter.token,files:l.files})),n.clear()},l.prototype.search=function(l){l!==this.filter.pageIndex&&(this.filter.pageIndex=l,this.onSearch(this.filter))},l.prototype.download=function(l){this.attachmentService.download$(l.contextToken,l.code).subscribe(function(n){var e=document.createElement("a");document.body.appendChild(e),e.href=window.URL.createObjectURL(n),e.download=l.filename,e.click()})},l}(),Vl=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-default"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.result.total)})}function $l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","pt-1 pb-1"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","badge badge-default pull-right"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),t["\u0275ppd"](4,1)],null,function(l,n){l(n,1,0,n.context.$implicit.name);var e=t["\u0275unv"](n,3,0,l(n,4,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.size));l(n,3,0,e)})}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"p",[["class","p-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Drag and drop one or more files here..."]))],null,null)}function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" uploading "," / ","... "])),t["\u0275pid"](131072,V.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pid"](131072,V.AsyncPipe,[t.ChangeDetectorRef])],null,function(l,n){var e=n.component;l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform(e.uploaded$)).loaded,t["\u0275unv"](n,1,1,t["\u0275nov"](n,3).transform(e.uploaded$)).total)})}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","row"],["style","border-bottom: solid 1px #eee"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","col-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"small",[["class","badge badge-default float-right mt-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),t["\u0275ppd"](4,1),(l()(),t["\u0275eld"](5,0,null,null,1,"button",[["class","btn btn-link text-left"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.download(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,2,"div",[["class","col-2 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"a",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteAttachment(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](9,0,null,null,0,"i",[["class","fa fa-times text-danger"]],null,null,null,null,null))],null,function(l,n){var e=t["\u0275unv"](n,3,0,l(n,4,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.fileLength));l(n,3,0,e),l(n,6,0,n.context.$implicit.title)})}function Jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,24,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"p-fileUpload",[["auto","auto"],["customUpload","true"],["maxFileSize","100000000"],["multiple","multiple"],["name","demo[]"],["showCancelButton","false"],["showUploadButton","false"]],null,[[null,"uploadHandler"]],function(l,n,e){var u=!0;return"uploadHandler"===n&&(u=!1!==l.component.onUploadHandler(e,t["\u0275nov"](l,3))&&u),u},Al.b,Al.a)),t["\u0275did"](3,5423104,[["form",4]],1,El.FileUpload,[t.ElementRef,al.DomSanitizer,t.NgZone,Pl.HttpClient],{name:[0,"name"],multiple:[1,"multiple"],auto:[2,"auto"],maxFileSize:[3,"maxFileSize"],showUploadButton:[4,"showUploadButton"],showCancelButton:[5,"showCancelButton"],customUpload:[6,"customUpload"]},{uploadHandler:"uploadHandler"}),t["\u0275qud"](603979776,1,{templates:1}),(l()(),t["\u0275and"](0,null,null,1,null,$l)),t["\u0275did"](6,16384,[[1,4]],0,Tl.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,Fl)),t["\u0275did"](8,16384,[[1,4]],0,Tl.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](16777216,null,null,2,null,Ul)),t["\u0275did"](10,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,V.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,9,"div",[["class","input-group mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,5,"input",[["autofocus",""],["class","form-control"],["placeholder","search attachments"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,14)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,14).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,14)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,14)._compositionEnd(e.target.value)&&u),"keyup.enter"===n&&(u=!1!==o.onSearch(o.filter)&&u),"ngModelChange"===n&&(u=!1!==(o.filter.q=e)&&u),"keyup.esc"===n&&(o.filter.q="",u=!1!==o.onSearch(o.filter)&&u),u},null,null)),t["\u0275did"](14,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](16,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](18,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onSearch(u.filter)&&t),t},null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,2,"div",[["class","container-fluid mt-2 mb-5"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ll)),t["\u0275did"](24,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"demo[]","multiple","auto","100000000","false","false","true"),l(n,6,0,"file"),l(n,8,0,"content"),l(n,10,0,!0===e.uploading&&t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform(e.uploaded$))),l(n,16,0,e.filter.q),l(n,24,0,e.result.records)},function(l,n){l(n,13,0,t["\u0275nov"](n,18).ngClassUntouched,t["\u0275nov"](n,18).ngClassTouched,t["\u0275nov"](n,18).ngClassPristine,t["\u0275nov"](n,18).ngClassDirty,t["\u0275nov"](n,18).ngClassValid,t["\u0275nov"](n,18).ngClassInvalid,t["\u0275nov"](n,18).ngClassPending)})}function ql(l){return t["\u0275vid"](0,[t["\u0275pid"](0,F.a,[]),(l()(),t["\u0275eld"](1,0,null,null,14,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,5,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"h5",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-paperclip text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Attachments "])),(l()(),t["\u0275and"](16777216,null,null,1,null,jl)),t["\u0275did"](7,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,3,"div",[["class","pane-body"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,Jl)),t["\u0275did"](10,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,V.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,3,"div",[["class","pane-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"ngb-pagination",[["maxSize","3"],["role","navigation"],["size","sm"]],null,[[null,"pageChange"]],function(l,n,e){var t=!0;return"pageChange"===n&&(t=!1!==l.component.search(e)&&t),t},P.d,P.c)),t["\u0275did"](14,573440,null,0,ul.E,[ul.F],{boundaryLinks:[0,"boundaryLinks"],ellipses:[1,"ellipses"],rotate:[2,"rotate"],collectionSize:[3,"collectionSize"],maxSize:[4,"maxSize"],pageSize:[5,"pageSize"],size:[6,"size"]},{pageChange:"pageChange"}),t["\u0275pid"](131072,V.AsyncPipe,[t.ChangeDetectorRef])],function(l,n){var e=n.component;l(n,7,0,e.result&&e.result.total>0),l(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform(e.attachments$))),l(n,14,0,!0,!1,!0,t["\u0275unv"](n,14,3,t["\u0275nov"](n,15).transform(e.attachments$)).total,"3",e.userPreference.pageSize,"sm")},null)}var Bl=e("W/8W"),Gl=e("hwsA"),zl=e("5KDg"),Hl=e("X1q0"),Kl=function(){function l(l){var n=this;this.store=l,this._stages=!1,this.changelog=[],this.deletedRecords=[],this.onRemoveStage=function(l){var e=n.records.splice(l,1);if(e&&e.length>0){var t=e[0];console.log("removedRecord",e,t),t.id&&(t.isDeleted=!0,n.deletedRecords.push(t),n.changelog.push("Stage removed: "+t.title))}},this.dndDropped=function(l){return console.log("dndDropped",l)},this.canSave=function(){return n.changelog.length>0}}return Object.defineProperty(l.prototype,"stages",{get:function(){return this._stages},set:function(l){this._stages=l,this.reset()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.reset()},l.prototype.onEditTitle=function(l){l.oldTitle=l.title,l.isEditMode=!0},l.prototype.canUpdateTitle=function(l){return l.title&&l.title.trim().length>0&&l.title!==l.oldTitle},l.prototype.onUpdateTitle=function(l){l.oldTitle!==l.title&&(l.isDirty=!0,this.changelog.push("Title changed: "+l.oldTitle+" -> "+l.title)),l.isEditMode=!1},l.prototype.onCancelTitle=function(l){l.title=l.oldTitle,l.isEditMode=!1},l.prototype.onAddStage=function(){null==this.records?(this.records=[],this.panelCntr=0):this.panelCntr=this.records.length,this.panelCntr++;var l={code:Object(u.b)(10),title:"Stage "+this.panelCntr,isDirty:!0,sequence:this.panelCntr};this.records.push(l),this.onEditTitle(l),this.changelog.push("Stage added: "+l.title)},l.prototype.onRemoveMovedStage=function(l,n){n.splice(n.indexOf(l),1),this.changelog.push("Stage moved: "+l.title)},l.prototype.submit=function(){this.records.forEach(function(l,n){l.activities=null,l.sequence!==n&&(l.sequence=n,l.isDirty=!0)});var l={code:this.journeyCode,stages:S.filter(this.records,{isDirty:!0})};this.deletedRecords.length>0&&(l.stages=S.union(l.stages,this.deletedRecords)),console.log(l),this.store.dispatch(new g({record:l,column:"Stages"}))},l.prototype.reset=function(){this.changelog=[],this.deletedRecords=[],this.stages&&(this.records=S.cloneDeep(this.stages))},l}(),Xl=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Change title"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onUpdateTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-check text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Reset"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],null,function(l,n){l(n,1,0,!n.component.canUpdateTitle(n.parent.context.$implicit))})}function Yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","click to edit title"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-pencil-alt"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Remove stage"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemoveStage(l.parent.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times text-danger"]],null,null,null,null,null))],null,null)}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[["class","mb-3"]],null,[[null,"dndMoved"],[null,"dragstart"],[null,"dragend"],[null,"click"]],function(l,n,e){var u=!0,o=l.component;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,1).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,1).handleDragEnd(e)&&u),"click"===n&&(u=!1!==t["\u0275nov"](l,1).handleClick(e)&&u),"dndMoved"===n&&(u=!1!==o.onRemoveMovedStage(l.context.$implicit,o.records)&&u),u},null,null)),t["\u0275did"](1,212992,null,0,Bl.a,[t.ElementRef,Gl.a],{option:[0,"option"],dndType:[1,"dndType"],dndObject:[2,"dndObject"]},{dndMoved:"dndMoved"}),t["\u0275pod"](2,{effectAllowed:0}),(l()(),t["\u0275eld"](3,0,null,null,15,"div",[["class","input-group input-group-cf-field-toolbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"span",[["class","input-group-text text-muted"],["dndHandle",""],["style","cursor:move"]],null,[[null,"dragstart"],[null,"dragend"]],function(l,n,e){var u=!0;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,6).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,6).handleDragEnd(e)&&u),u},null,null)),t["\u0275did"](6,16384,null,0,zl.a,[t.ElementRef,Gl.a],null,null),(l()(),t["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-grip-vertical text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,6,"input",[["aria-describedby","basic-addon1"],["aria-label","stage title"],["class","form-control"],["placeholder","stage title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,9)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,9).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,9)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,9)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.title=e)&&u),"keyup.enter"===n&&(u=!1!==o.onUpdateTitle(l.context.$implicit)&&u),"keyup.esc"===n&&(u=!1!==o.onCancelTitle(l.context.$implicit)&&u),u},null,null)),t["\u0275did"](9,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](11,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](13,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](14,1720320,null,0,R.s,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Zl)),t["\u0275did"](16,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Yl)),t["\u0275did"](18,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=l(n,2,0,"move");l(n,1,0,e,"stage",n.context.$implicit),l(n,11,0,!n.context.$implicit.isEditMode,n.context.$implicit.title),l(n,14,0,n.context.$implicit.isEditMode),l(n,16,0,n.context.$implicit.isEditMode),l(n,18,0,!n.context.$implicit.isEditMode)},function(l,n){l(n,8,0,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending)})}function Ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-muted mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Changelog: "])),(l()(),t["\u0275eld"](3,0,null,null,2,"ul",[["class","small "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ql)),t["\u0275did"](5,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.changelog)},null)}function nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Manage stages"])),(l()(),t["\u0275eld"](4,0,null,null,14,"div",[["class","pane-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"div",[["class","text-muted mt-2 mb-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Define jourmeymap stages and drag-n-drop to set the sequence"])),(l()(),t["\u0275eld"](7,0,[["placeholder",1]],null,0,"div",[["class","dndPlaceholder col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,5,"div",[],null,[[null,"dragenter"],[null,"dragover"],[null,"drop"],[null,"dragleave"]],function(l,n,e){var u=!0;return"dragenter"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragEnter(e)&&u),"dragover"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragOver(e)&&u),"drop"===n&&(u=!1!==t["\u0275nov"](l,9).handleDrop(e)&&u),"dragleave"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragLeave(e)&&u),u},null,null)),t["\u0275did"](9,212992,null,0,Hl.a,[t.ElementRef,Gl.a],{option:[0,"option"],dndModel:[1,"dndModel"],dndPlaceholder:[2,"dndPlaceholder"]},null),t["\u0275pad"](10,1),t["\u0275pod"](11,{allowedTypes:0,effectAllowed:1}),(l()(),t["\u0275and"](16777216,null,null,1,null,Wl)),t["\u0275did"](13,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](14,0,null,null,2,"button",[["class","btn btn-outline-primary btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddStage()&&t),t},null,null)),(l()(),t["\u0275eld"](15,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Add new stage"])),(l()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](18,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](19,0,null,null,6,"div",[["class","pane-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"button",[["class","btn btn-primary mr-1"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.submit()&&t),t},null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Save changes"])),(l()(),t["\u0275eld"](23,0,null,null,2,"button",[["class","btn btn-default"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reset()&&t),t},null,null)),(l()(),t["\u0275eld"](24,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reset"]))],function(l,n){var e=n.component,u=l(n,11,0,l(n,10,0,"stage"),"move");l(n,9,0,u,e.records,t["\u0275nov"](n,7)),l(n,13,0,e.records),l(n,18,0,e.changelog&&e.changelog.length>0)},function(l,n){var e=n.component;l(n,20,0,!e.canSave()),l(n,23,0,!e.canSave())})}var en=function(){function l(l){var n=this;this.store=l,this._activities=!1,this.changelog=[],this.deletedRecords=[],this.onRemoveActivity=function(l){var e=n.records.splice(l,1);if(e&&e.length>0){var t=e[0];console.log("removedRecord",e,t),t.id&&(t.isDeleted=!0,n.deletedRecords.push(t),n.changelog.push("Activity removed: "+t.title))}},this.dndDropped=function(l){return console.log("dndDropped",l)},this.canSave=function(){return n.changelog.length>0}}return Object.defineProperty(l.prototype,"activities",{get:function(){return this._activities},set:function(l){this._activities=l,this.reset()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.reset()},l.prototype.onEditTitle=function(l){l.oldTitle=l.title,l.oldType=l.type,l.isEditMode=!0},l.prototype.canUpdateTitle=function(l){return console.log(l.type),l.type&&l.title&&l.title.trim().length>0&&l.title!==l.oldTitle||l.type!==l.oldType},l.prototype.onUpdateTitle=function(l){l.oldTitle!==l.title&&(l.isDirty=!0,this.changelog.push("Title changed: "+l.oldTitle+" -> "+l.title)),l.oldType!==l.type&&(l.isDirty=!0,this.changelog.push(l.title+" Type changed: "+l.oldType+" -> "+l.type)),l.isEditMode=!1},l.prototype.onCancelTitle=function(l){l.title=l.oldTitle,l.isEditMode=!1},l.prototype.onAddActivity=function(){null==this.records?(this.records=[],this.panelCntr=0):this.panelCntr=this.records.length,this.panelCntr++;var l={code:Object(u.b)(10),title:"Activity "+this.panelCntr,isDirty:!0,sequence:this.panelCntr,type:0};this.records.push(l),this.onEditTitle(l),this.changelog.push("Activity added: "+l.title)},l.prototype.onRemoveMovedActivity=function(l,n){n.splice(n.indexOf(l),1),this.changelog.push("Activity moved: "+l.title)},l.prototype.submit=function(){this.records.forEach(function(l,n){l.activities=null,l.sequence!==n&&(l.sequence=n,l.isDirty=!0)});var l={code:this.journeyCode,activities:S.filter(this.records,{isDirty:!0})};this.deletedRecords.length>0&&(l.activities=S.union(l.activities,this.deletedRecords)),this.store.dispatch(new g({record:l,column:"Activities"}))},l.prototype.reset=function(){this.changelog=[],this.deletedRecords=[],this.activities&&(this.records=S.cloneDeep(this.activities))},l}(),tn=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Change title"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onUpdateTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-check text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Reset"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],null,function(l,n){l(n,1,0,!n.component.canUpdateTitle(n.parent.context.$implicit))})}function on(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","click to edit title"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-pencil-alt"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Remove activity"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemoveActivity(l.parent.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times text-danger"]],null,null,null,null,null))],null,null)}function an(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,26,"div",[["style","margin:4pt 64pt 4pt 30pt"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,25,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,2).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.type=e)&&u),u},null,null)),t["\u0275did"](2,16384,null,0,B.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.SelectControlValueAccessor]),t["\u0275did"](4,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](6,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),(l()(),t["\u0275eld"](7,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](8,147456,null,0,B.NgSelectOption,[t.ElementRef,t.Renderer2,[2,B.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](9,147456,null,0,B["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["List"])),(l()(),t["\u0275eld"](11,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),t["\u0275did"](12,147456,null,0,B.NgSelectOption,[t.ElementRef,t.Renderer2,[2,B.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](13,147456,null,0,B["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Callout"])),(l()(),t["\u0275eld"](15,0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),t["\u0275did"](16,147456,null,0,B.NgSelectOption,[t.ElementRef,t.Renderer2,[2,B.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](17,147456,null,0,B["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Stats"])),(l()(),t["\u0275eld"](19,0,null,null,3,"option",[["value","4"]],null,null,null,null,null)),t["\u0275did"](20,147456,null,0,B.NgSelectOption,[t.ElementRef,t.Renderer2,[2,B.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](21,147456,null,0,B["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Boolean"])),(l()(),t["\u0275eld"](23,0,null,null,3,"option",[["value","5"]],null,null,null,null,null)),t["\u0275did"](24,147456,null,0,B.NgSelectOption,[t.ElementRef,t.Renderer2,[2,B.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](25,147456,null,0,B["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Sentiment"]))],function(l,n){l(n,4,0,n.parent.context.$implicit.type),l(n,8,0,"1"),l(n,9,0,"1"),l(n,12,0,"2"),l(n,13,0,"2"),l(n,16,0,"3"),l(n,17,0,"3"),l(n,20,0,"4"),l(n,21,0,"4"),l(n,24,0,"5"),l(n,25,0,"5")},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"div",[["class","mt-1 mb-2 pb-1"]],null,[[null,"dndMoved"],[null,"dragstart"],[null,"dragend"],[null,"click"]],function(l,n,e){var u=!0,o=l.component;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,3).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,3).handleDragEnd(e)&&u),"click"===n&&(u=!1!==t["\u0275nov"](l,3).handleClick(e)&&u),"dndMoved"===n&&(u=!1!==o.onRemoveMovedActivity(l.context.$implicit,o.records)&&u),u},null,null)),t["\u0275did"](1,278528,null,0,V.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{"background-color":0}),t["\u0275did"](3,212992,null,0,Bl.a,[t.ElementRef,Gl.a],{option:[0,"option"],dndType:[1,"dndType"],dndObject:[2,"dndObject"]},{dndMoved:"dndMoved"}),t["\u0275pod"](4,{effectAllowed:0}),(l()(),t["\u0275eld"](5,0,null,null,15,"div",[["class","input-group input-group-cf-field-toolbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"span",[["class","input-group-text text-muted"],["dndHandle",""],["style","cursor:move"]],null,[[null,"dragstart"],[null,"dragend"]],function(l,n,e){var u=!0;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,8).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,8).handleDragEnd(e)&&u),u},null,null)),t["\u0275did"](8,16384,null,0,zl.a,[t.ElementRef,Gl.a],null,null),(l()(),t["\u0275eld"](9,0,null,null,0,"i",[["class","fa fa-grip-vertical text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,6,"input",[["aria-describedby","basic-addon1"],["aria-label","activity title"],["class","form-control"],["placeholder","activity title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,11)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,11).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.title=e)&&u),"keyup.enter"===n&&(u=!1!==o.onUpdateTitle(l.context.$implicit)&&u),"keyup.esc"===n&&(u=!1!==o.onCancelTitle(l.context.$implicit)&&u),u},null,null)),t["\u0275did"](11,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](13,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](15,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](16,1720320,null,0,R.s,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](18,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,on)),t["\u0275did"](20,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](22,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=l(n,2,0,n.context.$implicit.isEditMode?"#f4f4f4":"transparent");l(n,1,0,e);var t=l(n,4,0,"move");l(n,3,0,t,"activity",n.context.$implicit),l(n,13,0,!n.context.$implicit.isEditMode,n.context.$implicit.title),l(n,16,0,n.context.$implicit.isEditMode),l(n,18,0,n.context.$implicit.isEditMode),l(n,20,0,!n.context.$implicit.isEditMode),l(n,22,0,n.context.$implicit.isEditMode)},function(l,n){l(n,10,0,t["\u0275nov"](n,15).ngClassUntouched,t["\u0275nov"](n,15).ngClassTouched,t["\u0275nov"](n,15).ngClassPristine,t["\u0275nov"](n,15).ngClassDirty,t["\u0275nov"](n,15).ngClassValid,t["\u0275nov"](n,15).ngClassInvalid,t["\u0275nov"](n,15).ngClassPending)})}function dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-muted mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Changelog: "])),(l()(),t["\u0275eld"](3,0,null,null,2,"ul",[["class","small "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,dn)),t["\u0275did"](5,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.changelog)},null)}function sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Manage activities"])),(l()(),t["\u0275eld"](4,0,null,null,14,"div",[["class","pane-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"div",[["class","text-muted mt-2 mb-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Define jourmeymap activities and drag-n-drop to set the sequence"])),(l()(),t["\u0275eld"](7,0,[["placeholder",1]],null,0,"div",[["class","dndPlaceholder col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,5,"div",[],null,[[null,"dragenter"],[null,"dragover"],[null,"drop"],[null,"dragleave"]],function(l,n,e){var u=!0;return"dragenter"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragEnter(e)&&u),"dragover"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragOver(e)&&u),"drop"===n&&(u=!1!==t["\u0275nov"](l,9).handleDrop(e)&&u),"dragleave"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragLeave(e)&&u),u},null,null)),t["\u0275did"](9,212992,null,0,Hl.a,[t.ElementRef,Gl.a],{option:[0,"option"],dndModel:[1,"dndModel"],dndPlaceholder:[2,"dndPlaceholder"]},null),t["\u0275pad"](10,1),t["\u0275pod"](11,{allowedTypes:0,effectAllowed:1}),(l()(),t["\u0275and"](16777216,null,null,1,null,rn)),t["\u0275did"](13,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](14,0,null,null,2,"button",[["class","btn btn-outline-primary btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddActivity()&&t),t},null,null)),(l()(),t["\u0275eld"](15,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Add new activity"])),(l()(),t["\u0275and"](16777216,null,null,1,null,cn)),t["\u0275did"](18,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](19,0,null,null,6,"div",[["class","pane-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"button",[["class","btn btn-primary mr-1"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.submit()&&t),t},null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Save changes"])),(l()(),t["\u0275eld"](23,0,null,null,2,"button",[["class","btn btn-default"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reset()&&t),t},null,null)),(l()(),t["\u0275eld"](24,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reset"]))],function(l,n){var e=n.component,u=l(n,11,0,l(n,10,0,"activity"),"move");l(n,9,0,u,e.records,t["\u0275nov"](n,7)),l(n,13,0,e.records),l(n,18,0,e.changelog&&e.changelog.length>0)},function(l,n){var e=n.component;l(n,20,0,!e.canSave()),l(n,23,0,!e.canSave())})}var pn=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"h3",[["style","margin-bottom:0;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"span",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.editTitle=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"span",[["class","hover-border "]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-pencil-alt text-muted hover-button"]],null,null,null,null,null))],null,function(l,n){l(n,3,0,n.component.record.title)})}function fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","input-group input-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"input",[["autofocus",""],["class","form-control"],["placeholder","journeymap title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,3)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,3).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionEnd(e.target.value)&&u),"keyup.enter"===n&&(u=!1!==o.updateTitle()&&u),"ngModelChange"===n&&(u=!1!==(o.record.title=e)&&u),"keyup.esc"===n&&(u=0!=(o.editTitle=!1)&&u),u},null,null)),t["\u0275did"](3,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](5,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](7,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](8,1720320,null,0,R.s,[t.ElementRef],null,null),(l()(),t["\u0275eld"](9,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTitle()&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.editTitle=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null))],function(l,n){l(n,5,0,n.component.record.title)},function(l,n){var e=n.component;l(n,2,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending),l(n,10,0,!e.canUpdateTitle())})}function mn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.editSummary=!0)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add summary..."]))],null,null)}function vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.editSummary=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","hover-border "]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-link btn-sm hover-button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-pencil-alt text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"ngx-md",[],null,null,null,el.b,el.a)),t["\u0275did"](5,4243456,null,0,tl.a,[tl.c,t.ElementRef,t.PLATFORM_ID],{data:[0,"data"]},null)],function(l,n){l(n,5,0,n.component.record.summary)},null)}function hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"textarea",[["autofocus",""],["class","form-control mb-2"],["placeholder","summary"],["rows","5"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.control.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,2)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,2).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionEnd(e.target.value)&&u),"keyup.control.enter"===n&&(u=!1!==o.updateSummary()&&u),"ngModelChange"===n&&(u=!1!==(o.record.summary=e)&&u),"keyup.esc"===n&&(u=0!=(o.editSummary=!1)&&u),u},null,null)),t["\u0275did"](2,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](4,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](6,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](7,1720320,null,0,R.s,[t.ElementRef],null,null),(l()(),t["\u0275eld"](8,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,5,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"help-gfm-spec",[],null,null,null,D.k,D.d)),t["\u0275did"](11,49152,null,0,R.g,[],null,null),(l()(),t["\u0275ted"](-1,null,[" | "])),(l()(),t["\u0275eld"](13,0,null,null,1,"help-ctrl-enter-save",[],null,null,null,D.j,D.c)),t["\u0275did"](14,49152,null,0,R.f,[],null,null),(l()(),t["\u0275eld"](15,0,null,null,7,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,6,"div",[["class","btn-group btn-group-sm"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateSummary()&&t),t},null,null)),(l()(),t["\u0275eld"](18,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Save changes"])),(l()(),t["\u0275eld"](20,0,null,null,2,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.editSummary=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Close"]))],function(l,n){l(n,4,0,n.component.record.summary)},function(l,n){var e=n.component;l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,17,0,!e.canUpdateSummary())})}function Cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,66,"div",[["class","mt-4 mb-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,65,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,11,"div",[["class","card text-white bg-primary"],["style","width:16rem;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","badge badge-pill badge-light"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["1"])),(l()(),t["\u0275ted"](-1,null,[" Define stages "])),(l()(),t["\u0275eld"](8,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Identify stages in your user journey."])),(l()(),t["\u0275eld"](11,0,null,null,3,"div",[["class","text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"a",[["class","btn btn-sm btn-light text-dark"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openStagesEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","fa fa-puzzle-piece"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Manage stages"])),(l()(),t["\u0275eld"](15,0,null,null,12,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,11,"div",[["class","card text-white bg-info"],["style","width:16rem;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"span",[["class","badge badge-pill badge-light"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["2"])),(l()(),t["\u0275ted"](-1,null,[" Configure activities "])),(l()(),t["\u0275eld"](21,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Identify activities to track against each stage."])),(l()(),t["\u0275eld"](24,0,null,null,3,"div",[["class","text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,2,"a",[["class","btn btn-sm btn-light text-dark"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openActivitiesEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](26,0,null,null,0,"i",[["class","fa fa-layer-group"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Configure activities"])),(l()(),t["\u0275eld"](28,0,null,null,38,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,37,"div",[["class","card text-white bg-secondary"],["style","width:16rem;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"span",[["class","badge badge-pill badge-light"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["3"])),(l()(),t["\u0275ted"](-1,null,[" Select Theme "])),(l()(),t["\u0275eld"](34,0,null,null,32,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Select from one of many colur themes supported."])),(l()(),t["\u0275eld"](37,0,null,null,29,"div",[["class","text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,28,"div",[["class","btn btn-light btn-sm text-dark"],["ngbDropdown",""],["placement","bottom-left"]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](39,212992,null,2,ul.t,[t.ChangeDetectorRef,ul.v,V.DOCUMENT,t.NgZone],{placement:[0,"placement"]},null),t["\u0275qud"](335544320,5,{_menu:0}),t["\u0275qud"](335544320,6,{_anchor:0}),(l()(),t["\u0275eld"](42,0,null,null,4,"a",[["aria-haspopup","true"],["class","dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,43).toggleOpen()&&u),u},null,null)),t["\u0275did"](43,16384,null,0,ul.y,[ul.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[6,4]],ul.u,null,[ul.y]),(l()(),t["\u0275eld"](45,0,null,null,0,"i",[["class","fa fa-paint-brush"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Select theme"])),(l()(),t["\u0275eld"](47,0,null,null,19,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](48,16384,[[5,4]],0,ul.w,[ul.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275eld"](49,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("default")&&t),t},null,null)),(l()(),t["\u0275eld"](50,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#ccc;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Default"])),(l()(),t["\u0275eld"](52,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("aqua")&&t),t},null,null)),(l()(),t["\u0275eld"](53,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:aqua"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Aqua"])),(l()(),t["\u0275eld"](55,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("teal")&&t),t},null,null)),(l()(),t["\u0275eld"](56,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#808040"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Teal"])),(l()(),t["\u0275eld"](58,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("green")&&t),t},null,null)),(l()(),t["\u0275eld"](59,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:greenyellow"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Green"])),(l()(),t["\u0275eld"](61,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("blue")&&t),t},null,null)),(l()(),t["\u0275eld"](62,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#02C1F9"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Blue"])),(l()(),t["\u0275eld"](64,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("maroon")&&t),t},null,null)),(l()(),t["\u0275eld"](65,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#C7491F"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Maroon"]))],function(l,n){l(n,39,0,"bottom-left")},function(l,n){l(n,38,0,t["\u0275nov"](n,39).isOpen()),l(n,42,0,t["\u0275nov"](n,43).dropdown.isOpen()),l(n,47,0,!0,t["\u0275nov"](n,48).dropdown.isOpen(),t["\u0275nov"](n,48).placement)})}function yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,102,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,72,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,62,"div",[["class","row mt-1"],["style","position:sticky;top:0;background-color: #fff;;z-index: 2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](5,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,fn)),t["\u0275did"](7,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,56,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,55,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,27,"div",[["class","btn btn-light"],["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](11,212992,null,2,ul.t,[t.ChangeDetectorRef,ul.v,V.DOCUMENT,t.NgZone],{placement:[0,"placement"]},null),t["\u0275qud"](335544320,1,{_menu:0}),t["\u0275qud"](335544320,2,{_anchor:0}),(l()(),t["\u0275eld"](14,0,null,null,3,"a",[["aria-haspopup","true"],["class","dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,15).toggleOpen()&&u),u},null,null)),t["\u0275did"](15,16384,null,0,ul.y,[ul.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[2,4]],ul.u,null,[ul.y]),(l()(),t["\u0275eld"](17,0,null,null,0,"i",[["class","fa fa-paint-brush"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,19,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](19,16384,[[1,4]],0,ul.w,[ul.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275eld"](20,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("default")&&t),t},null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#ccc;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Default"])),(l()(),t["\u0275eld"](23,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("aqua")&&t),t},null,null)),(l()(),t["\u0275eld"](24,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:aqua"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Aqua"])),(l()(),t["\u0275eld"](26,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("teal")&&t),t},null,null)),(l()(),t["\u0275eld"](27,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#808040"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Teal"])),(l()(),t["\u0275eld"](29,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("green")&&t),t},null,null)),(l()(),t["\u0275eld"](30,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:greenyellow"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Green"])),(l()(),t["\u0275eld"](32,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("blue")&&t),t},null,null)),(l()(),t["\u0275eld"](33,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#02C1F9"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Blue"])),(l()(),t["\u0275eld"](35,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("maroon")&&t),t},null,null)),(l()(),t["\u0275eld"](36,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#C7491F"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Maroon"])),(l()(),t["\u0275eld"](38,0,null,null,26,"div",[["class","btn btn-light"],["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](39,212992,null,2,ul.t,[t.ChangeDetectorRef,ul.v,V.DOCUMENT,t.NgZone],{placement:[0,"placement"]},null),t["\u0275qud"](335544320,3,{_menu:0}),t["\u0275qud"](335544320,4,{_anchor:0}),(l()(),t["\u0275eld"](42,0,null,null,3,"a",[["aria-haspopup","true"],["class","dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,43).toggleOpen()&&u),u},null,null)),t["\u0275did"](43,16384,null,0,ul.y,[ul.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[4,4]],ul.u,null,[ul.y]),(l()(),t["\u0275eld"](45,0,null,null,0,"i",[["class","far fa-sun"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,18,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](47,16384,[[3,4]],0,ul.w,[ul.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275eld"](48,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openAttachmentsEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](49,0,null,null,0,"i",[["class","fa fa-paperclip fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Attachments"])),(l()(),t["\u0275eld"](51,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openConversationsEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](52,0,null,null,0,"i",[["class","fa fa-comments fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Conversations"])),(l()(),t["\u0275eld"](54,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),t["\u0275eld"](55,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openStagesEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](56,0,null,null,0,"i",[["class","fa fa-puzzle-piece fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Stages"])),(l()(),t["\u0275eld"](58,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openActivitiesEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](59,0,null,null,0,"i",[["class","fa fa-layer-group fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Activities"])),(l()(),t["\u0275eld"](61,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),t["\u0275eld"](62,0,null,null,2,"button",[["class","dropdown-item text-danger"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onArchiveJourneyMap()&&t),t},null,null)),(l()(),t["\u0275eld"](63,0,null,null,0,"i",[["class","fa fa-times fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Archive journey map "])),(l()(),t["\u0275eld"](65,0,null,null,6,"div",[["class","mb-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,mn)),t["\u0275did"](67,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,vn)),t["\u0275did"](69,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,hn)),t["\u0275did"](71,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cn)),t["\u0275did"](73,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](74,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](75,0,null,null,2,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](76,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](77,212992,null,0,j.o,[j.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null),(l()(),t["\u0275eld"](78,0,null,null,12,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isConversationsVisible=e)&&t),t},J.b,J.a)),t["\u0275did"](79,12763136,null,0,q.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](80,0,null,0,10,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](81,0,null,null,3,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](82,0,null,null,2,"h4",[],null,null,null,null,null)),(l()(),t["\u0275eld"](83,0,null,null,0,"i",[["class","fa fa-comments"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Collaborate"])),(l()(),t["\u0275eld"](85,0,null,null,5,"div",[["class","pane-body-wo-footer pane-body-grey"]],null,null,null,null,null)),(l()(),t["\u0275eld"](86,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](87,0,null,null,3,"app-conversations",[["allowAsk","true"],["allowDiscuss","true"],["allowNote","true"],["allowTask","true"]],null,[[null,"conversationAdded"],[null,"conversationClosed"]],function(l,n,e){var t=!0,u=l.component;return"conversationAdded"===n&&(t=!1!==u.onPrimaryConversationAdded(e)&&t),"conversationClosed"===n&&(t=!1!==u.onPrimaryConversationClosed(e)&&t),t},Il,dl)),t["\u0275did"](88,49152,null,0,rl.a,[U.o,t.ChangeDetectorRef],{conversations:[0,"conversations"],type:[1,"type"],allowDiscuss:[2,"allowDiscuss"],allowAsk:[3,"allowAsk"],allowNote:[4,"allowNote"],allowTask:[5,"allowTask"],selectedText:[6,"selectedText"],conversationContext:[7,"conversationContext"],entityContext:[8,"entityContext"],contextToken:[9,"contextToken"],editorVisible:[10,"editorVisible"]},{conversationAdded:"conversationAdded",conversationClosed:"conversationClosed"}),t["\u0275pod"](89,{key:0,value:1}),t["\u0275pad"](90,1),(l()(),t["\u0275eld"](91,0,null,null,3,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isAttachmentsEditorVisible=e)&&t),t},J.b,J.a)),t["\u0275did"](92,12763136,null,0,q.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](93,0,null,0,1,"app-attachments",[],null,null,null,ql,Vl)),t["\u0275did"](94,49152,null,0,Dl,[L.d,U.o,j.a,I.a],{token:[0,"token"]},null),(l()(),t["\u0275eld"](95,0,null,null,3,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isStagesEditorVisible=e)&&t),t},J.b,J.a)),t["\u0275did"](96,12763136,null,0,q.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](97,0,null,0,1,"app-stages-editor",[],null,null,null,nn,Xl)),t["\u0275did"](98,114688,null,0,Kl,[U.o],{journeyCode:[0,"journeyCode"],stages:[1,"stages"]},null),(l()(),t["\u0275eld"](99,0,null,null,3,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isActivitiesEditorVisible=e)&&t),t},J.b,J.a)),t["\u0275did"](100,12763136,null,0,q.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](101,0,null,0,1,"app-activities-editor",[],null,null,null,sn,tn)),t["\u0275did"](102,114688,null,0,en,[U.o],{journeyCode:[0,"journeyCode"],activities:[1,"activities"]},null)],function(l,n){var e=n.component;l(n,5,0,!e.editTitle),l(n,7,0,e.editTitle),l(n,11,0,"bottom-right"),l(n,39,0,"bottom-right"),l(n,67,0,!e.editSummary&&!e.record.summary),l(n,69,0,!e.editSummary&&e.record.summary),l(n,71,0,e.editSummary),l(n,73,0,!e.record||!e.record.stages||0===e.record.stages.length||!e.record.activities||0===e.record.activities.length),l(n,77,0),l(n,79,0,"right","ui-sidebar-md","false",e.isConversationsVisible);var t=e.record.conversations,u=e.record.selectedText,o=l(n,90,0,l(n,89,0,"journeymap",e.record.title));l(n,88,1,[t,"Discuss","true","true","true","true",u,o,e.entityContexts.Journeymap,e.record.code,e.details.addingConversation]),l(n,92,0,"right","ui-sidebar-md","false",e.isAttachmentsEditorVisible),l(n,94,0,e.record.code),l(n,96,0,"right","ui-sidebar-md","false",e.isStagesEditorVisible),l(n,98,0,e.record.code,e.record.stages),l(n,100,0,"right","ui-sidebar-md","false",e.isActivitiesEditorVisible),l(n,102,0,e.record.code,e.record.activities)},function(l,n){l(n,10,0,t["\u0275nov"](n,11).isOpen()),l(n,14,0,t["\u0275nov"](n,15).dropdown.isOpen()),l(n,18,0,!0,t["\u0275nov"](n,19).dropdown.isOpen(),t["\u0275nov"](n,19).placement),l(n,38,0,t["\u0275nov"](n,39).isOpen()),l(n,42,0,t["\u0275nov"](n,43).dropdown.isOpen()),l(n,46,0,!0,t["\u0275nov"](n,47).dropdown.isOpen(),t["\u0275nov"](n,47).placement)})}function bn(l){return t["\u0275vid"](2,[(l()(),t["\u0275and"](16777216,null,null,2,null,yn)),t["\u0275did"](1,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,V.AsyncPipe,[t.ChangeDetectorRef])],function(l,n){var e=n.component;l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform(e.details$)))},null)}function _n(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-journeymap-container",[],null,null,null,bn,pn)),t["\u0275did"](1,49152,null,0,x,[j.a,j.k,U.o],null,null)],null,null)}var kn=t["\u0275ccf"]("app-journeymap-container",x,_n,{},{},[]),Rn=e("QvwM"),On=function(){function l(l){var n=this;this.store=l,this._stageActivity={},this.changelog=[],this.deletedRecords=[],this.onRemoveRecord=function(l){var e=n.records.splice(l,1);if(e&&e.length>0){var t=e[0];t.id&&(t.isDeleted=!0,n.deletedRecords.push(t),n.changelog.push("Record removed: "+t.title))}},this.dndDropped=function(l){return console.log("dndDropped",l)},this.canSave=function(){return n.changelog.length>0}}return Object.defineProperty(l.prototype,"stageActivity",{get:function(){return this._stageActivity},set:function(l){this._stageActivity=l,this.reset()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.reset()},l.prototype.onEditTitle=function(l){l.oldTitle=l.title,l.isEditMode=!0},l.prototype.canUpdateTitle=function(l){return l.title&&l.title.trim().length>0&&l.title!==l.oldTitle},l.prototype.onUpdateTitle=function(l){l.oldTitle!==l.title&&(l.isDirty=!0,this.changelog.push("Title changed: "+l.oldTitle+" -> "+l.title)),l.isEditMode=!1},l.prototype.onCancelTitle=function(l){l.title=l.oldTitle,l.isEditMode=!1},l.prototype.onAddRecord=function(){this.records=this.records||[],this.panelCntr=this.records.length+1;var l={title:"Record "+this.panelCntr,isEditMode:!0,isDirty:!0,sequence:this.panelCntr,activityId:this.stageActivity.stageId,stageId:this.stageActivity.stageId};this.records.push(l),this.changelog.push("Record added: "+l.title)},l.prototype.onRemoveMovedRecord=function(l,n){n.splice(n.indexOf(l),1),this.changelog.push("Record moved: "+l.title)},l.prototype.submit=function(){this.records.forEach(function(l,n){l.sequence!==n&&(l.sequence=n,l.isDirty=!0)});var l=S.filter(this.records,{isDirty:!0});this.deletedRecords.length>0&&(l=S.union(l,this.deletedRecords));var n=S.cloneDeep(this.stageActivity);n.items=l,console.log(n),this.store.dispatch(new m({record:n,column:o.Items}))},l.prototype.reset=function(){this.changelog=[],this.deletedRecords=[],this.stageActivity&&(this.records=S.cloneDeep(this.stageActivity.items)||[])},l}(),Mn=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Change title"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onUpdateTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-check text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Reset"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],null,function(l,n){l(n,1,0,!n.component.canUpdateTitle(n.parent.context.$implicit))})}function Sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","click to edit title"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-pencil-alt"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Remove stage"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemoveRecord(l.parent.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times text-danger"]],null,null,null,null,null))],null,null)}function wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,19,"div",[["class","mb-3"]],null,[[null,"dndMoved"],[null,"dragstart"],[null,"dragend"],[null,"click"]],function(l,n,e){var u=!0,o=l.component;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,1).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,1).handleDragEnd(e)&&u),"click"===n&&(u=!1!==t["\u0275nov"](l,1).handleClick(e)&&u),"dndMoved"===n&&(u=!1!==o.onRemoveMovedRecord(l.context.$implicit,o.records)&&u),u},null,null)),t["\u0275did"](1,212992,null,0,Bl.a,[t.ElementRef,Gl.a],{option:[0,"option"],dndType:[1,"dndType"],dndObject:[2,"dndObject"]},{dndMoved:"dndMoved"}),t["\u0275pod"](2,{effectAllowed:0}),(l()(),t["\u0275eld"](3,0,null,null,16,"div",[["class","input-group input-group-cf-field-toolbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"span",[["class","input-group-text text-muted"],["dndHandle",""],["style","cursor:move"]],null,[[null,"dragstart"],[null,"dragend"]],function(l,n,e){var u=!0;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,6).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,6).handleDragEnd(e)&&u),u},null,null)),t["\u0275did"](6,16384,null,0,zl.a,[t.ElementRef,Gl.a],null,null),(l()(),t["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-grip-vertical text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,7,"textarea",[["aria-describedby","basic-addon1"],["aria-label","record title"],["autosize",""],["class","form-control"],["placeholder","record title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.control.enter"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,9)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,9).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,9)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,9)._compositionEnd(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,14).onInput(e.target)&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.title=e)&&u),"keyup.control.enter"===n&&(u=!1!==o.onUpdateTitle(l.context.$implicit)&&u),"keyup.esc"===n&&(u=!1!==o.onCancelTitle(l.context.$implicit)&&u),u},null,null)),t["\u0275did"](9,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](11,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](13,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](14,2768896,null,0,il.a,[t.ElementRef,t.NgZone],{minRows:[0,"minRows"],maxRows:[1,"maxRows"]},null),t["\u0275did"](15,1720320,null,0,R.s,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xn)),t["\u0275did"](17,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Sn)),t["\u0275did"](19,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=l(n,2,0,"move");l(n,1,0,e,"sai",n.context.$implicit),l(n,11,0,!n.context.$implicit.isEditMode,n.context.$implicit.title),l(n,14,0,0,5),l(n,15,0,n.context.$implicit.isEditMode),l(n,17,0,n.context.$implicit.isEditMode),l(n,19,0,!n.context.$implicit.isEditMode)},function(l,n){l(n,8,0,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending)})}function In(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function An(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-muted mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Changelog: "])),(l()(),t["\u0275eld"](3,0,null,null,2,"ul",[["class","small "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,In)),t["\u0275did"](5,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.changelog)},null)}function En(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,24,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Manage records"])),(l()(),t["\u0275eld"](4,0,null,null,13,"div",[["class","pane-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,[["placeholder",1]],null,0,"div",[["class","dndPlaceholder col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,5,"div",[],null,[[null,"dragenter"],[null,"dragover"],[null,"drop"],[null,"dragleave"]],function(l,n,e){var u=!0;return"dragenter"===n&&(u=!1!==t["\u0275nov"](l,8).handleDragEnter(e)&&u),"dragover"===n&&(u=!1!==t["\u0275nov"](l,8).handleDragOver(e)&&u),"drop"===n&&(u=!1!==t["\u0275nov"](l,8).handleDrop(e)&&u),"dragleave"===n&&(u=!1!==t["\u0275nov"](l,8).handleDragLeave(e)&&u),u},null,null)),t["\u0275did"](8,212992,null,0,Hl.a,[t.ElementRef,Gl.a],{option:[0,"option"],dndModel:[1,"dndModel"],dndPlaceholder:[2,"dndPlaceholder"]},null),t["\u0275pad"](9,1),t["\u0275pod"](10,{allowedTypes:0,effectAllowed:1}),(l()(),t["\u0275and"](16777216,null,null,1,null,wn)),t["\u0275did"](12,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](13,0,null,null,2,"button",[["class","btn btn-outline-primary btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddRecord()&&t),t},null,null)),(l()(),t["\u0275eld"](14,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Add new stage"])),(l()(),t["\u0275and"](16777216,null,null,1,null,An)),t["\u0275did"](17,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,null,6,"div",[["class","pane-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"button",[["class","btn btn-primary mr-1"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.submit()&&t),t},null,null)),(l()(),t["\u0275eld"](20,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Save changes"])),(l()(),t["\u0275eld"](22,0,null,null,2,"button",[["class","btn btn-default"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reset()&&t),t},null,null)),(l()(),t["\u0275eld"](23,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reset"]))],function(l,n){var e=n.component,u=l(n,10,0,l(n,9,0,"sai"),"move");l(n,8,0,u,e.records,t["\u0275nov"](n,6)),l(n,12,0,e.records),l(n,17,0,e.changelog&&e.changelog.length>0)},function(l,n){var e=n.component;l(n,19,0,!e.canSave()),l(n,22,0,!e.canSave())})}var Pn=t["\u0275crt"]({encapsulation:0,styles:[['.journeymap[_ngcontent-%COMP%]{border-width:0}.journeymap[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{padding:.25rem}.journeymap[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;vertical-align:top}.journeymap[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{background-color:#fafafa;border-bottom:1px solid #eee}.journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-width:0}.journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:before{border-left:10px solid hsla(0,0%,73%,.3);margin-left:1px}.journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:after, .journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:before{content:" ";display:block;width:0;height:0;border-top:21px solid transparent;border-bottom:21px solid transparent;position:absolute;top:50%;margin-top:-21px;left:100%;z-index:3}.journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:after{border-left:10px solid #fff}.journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{background-color:#fff}.callouts[_ngcontent-%COMP%]{padding-left:8pt;max-width:290px}.callouts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding:15px;margin-bottom:8pt;background-color:#fff;border:1px solid #c1c1c1;border-radius:6px;box-shadow:0 0 10px #c1c1c1}.callouts--left[_ngcontent-%COMP%]:before{content:"";position:absolute;width:0;height:0;left:-22px;top:6px;border:10px solid transparent;border-right:12px solid rgba(193,193,193,.5);z-index:2}.callouts--left[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0;left:-19px;top:8px;border:8px solid transparent;border-right:11px solid #fff;z-index:3}'],[".journeymap-blue[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#02c1f9;color:#fff;border-width:0}.journeymap-blue[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i.fa-paint-brush[_ngcontent-%COMP%]{background-color:#02c1f9;padding:2pt;color:#fff;border:1px solid #aaa}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#ecfbff}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){background-color:#dff9ff}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background-color:#ccf4ff}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4){background-color:#c1f1ff}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(5){background-color:#a8ecff}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(n+6){background-color:#95e8ff;border-bottom:1px solid #00c4fd}"],[".journeymap-green[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#408080;color:#fff;border-width:0}.journeymap-green[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i.fa-paint-brush[_ngcontent-%COMP%]{background-color:#408080;padding:2pt;color:#fff;border:1px solid #aaa}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#f1f8f8}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){background-color:#e6f2f2}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background-color:#dceded}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4){background-color:#d2e8e8}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(5){background-color:#c6e1e1}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(n+6){background-color:#b4d6d6;border-bottom:1px solid #bff7ff}"],[".journeymap-teal[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#808040;color:#222;border-width:0}.journeymap-teal[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i.fa-paint-brush[_ngcontent-%COMP%]{background-color:#808040;padding:2pt;border:1px solid #aaa}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#f8f8ef}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){background-color:#f2f2e3}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background-color:#ececd7}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4){background-color:#e3e3c6}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(5){background-color:#d9d9b0}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(n+6){background-color:#d0d09f;border-bottom:1px solid #ddd}"],[".journeymap-default[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#eee}.journeymap-default[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#fafafa}"],[".journeymap-maroon[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#c7491f;color:#fff;border-width:0}.journeymap-maroon[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i.fa-paint-brush[_ngcontent-%COMP%]{background-color:#c7491f;padding:2pt;color:#fff;border:1px solid #aaa}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#fdf5f2}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){background-color:#fae6de}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background-color:#fae2da}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4){background-color:#f9d8cc}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(5){background-color:#f8d1c2}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(n+6){background-color:#f7c6b3;border-bottom:1px solid #f09775}"],[".journeymap-aqua[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#00acbf;color:#fff;border-width:0}.journeymap-aqua[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i.fa-paint-brush[_ngcontent-%COMP%]{background-color:#00acbf;padding:2pt;color:#fff;border:1px solid #aaa}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#ecfcff}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){background-color:#dffaff}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background-color:#cff9ff}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4){background-color:#bff8ff}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(5){background-color:#aff4ff}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(n+6){background-color:#9febff;border-bottom:1px solid #bff7ff}"]],data:{}});function Tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,B.NgSelectOption,[t.ElementRef,t.Renderer2,[2,B.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,B["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.title)})}function Nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,2).onTouched()&&u),"click"===n&&(u=!1!==o.onPersonaSelected()&&u),"ngModelChange"===n&&(u=!1!==(o.selectedPersonaId=e)&&u),u},null,null)),t["\u0275did"](2,16384,null,0,B.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.SelectControlValueAccessor]),t["\u0275did"](4,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](6,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Tn)),t["\u0275did"](8,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.showPersonaSelector=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,4,0,e.selectedPersonaId),l(n,8,0,e.personas)},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function Dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"i",[["class","text-muted small"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-user-tie"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No personas defined. "])),(l()(),t["\u0275eld"](3,0,null,null,3,"a",[["class","btn btn-link btn-sm"],["routerLink","/personas"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,4).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),t["\u0275did"](4,671744,null,0,j.m,[j.k,j.a,V.LocationStrategy],{routerLink:[0,"routerLink"]},null),(l()(),t["\u0275ted"](-1,null,["Manage "])),(l()(),t["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-external-link-alt"]],null,null,null,null,null))],function(l,n){l(n,4,0,"/personas")},function(l,n){l(n,3,0,t["\u0275nov"](n,4).target,t["\u0275nov"](n,4).href)})}function Vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,Nn)),t["\u0275did"](2,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,V.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,Dn)),t["\u0275did"](5,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform(e.personas$))&&e.personas&&e.personas.length>0),l(n,5,0,!e.personas||0===e.personas.length)},null)}function jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.showPersonaSelector=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-user-tie"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Associate persona"]))],null,null)}function $n(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.showPersonaSelector=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","hover-border"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"img",[["class","float-left mr-2 pb-1"],["ngxGravatar",""],["size","50"]],null,null,null,null,null)),t["\u0275did"](3,606208,null,0,Rn.b,[t.ElementRef,t.Renderer2,Rn.c],{src:[0,"src"],email:[1,"email"],size:[2,"size"]},null),(l()(),t["\u0275eld"](4,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"small",[["class","small text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["PERSONA"])),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[["style","margin-top:-4pt"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""]))],function(l,n){var e=n.component;l(n,3,0,e.record.persona.photoUrl,e.record.persona.photo,"50")},function(l,n){l(n,8,0,n.component.record.persona.title)})}function Fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,jn)),t["\u0275did"](2,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,$n)),t["\u0275did"](4,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,!e.record.persona),l(n,4,0,e.record.persona)},null)}function Un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","hover-border "]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-link btn-sm hover-button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-pencil-alt text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""]))],null,function(l,n){l(n,5,0,n.parent.context.$implicit.title)})}function Ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"input",[["autofocus",""],["class","form-control"],["placeholder","stage title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,3)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,3).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionEnd(e.target.value)&&u),"keyup.enter"===n&&(u=!1!==o.updateStageTitle(l.parent.context.$implicit)&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.title=e)&&u),"keyup.esc"===n&&(u=0!=(l.parent.context.$implicit.edit=!1)&&u),u},null,null)),t["\u0275did"](3,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](5,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](7,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](8,1720320,null,0,R.s,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275eld"](9,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateStageTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],function(l,n){l(n,5,0,n.parent.context.$implicit.title),l(n,8,0,n.parent.context.$implicit.edit)},function(l,n){var e=n.component;l(n,2,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending),l(n,10,0,!e.canUpdateStageTitle(n.parent.context.$implicit))})}function Jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["style","width:320px"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Un)),t["\u0275did"](3,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ln)),t["\u0275did"](5,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,3,0,!n.context.$implicit.edit),l(n,5,0,n.context.$implicit.edit)},null)}function qn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","hover-border "]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-link btn-sm hover-button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-pencil-alt text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "]))],null,function(l,n){l(n,4,0,n.parent.context.$implicit.title)})}function Bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"input",[["autofocus",""],["class","form-control"],["placeholder","activity title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,3)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,3).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionEnd(e.target.value)&&u),"keyup.enter"===n&&(u=!1!==o.updateActivityTitle(l.parent.context.$implicit)&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.title=e)&&u),"keyup.esc"===n&&(u=0!=(l.parent.context.$implicit.edit=!1)&&u),u},null,null)),t["\u0275did"](3,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](5,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](7,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](8,1720320,null,0,R.s,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275eld"](9,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateActivityTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],function(l,n){l(n,5,0,n.parent.context.$implicit.title),l(n,8,0,n.parent.context.$implicit.edit)},function(l,n){var e=n.component;l(n,2,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending),l(n,10,0,!e.canUpdateActivityTitle(n.parent.context.$implicit))})}function Gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","hover-border "]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-link btn-sm hover-button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-pencil-alt text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"ngx-md",[["class","small"]],null,null,null,el.b,el.a)),t["\u0275did"](5,4243456,null,0,tl.a,[tl.c,t.ElementRef,t.PLATFORM_ID],{data:[0,"data"]},null)],function(l,n){l(n,5,0,n.parent.context.$implicit.title)},null)}function zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"textarea",[["autosize",""],["class","form-control form-control-sm"],["placeholder","stage activity title"],["style","min-width:275px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.control.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,2)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,2).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionEnd(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,7).onInput(e.target)&&u),"keyup.control.enter"===n&&(u=!1!==o.updateStageActivityItem(l.parent.parent.parent.context.$implicit,l.parent.context.$implicit)&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.title=e)&&u),"keyup.esc"===n&&(u=0!=(l.parent.context.$implicit.edit=!1)&&u),u},null,null)),t["\u0275did"](2,16384,null,0,B.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,B.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[B.DefaultValueAccessor]),t["\u0275did"](4,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](6,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),t["\u0275did"](7,2768896,null,0,il.a,[t.ElementRef,t.NgZone],{minRows:[0,"minRows"],maxRows:[1,"maxRows"]},null),t["\u0275did"](8,1720320,null,0,R.s,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275eld"](9,0,null,null,9,"div",[["class","row mt-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteStageActivityItem(l.parent.parent.parent.context.$implicit,l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-times text-danger"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,5,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,4,"div",[["class","btn-group btn-group-sm"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateStageActivityItem(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](16,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](18,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],function(l,n){l(n,4,0,n.parent.context.$implicit.title),l(n,7,0,2,6),l(n,8,0,n.parent.context.$implicit.edit)},function(l,n){var e=n.component;l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,15,0,!e.canUpdateStageActivityItem(n.parent.context.$implicit))})}function Hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"li",[],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,V.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](2,{"list-group-item":0,"callouts--left":1}),(l()(),t["\u0275and"](16777216,null,null,1,null,Gn)),t["\u0275did"](4,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,zn)),t["\u0275did"](6,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=l(n,2,0,e.activityTypeEnum.List,n.parent.parent.parent.parent.context.$implicit.type===e.activityTypeEnum.Callout);l(n,1,0,t),l(n,4,0,!n.context.$implicit.edit),l(n,6,0,n.context.$implicit.edit)},null)}function Kn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","text-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"ul",[],null,null,null,null,null)),t["\u0275did"](2,278528,null,0,V.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{"list-group list-group-flush list-group-sm":0,callouts:1}),(l()(),t["\u0275and"](16777216,null,null,1,null,Hn)),t["\u0275did"](5,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](6,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xa0"])),(l()(),t["\u0275eld"](8,0,null,null,3,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.parent.context.$implicit.edit=e)&&t),t},J.b,J.a)),t["\u0275did"](9,12763136,null,0,q.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](10,0,null,0,1,"app-stage-activity-items-editor",[],null,null,null,En,Mn)),t["\u0275did"](11,114688,null,0,On,[U.o],{stageActivity:[0,"stageActivity"]},null)],function(l,n){var e=n.component,t=l(n,3,0,n.parent.parent.parent.context.$implicit.type===e.activityTypeEnum.List,n.parent.parent.parent.context.$implicit.type===e.activityTypeEnum.Callout);l(n,2,0,t),l(n,5,0,n.parent.context.$implicit.items),l(n,9,0,"right","ui-sidebar-md","false",n.parent.context.$implicit.edit),l(n,11,0,n.parent.context.$implicit)},null)}function Xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,15,"div",[["class","btn-group btn-group-sm btn-group-toggle"],["name","radioBasic"],["ngbRadioGroup",""],["role","group"],["style","background-color:#fff;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.parent.context.$implicit.booleanValue=e)&&t),t},null,null)),t["\u0275did"](2,16384,null,0,ul.M,[],{name:[0,"name"]},null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[ul.M]),t["\u0275did"](4,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](6,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),(l()(),t["\u0275eld"](7,0,null,null,4,"label",[["class","btn-outline-success"],["ngbButtonLabel",""]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,ul.g,[],null,null),(l()(),t["\u0275eld"](9,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,10).onChange()&&u),"focus"===n&&(u=0!=(t["\u0275nov"](l,10).focused=!0)&&u),"blur"===n&&(u=0!=(t["\u0275nov"](l,10).focused=!1)&&u),"change"===n&&(u=!1!==o.onChange(l.parent.context.$implicit,o.stageActivityColumn.BooleanValue)&&u),u},null,null)),t["\u0275did"](10,147456,null,0,ul.L,[ul.M,ul.g,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,[" True "])),(l()(),t["\u0275eld"](12,0,null,null,4,"label",[["class","btn-outline-danger"],["ngbButtonLabel",""]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),t["\u0275did"](13,16384,null,0,ul.g,[],null,null),(l()(),t["\u0275eld"](14,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,15).onChange()&&u),"focus"===n&&(u=0!=(t["\u0275nov"](l,15).focused=!0)&&u),"blur"===n&&(u=0!=(t["\u0275nov"](l,15).focused=!1)&&u),"change"===n&&(u=!1!==o.onChange(l.parent.context.$implicit,o.stageActivityColumn.BooleanValue)&&u),u},null,null)),t["\u0275did"](15,147456,null,0,ul.L,[ul.M,ul.g,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,[" False "]))],function(l,n){l(n,2,0,"radioBasic"),l(n,4,0,"radioBasic",n.parent.context.$implicit.booleanValue),l(n,10,0,!0),l(n,15,0,!1)},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,7,0,!0,t["\u0275nov"](n,8).active,t["\u0275nov"](n,8).disabled,t["\u0275nov"](n,8).focused),l(n,9,0,t["\u0275nov"](n,10).checked,t["\u0275nov"](n,10).disabled,t["\u0275nov"](n,10).nameAttr),l(n,12,0,!0,t["\u0275nov"](n,13).active,t["\u0275nov"](n,13).disabled,t["\u0275nov"](n,13).focused),l(n,14,0,t["\u0275nov"](n,15).checked,t["\u0275nov"](n,15).disabled,t["\u0275nov"](n,15).nameAttr)})}function Zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,21,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,20,"div",[["class","btn-group btn-group-sm btn-group-toggle"],["name","radioBasic"],["ngbRadioGroup",""],["role","group"],["style","background-color:#fff;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.parent.context.$implicit.sentimentValue=e)&&t),t},null,null)),t["\u0275did"](2,16384,null,0,ul.M,[],{name:[0,"name"]},null),t["\u0275prd"](1024,null,B.NG_VALUE_ACCESSOR,function(l){return[l]},[ul.M]),t["\u0275did"](4,671744,null,0,B.NgModel,[[8,null],[8,null],[8,null],[6,B.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,B.NgControl,null,[B.NgModel]),t["\u0275did"](6,16384,null,0,B.NgControlStatus,[[4,B.NgControl]],null,null),(l()(),t["\u0275eld"](7,0,null,null,4,"label",[["class","btn-outline-danger"],["ngbButtonLabel",""],["title","negative"]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,ul.g,[],null,null),(l()(),t["\u0275eld"](9,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,10).onChange()&&u),"focus"===n&&(u=0!=(t["\u0275nov"](l,10).focused=!0)&&u),"blur"===n&&(u=0!=(t["\u0275nov"](l,10).focused=!1)&&u),"change"===n&&(u=!1!==o.onChange(l.parent.context.$implicit,o.stageActivityColumn.SentimentValue)&&u),u},null,null)),t["\u0275did"](10,147456,null,0,ul.L,[ul.M,ul.g,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],{value:[0,"value"]},null),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","far fa-frown"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,4,"label",[["class","btn-outline-secondary"],["ngbButtonLabel",""],["title","neutral"]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),t["\u0275did"](13,16384,null,0,ul.g,[],null,null),(l()(),t["\u0275eld"](14,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,15).onChange()&&u),"focus"===n&&(u=0!=(t["\u0275nov"](l,15).focused=!0)&&u),"blur"===n&&(u=0!=(t["\u0275nov"](l,15).focused=!1)&&u),"change"===n&&(u=!1!==o.onChange(l.parent.context.$implicit,o.stageActivityColumn.SentimentValue)&&u),u},null,null)),t["\u0275did"](15,147456,null,0,ul.L,[ul.M,ul.g,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],{value:[0,"value"]},null),(l()(),t["\u0275eld"](16,0,null,null,0,"i",[["class","far fa-meh"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,4,"label",[["class","btn-outline-success"],["ngbButtonLabel",""],["title","positive"]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),t["\u0275did"](18,16384,null,0,ul.g,[],null,null),(l()(),t["\u0275eld"](19,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,20).onChange()&&u),"focus"===n&&(u=0!=(t["\u0275nov"](l,20).focused=!0)&&u),"blur"===n&&(u=0!=(t["\u0275nov"](l,20).focused=!1)&&u),"change"===n&&(u=!1!==o.onChange(l.parent.context.$implicit,o.stageActivityColumn.SentimentValue)&&u),u},null,null)),t["\u0275did"](20,147456,null,0,ul.L,[ul.M,ul.g,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],{value:[0,"value"]},null),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","far fa-smile"]],null,null,null,null,null))],function(l,n){l(n,2,0,"radioBasic"),l(n,4,0,"radioBasic",n.parent.context.$implicit.sentimentValue),l(n,10,0,-1),l(n,15,0,0),l(n,20,0,1)},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,7,0,!0,t["\u0275nov"](n,8).active,t["\u0275nov"](n,8).disabled,t["\u0275nov"](n,8).focused),l(n,9,0,t["\u0275nov"](n,10).checked,t["\u0275nov"](n,10).disabled,t["\u0275nov"](n,10).nameAttr),l(n,12,0,!0,t["\u0275nov"](n,13).active,t["\u0275nov"](n,13).disabled,t["\u0275nov"](n,13).focused),l(n,14,0,t["\u0275nov"](n,15).checked,t["\u0275nov"](n,15).disabled,t["\u0275nov"](n,15).nameAttr),l(n,17,0,!0,t["\u0275nov"](n,18).active,t["\u0275nov"](n,18).disabled,t["\u0275nov"](n,18).focused),l(n,19,0,t["\u0275nov"](n,20).checked,t["\u0275nov"](n,20).disabled,t["\u0275nov"](n,20).nameAttr)})}function Yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,34,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,15,"div",[["class","float-right btn btn-link btn-sm text-muted"],["ngbDropdown",""],["placement","bottom-right"],["style","margin-top:-8pt;margin-right:-8pt;"]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](2,212992,null,2,ul.t,[t.ChangeDetectorRef,ul.v,V.DOCUMENT,t.NgZone],{placement:[0,"placement"]},null),t["\u0275qud"](335544320,1,{_menu:0}),t["\u0275qud"](335544320,2,{_anchor:0}),(l()(),t["\u0275eld"](5,0,null,null,3,"a",[["aria-haspopup","true"],["class","hide-caret dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,6).toggleOpen()&&u),u},null,null)),t["\u0275did"](6,16384,null,0,ul.y,[ul.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[2,4]],ul.u,null,[ul.y]),(l()(),t["\u0275eld"](8,0,null,null,0,"i",[["class","fa fa-ellipsis-v"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,7,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](10,16384,[[1,4]],0,ul.w,[ul.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275eld"](11,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.context.$implicit.edit=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"i",[["class","far fa-sun fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Manage"])),(l()(),t["\u0275eld"](14,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openConversationsEditor(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](15,0,null,null,0,"i",[["class","far fa-comments fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Collaborate"])),(l()(),t["\u0275eld"](17,0,null,null,10,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md text-left"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.context.$implicit.comments=e)&&t),t},J.b,J.a)),t["\u0275did"](18,12763136,null,0,q.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](19,0,null,0,8,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,3,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"h4",[],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,0,"i",[["class","fa fa-comments"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Collaborate"])),(l()(),t["\u0275eld"](24,0,null,null,3,"div",[["class","pane-body-wo-footer pane-body-grey"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,1,"app-conversations",[["allowAsk","true"],["allowDiscuss","true"],["allowNote","true"],["allowTask","true"]],null,[[null,"conversationAdded"],[null,"conversationClosed"]],function(l,n,e){var t=!0,u=l.component;return"conversationAdded"===n&&(t=!1!==u.onSAConversationAdded(e,l.context.$implicit)&&t),"conversationClosed"===n&&(t=!1!==u.onSAConversationClosed(e,l.context.$implicit)&&t),t},Il,dl)),t["\u0275did"](27,49152,null,0,rl.a,[U.o,t.ChangeDetectorRef],{conversations:[0,"conversations"],type:[1,"type"],allowDiscuss:[2,"allowDiscuss"],allowAsk:[3,"allowAsk"],allowNote:[4,"allowNote"],allowTask:[5,"allowTask"],conversationContext:[6,"conversationContext"],parentContext:[7,"parentContext"],parentToken:[8,"parentToken"],entityContext:[9,"entityContext"],contextToken:[10,"contextToken"],editorVisible:[11,"editorVisible"]},{conversationAdded:"conversationAdded",conversationClosed:"conversationClosed"}),(l()(),t["\u0275eld"](28,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Kn)),t["\u0275did"](30,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Xn)),t["\u0275did"](32,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Zn)),t["\u0275did"](34,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"bottom-right"),l(n,18,0,"right","ui-sidebar-md text-left","false",n.context.$implicit.comments),l(n,27,1,[n.context.$implicit.conversations,"Note","true","true","true","true",n.context.$implicit.conversationContext,e.entityContexts.Journeymap,e.record.code,e.entityContexts.StageActivity,n.context.$implicit.code,n.context.$implicit.addingConversation]),l(n,30,0,n.parent.parent.context.$implicit.type===e.activityTypeEnum.List||n.parent.parent.context.$implicit.type===e.activityTypeEnum.Callout),l(n,32,0,n.parent.parent.context.$implicit.type===e.activityTypeEnum.Boolean),l(n,34,0,n.parent.parent.context.$implicit.type===e.activityTypeEnum.Sentiment)},function(l,n){l(n,1,0,t["\u0275nov"](n,2).isOpen()),l(n,5,0,t["\u0275nov"](n,6).dropdown.isOpen()),l(n,9,0,!0,t["\u0275nov"](n,10).dropdown.isOpen(),t["\u0275nov"](n,10).placement)})}function Wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Yn)),t["\u0275did"](2,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.getStageActivity(n.parent.context.$implicit,n.context.$implicit))},null)}function Qn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,qn)),t["\u0275did"](3,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bn)),t["\u0275did"](5,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Wn)),t["\u0275did"](7,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,!n.context.$implicit.edit),l(n,5,0,n.context.$implicit.edit),l(n,7,0,e.record.stages)},null)}function le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"table",[],[[8,"className",0]],null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,5,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,4,"div",[["style","width:250px"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vn)),t["\u0275did"](7,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fn)),t["\u0275did"](9,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Jn)),t["\u0275did"](11,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Qn)),t["\u0275did"](14,278528,null,0,V.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,7,0,e.showPersonaSelector),l(n,9,0,!e.showPersonaSelector),l(n,11,0,e.record.stages),l(n,14,0,e.record.activities)},function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"table-bordered journeymap journeymap-",n.component.record.theme,""))})}function ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,le)),t["\u0275did"](1,16384,null,0,V.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.record)},null)}function ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-journeymap-details",[],null,null,null,ne,Pn)),t["\u0275did"](1,49152,null,0,A,[U.o,I.a],null,null)],null,null)}var te=t["\u0275ccf"]("app-journeymap-details",A,ee,{},{},[]),ue=e("4Vzq"),oe=e("1bD0"),ie=e("/CeA"),ae=e("HF1C"),re=e("grLa"),de=e("Fa87"),ce=e("VSng"),se=e("h5lK"),pe=e("g4HV"),ge=e("pODc"),fe=e("38E1"),me=e("G5kV"),ve=e("gKem"),he=e("kAZL"),Ce=e("yqyW"),ye=e("mrSG"),be=function(l,n){switch(console.log("stageActivityReducer",n),n.type){case r.UpdateSASucceeded:return ye.__assign({},l,{items:n.payload.items});case r.AttachSAConversations:return ye.__assign({},l,{conversations:n.payload.conversations});case r.AddSAConversation:return(e=l.conversations||{total:0,records:[]}).total=e.total+1,e.records.push(n.payload),ye.__assign({},l,{conversations:ye.__assign({},l.conversations,{total:e.total,records:e.records})});case r.CloseSAConversation:var e,t=S.find((e=l.conversations).records,{code:n.payload.code});return t&&(t.isClosed=n.payload.isClosed,t.closedOn=n.payload.closedOn,t.closedById=n.payload.closedById),ye.__assign({},l,{conversations:ye.__assign({},l.conversations,{total:e.total,records:e.records})})}return l};function _e(l,n){switch(n.type){case r.LoadJourneymaps:return ye.__assign({},l,{listLoading:!0,listLoaded:!1,filter:n.payload});case r.LoadJourneymapsSucceeded:return n.payload&&n.payload.records&&n.payload.records.forEach(function(l){l.current=!1}),ye.__assign({},l,{listLoading:!1,listLoaded:!0,journeymaps:n.payload});case r.ResetJourneymapSelection:return l.journeymaps&&l.journeymaps.records&&l.journeymaps.records.forEach(function(l){return l.current=!1}),ye.__assign({},l,{details:null});case r.CreateJourneymap:return ye.__assign({},l,{creating:!0,created:null});case r.CreateJourneymapSucceeded:return(e=l.journeymaps.records).push(n.payload),ye.__assign({},l,{creating:!1,created:n.payload,journeymaps:ye.__assign({},l.journeymaps,{total:l.journeymaps.total+1,records:e})});case r.LoadJourneymapDetails:return ye.__assign({},l,{selected:n.payload});case r.LoadJourneymapDetailsSucceeded:return(t=ke(l,n.payload))&&t.record&&((c=t.record).stageActivities=[],c.activities&&c.activities.length>0&&c.activities.forEach(function(l){c.stages&&c.stages.length>0&&c.stages.forEach(function(n){c.stageActivities.push(function(l,n,e){var t=S.find(n.activities,{activityId:l.id});return t||n.activities.push(t={isDirty:!0,journeymapCode:e,activityId:l.id,stageId:n.id,booleanValue:null,sentimentValue:null,items:[]}),t.code=t.stageId+"_"+t.activityId,t.conversationContext=[{key:"Stage",value:n.title},{key:"Activity",value:l.title}],t}(l,n,c.code))})})),ye.__assign({},l,{selected:null,details:t,journeymaps:ye.__assign({},l.journeymaps,{records:l.journeymaps?l.journeymaps.records:null})});case r.CreateJourneymap:return ye.__assign({},l,{creating:!0,created:null});case r.CreateJourneymapSucceeded:var e;return(e=l.journeymaps.records).push(n.payload),ye.__assign({},l,{creating:!1,created:n.payload,journeymaps:ye.__assign({},l.journeymaps,{total:l.journeymaps.total+1,records:e})});case r.UpdateJourneymap:return ye.__assign({},l,{updating:!0,updated:null});case r.UpdateJourneymapSucceeded:var t=ke(l,n.payload.record);return ye.__assign({},l,{selected:null,updating:!1,updated:t,details:t});case r.AttachPrimaryConversations:return ye.__assign({},l,{conversations:n.payload.conversations});case r.AddPrimaryConversation:return(u=l.conversations||{total:0,records:[]}).total=u.total+1,u.records.push(n.payload),ye.__assign({},l,{conversations:ye.__assign({},l.conversations,{total:u.total,records:u.records})});case r.ClosePrimaryConversation:var u,o=S.find((u=l.conversations).records,{code:n.payload.code});return o&&(o.isClosed=n.payload.isClosed,o.closedOn=n.payload.closedOn,o.closedById=n.payload.closedById),ye.__assign({},l,{conversations:ye.__assign({},l.conversations,{total:u.total,records:u.records})});case r.UpdateSASucceeded:return ye.__assign({},l,{details:ye.__assign({},l.details,{record:ye.__assign({},l.details.record,{stageActivities:l.details.record.stageActivities.map(function(l){return l.stageId===n.payload.stageId&&l.activityId===n.payload.activityId?be(l,n):l})})})});case r.AttachSAConversations:case r.AddSAConversation:case r.CloseSAConversation:var a=i,d=n.payload?Object(M.a)(n.payload.contextToken):null;return ye.__assign({},l,{details:ye.__assign({},l.details,{record:ye.__assign({},l.details.record,{stageActivities:l.details.record.stageActivities.map(function(l){return l.code===n.payload.contextToken||d&&d.entityContext===a.StageActivity&&d.contextToken===l.code?be(l,n):l})})})});default:return l}var c}function ke(l,n){var e=l.journeymaps?l.journeymaps.records:null,t={prevPage:1===l.filter.pageIndex?null:l.filter.pageIndex-1,prev:null,record:n,next:null,nextPage:l.filter.pageIndex*l.filter.pageSize>(l.journeymaps?l.journeymaps.total:0)?null:l.filter.pageIndex+1};if(e){var u=e.length-1,o=S.findIndex(e,{code:n.code});o>=0&&(e.forEach(function(l){l.current=!1}),e[o].current=!0),o>0&&o<=u&&(t.prev=e[o-1].code),o>=0&&o<u&&(t.next=e[o+1].code)}return t}var Re=e("jYNz"),Oe=e("PhIK"),Me=e("d78H"),xe=e("VKiE"),Se=e("15JJ"),we=e("67Y/"),Ie=e("9Z1F"),Ae=e("F/XL"),Ee=function(l){function n(n){var e=l.call(this,{headers:{servicename:"journeys-api"}})||this;return e.httpClient=n,e.baseUrl="/journeymaps",e.updateJourneymap$=function(l){return e.extendPayload(l,null),e.httpClient.put(e.baseUrl+"/"+l.record.code,l,e.options)},e.updateStageActivity$=function(l){return e.extendPayload(l,null),e.httpClient.put(e.baseUrl+"/"+l.record.journeymapCode+"/stages/"+l.record.stageId+"/activities/"+l.record.activityId,l,e.options)},e}return ye.__extends(n,l),n.prototype.getList$=function(l){return this.httpClient.get(this.baseUrl,this.buildHttpOptions(l))},n.prototype.getDetails$=function(l){return this.httpClient.get(this.baseUrl+"/"+l,this.buildHttpOptions({}))},n.prototype.createJourneymap$=function(l){return this.extendPayload(l,null),this.httpClient.post(this.baseUrl,l,this.options)},n.ngInjectableDef=t.defineInjectable({factory:function(){return new n(t.inject(Pl.HttpClient))},token:n,providedIn:"root"}),n}(R.a),Pe=function(){function l(l,n){var e=this;this.actions$=l,this.journeymapsService=n,this.loadJourneymaps=this.actions$.pipe(Object(Re.d)(r.LoadJourneymaps),Object(Se.a)(function(l){return e.journeymapsService.getList$(l.payload).pipe(Object(we.a)(function(l){return{type:r.LoadJourneymapsSucceeded,payload:l}}),Object(Ie.a)(function(){return Object(Ae.a)({type:r.LoadJourneymapsFailed})}))})),this.loadJourneymapDetails=this.actions$.pipe(Object(Re.d)(r.LoadJourneymapDetails),Object(Se.a)(function(l){return e.journeymapsService.getDetails$(l.payload).pipe(Object(we.a)(function(l){return{type:r.LoadJourneymapDetailsSucceeded,payload:l}}),Object(Ie.a)(function(){return Object(Ae.a)({type:r.LoadJourneymapsFailed})}))})),this.updateJourneymap=this.actions$.pipe(Object(Re.d)(r.UpdateJourneymap),Object(Se.a)(function(l){return e.journeymapsService.updateJourneymap$(l.payload).pipe(Object(we.a)(function(n){return{type:r.UpdateJourneymapSucceeded,payload:{record:n,column:l.payload.column}}}),Object(Ie.a)(function(){return Object(Ae.a)({type:r.UpdateJourneymapFailed})}))})),this.updateStageActivity=this.actions$.pipe(Object(Re.d)(r.UpdateSA),Object(Se.a)(function(l){return e.journeymapsService.updateStageActivity$(l.payload).pipe(Object(we.a)(function(l){return{type:r.UpdateSASucceeded,payload:l}}),Object(Ie.a)(function(){return Object(Ae.a)({type:r.UpdateSAFailed})}))})),this.createJourneymap=this.actions$.pipe(Object(Re.d)(r.CreateJourneymap),Object(Se.a)(function(l){return e.journeymapsService.createJourneymap$(l.payload).pipe(Object(we.a)(function(l){return{type:r.CreateJourneymapSucceeded,payload:l}}),Object(Ie.a)(function(){return Object(Ae.a)({type:r.CreateJourneymapFailed})}))}))}return l.ngInjectableDef=t.defineInjectable({factory:function(){return new l(t.inject(Re.a),t.inject(Ee))},token:l,providedIn:"root"}),ye.__decorate([Object(Re.b)(),ye.__metadata("design:type",Object)],l.prototype,"loadJourneymaps",void 0),ye.__decorate([Object(Re.b)(),ye.__metadata("design:type",Object)],l.prototype,"loadJourneymapDetails",void 0),ye.__decorate([Object(Re.b)(),ye.__metadata("design:type",Object)],l.prototype,"updateJourneymap",void 0),ye.__decorate([Object(Re.b)(),ye.__metadata("design:type",Object)],l.prototype,"updateStageActivity",void 0),ye.__decorate([Object(Re.b)(),ye.__metadata("design:type",Object)],l.prototype,"createJourneymap",void 0),l}(),Te=e("YMiO"),Ne=e("GS5F"),De=e("WwML"),Ve=e("Qs4e");e.d(n,"JourneyMapsModuleNgFactory",function(){return je});var je=t["\u0275cmf"](E,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[P.a,P.b,P.h,P.i,P.e,P.f,P.g,T.a,N.a,D.a,D.p,nl,kn,te]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,V.NgLocalization,V.NgLocaleLocalization,[t.LOCALE_ID,[2,V["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,B["\u0275angular_packages_forms_forms_j"],B["\u0275angular_packages_forms_forms_j"],[]),t["\u0275mpd"](4608,B.FormBuilder,B.FormBuilder,[]),t["\u0275mpd"](4608,ul.A,ul.A,[t.ComponentFactoryResolver,t.Injector,ul.kb,ul.B]),t["\u0275mpd"](4608,Pl.HttpXsrfTokenExtractor,Pl["\u0275angular_packages_common_http_http_g"],[V.DOCUMENT,t.PLATFORM_ID,Pl["\u0275angular_packages_common_http_http_e"]]),t["\u0275mpd"](4608,Pl["\u0275angular_packages_common_http_http_h"],Pl["\u0275angular_packages_common_http_http_h"],[Pl.HttpXsrfTokenExtractor,Pl["\u0275angular_packages_common_http_http_f"]]),t["\u0275mpd"](4608,ue.MessageService,ue.MessageService,[]),t["\u0275mpd"](5120,Pl.HTTP_INTERCEPTORS,function(l,n,e,t){return[l,new oe.b(n),new R.e(e),new R.l(t)]},[Pl["\u0275angular_packages_common_http_http_h"],ie.c,ue.MessageService,u.a]),t["\u0275mpd"](4608,Pl["\u0275angular_packages_common_http_http_d"],Pl["\u0275angular_packages_common_http_http_d"],[]),t["\u0275mpd"](6144,Pl.XhrFactory,null,[Pl["\u0275angular_packages_common_http_http_d"]]),t["\u0275mpd"](4608,Pl.HttpXhrBackend,Pl.HttpXhrBackend,[Pl.XhrFactory]),t["\u0275mpd"](6144,Pl.HttpBackend,null,[Pl.HttpXhrBackend]),t["\u0275mpd"](4608,Pl.HttpHandler,Pl["\u0275HttpInterceptingHandler"],[Pl.HttpBackend,t.Injector]),t["\u0275mpd"](4608,Pl.HttpClient,Pl.HttpClient,[Pl.HttpHandler]),t["\u0275mpd"](4608,tl.c,tl.c,[Pl.HttpClient,al.DomSanitizer]),t["\u0275mpd"](4608,Gl.a,Gl.a,[]),t["\u0275mpd"](4608,R.c,R.c,[U.o,j.k]),t["\u0275mpd"](4608,R.j,R.j,[]),t["\u0275mpd"](1073742336,V.CommonModule,V.CommonModule,[]),t["\u0275mpd"](1073742336,B["\u0275angular_packages_forms_forms_bc"],B["\u0275angular_packages_forms_forms_bc"],[]),t["\u0275mpd"](1073742336,B.FormsModule,B.FormsModule,[]),t["\u0275mpd"](1073742336,B.ReactiveFormsModule,B.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,ul.c,ul.c,[]),t["\u0275mpd"](1073742336,ul.f,ul.f,[]),t["\u0275mpd"](1073742336,ul.h,ul.h,[]),t["\u0275mpd"](1073742336,ul.l,ul.l,[]),t["\u0275mpd"](1073742336,ul.n,ul.n,[]),t["\u0275mpd"](1073742336,ul.s,ul.s,[]),t["\u0275mpd"](1073742336,ul.x,ul.x,[]),t["\u0275mpd"](1073742336,ul.C,ul.C,[]),t["\u0275mpd"](1073742336,ul.G,ul.G,[]),t["\u0275mpd"](1073742336,ul.H,ul.H,[]),t["\u0275mpd"](1073742336,ul.K,ul.K,[]),t["\u0275mpd"](1073742336,ul.P,ul.P,[]),t["\u0275mpd"](1073742336,ul.S,ul.S,[]),t["\u0275mpd"](1073742336,ul.W,ul.W,[]),t["\u0275mpd"](1073742336,ul.X,ul.X,[]),t["\u0275mpd"](1073742336,ul.Y,ul.Y,[]),t["\u0275mpd"](1073742336,ul.D,ul.D,[]),t["\u0275mpd"](1073742336,ae.a,ae.a,[]),t["\u0275mpd"](1073742336,re.MentionModule,re.MentionModule,[]),t["\u0275mpd"](1073742336,Rn.a,Rn.a,[]),t["\u0275mpd"](1073742336,de.InputTextModule,de.InputTextModule,[]),t["\u0275mpd"](1073742336,ce.ButtonModule,ce.ButtonModule,[]),t["\u0275mpd"](1073742336,Tl.SharedModule,Tl.SharedModule,[]),t["\u0275mpd"](1073742336,se.AutoCompleteModule,se.AutoCompleteModule,[]),t["\u0275mpd"](1073742336,Pl.HttpClientXsrfModule,Pl.HttpClientXsrfModule,[]),t["\u0275mpd"](1073742336,Pl.HttpClientModule,Pl.HttpClientModule,[]),t["\u0275mpd"](1073742336,tl.b,tl.b,[]),t["\u0275mpd"](1073742336,q.SidebarModule,q.SidebarModule,[]),t["\u0275mpd"](1073742336,pe.TooltipModule,pe.TooltipModule,[]),t["\u0275mpd"](1073742336,ge.TabViewModule,ge.TabViewModule,[]),t["\u0275mpd"](1073742336,$.b,$.b,[]),t["\u0275mpd"](1073742336,fe.a,fe.a,[]),t["\u0275mpd"](1073742336,il.b,il.b,[]),t["\u0275mpd"](1073742336,F.b,F.b,[]),t["\u0275mpd"](1073742336,j.n,j.n,[[2,j.t],[2,j.k]]),t["\u0275mpd"](1073742336,R.n,R.n,[]),t["\u0275mpd"](1073742336,ie.b,ie.b,[]),t["\u0275mpd"](1073742336,oe.a,oe.a,[]),t["\u0275mpd"](1073742336,me.ToastModule,me.ToastModule,[]),t["\u0275mpd"](1073742336,ve.c,ve.c,[]),t["\u0275mpd"](1024,U.F,function(){return[{initialState:{commands:[],currentWorkspace:null,workspaces:[],isLeftPaneCollapsed:!1}},{initialState:{appContext:null,filter:{pageIndex:0,pageSize:25,q:""},result:{query:null,total:0,records:[]},formattedResult:null,created:null,replied:null,closed:null}},{initialState:{loaded:!1,loading:!1,filter:{pageIndex:0,pageSize:25,q:""},attachments:{total:0,records:[]},uploading:!1,uploaded:null,blob:null}},{initialState:{listLoaded:!1,listLoading:!1,archived:!1,filter:{pageIndex:0,pageSize:25,q:""},journeymaps:null,selected:null,details:null,creating:!1,created:null,updating:!1,updated:null,conversations:null}}]},[]),t["\u0275mpd"](1024,U.k,function(){return[{key:"containers",reducerFactory:U.B,metaReducers:[],initialState:{commands:[],currentWorkspace:null,workspaces:[],isLeftPaneCollapsed:!1}},{key:"conversations",reducerFactory:U.B,metaReducers:[],initialState:{appContext:null,filter:{pageIndex:0,pageSize:25,q:""},result:{query:null,total:0,records:[]},formattedResult:null,created:null,replied:null,closed:null}},{key:"attachments",reducerFactory:U.B,metaReducers:[],initialState:{loaded:!1,loading:!1,filter:{pageIndex:0,pageSize:25,q:""},attachments:{total:0,records:[]},uploading:!1,uploaded:null,blob:null}},{key:"journeymaps",reducerFactory:U.B,metaReducers:[],initialState:{listLoaded:!1,listLoading:!1,archived:!1,filter:{pageIndex:0,pageSize:25,q:""},journeymaps:null,selected:null,details:null,creating:!1,created:null,updating:!1,updated:null,conversations:null}}]},[]),t["\u0275mpd"](1024,U.G,U.H,[t.Injector,U.F,U.k]),t["\u0275mpd"](1024,U.s,function(){return[R.p,he.a,Ce.a,_e]},[]),t["\u0275mpd"](1024,U.t,function(l,n,e,t){return[l,n,e,t]},[U.s,U.s,U.s,U.s]),t["\u0275mpd"](1024,U.b,function(l,n,e,t,u,o,i,a,r,d,c,s){return[U.y(l,n,e),U.y(t,u,o),U.y(i,a,r),U.y(d,c,s)]},[t.Injector,U.s,U.t,t.Injector,U.s,U.t,t.Injector,U.s,U.t,t.Injector,U.s,U.t]),t["\u0275mpd"](1073873408,U.p,U.p,[U.G,U.b,U.h,U.q]),t["\u0275mpd"](512,R.q,R.q,[Re.a,j.k,V.Location,R.r]),t["\u0275mpd"](512,Oe.a,Oe.a,[Re.a,U.o,Me.a]),t["\u0275mpd"](512,xe.a,xe.a,[Re.a,U.o,I.a]),t["\u0275mpd"](512,Pe,Pe,[Re.a,Ee]),t["\u0275mpd"](1024,Re.i,function(l,n,e,t){return[Re.e(l),Re.e(n),Re.e(e),Re.e(t)]},[R.q,Oe.a,xe.a,Pe]),t["\u0275mpd"](1073742336,Re.g,Re.g,[Re.f,Re.i,[2,U.q],[2,U.p]]),t["\u0275mpd"](1073742336,R.b,R.b,[]),t["\u0275mpd"](1073742336,Te.a,Te.a,[]),t["\u0275mpd"](1073742336,Ne.ProgressBarModule,Ne.ProgressBarModule,[]),t["\u0275mpd"](1073742336,De.MessagesModule,De.MessagesModule,[]),t["\u0275mpd"](1073742336,El.FileUploadModule,El.FileUploadModule,[]),t["\u0275mpd"](1073742336,Ve.a,Ve.a,[]),t["\u0275mpd"](1073742336,E,E,[]),t["\u0275mpd"](256,Pl["\u0275angular_packages_common_http_http_e"],"XSRF-TOKEN",[]),t["\u0275mpd"](256,Pl["\u0275angular_packages_common_http_http_f"],"X-XSRF-TOKEN",[]),t["\u0275mpd"](1024,j.i,function(){return[[{path:"ws/:wscode",component:R.d},{path:"not-implemented",component:R.o}],[{path:"",component:k,children:[{path:":code",component:x,children:[{path:"details",component:A}]}]}]]},[])])})}}]);