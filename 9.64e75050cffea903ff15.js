(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{K8Pq:function(l,n,e){var t=e("mrSG").__decorate,u=e("mrSG").__metadata;Object.defineProperty(n,"__esModule",{value:!0});var o=e("CcnG"),i=e("Ip0R"),a=e("sdDj"),r=e("gIcY");n.SLIDER_VALUE_ACCESSOR={provide:r.NG_VALUE_ACCESSOR,useExisting:o.forwardRef(function(){return d}),multi:!0};var d=function(){function l(l,n,e,t){this.el=l,this.renderer=n,this.ngZone=e,this.cd=t,this.min=0,this.max=100,this.orientation="horizontal",this.onChange=new o.EventEmitter,this.onSlideEnd=new o.EventEmitter,this.handleValues=[],this.onModelChange=function(){},this.onModelTouched=function(){},this.handleIndex=0}return l.prototype.onMouseDown=function(l,n){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=n,this.bindDragListeners(),l.preventDefault())},l.prototype.onTouchStart=function(l,n){if(!this.disabled){var e=l.changedTouches[0];this.startHandleValue=this.range?this.handleValues[n]:this.handleValue,this.dragging=!0,this.handleIndex=n,"horizontal"===this.orientation?(this.startx=parseInt(e.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(e.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),l.preventDefault()}},l.prototype.onTouchMove=function(l,n){if(!this.disabled){var e,t=l.changedTouches[0];e="horizontal"===this.orientation?Math.floor(100*(parseInt(t.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(t.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(l,e),l.preventDefault()}},l.prototype.onTouchEnd=function(l,n){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:l,values:this.values}:{originalEvent:l,value:this.value}),l.preventDefault())},l.prototype.onBarClick=function(l){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(l)),this.sliderHandleClick=!1)},l.prototype.handleChange=function(l){var n=this.calculateHandleValue(l);this.setValueFromHandle(l,n)},l.prototype.bindDragListeners=function(){var l=this;this.ngZone.runOutsideAngular(function(){l.dragListener||(l.dragListener=l.renderer.listen("document","mousemove",function(n){l.dragging&&l.ngZone.run(function(){l.handleChange(n)})})),l.mouseupListener||(l.mouseupListener=l.renderer.listen("document","mouseup",function(n){l.dragging&&(l.dragging=!1,l.ngZone.run(function(){l.onSlideEnd.emit(l.range?{originalEvent:n,values:l.values}:{originalEvent:n,value:l.value})}))}))})},l.prototype.unbindDragListeners=function(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()},l.prototype.setValueFromHandle=function(l,n){var e=this.getValueFromHandle(n);this.range?this.step?this.handleStepChange(e,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=n,this.updateValue(e,l)):this.step?this.handleStepChange(e,this.value):(this.handleValue=n,this.updateValue(e,l))},l.prototype.handleStepChange=function(l,n){var e=l-n,t=n;e<0?t=n+Math.ceil(l/this.step-n/this.step)*this.step:e>0&&(t=n+Math.floor(l/this.step-n/this.step)*this.step),this.updateValue(t),this.updateHandleValue()},l.prototype.writeValue=function(l){this.range?this.values=l||[0,0]:this.value=l||0,this.updateHandleValue(),this.cd.markForCheck()},l.prototype.registerOnChange=function(l){this.onModelChange=l},l.prototype.registerOnTouched=function(l){this.onModelTouched=l},l.prototype.setDisabledState=function(l){this.disabled=l},Object.defineProperty(l.prototype,"rangeStartLeft",{get:function(){return this.isVertical()?"auto":this.handleValues[0]+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rangeStartBottom",{get:function(){return this.isVertical()?this.handleValues[0]+"%":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rangeEndLeft",{get:function(){return this.isVertical()?"auto":this.handleValues[1]+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rangeEndBottom",{get:function(){return this.isVertical()?this.handleValues[1]+"%":"auto"},enumerable:!0,configurable:!0}),l.prototype.isVertical=function(){return"vertical"===this.orientation},l.prototype.updateDomData=function(){var l=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=l.left+a.DomHandler.getWindowScrollLeft(),this.initY=l.top+a.DomHandler.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight},l.prototype.calculateHandleValue=function(l){return"horizontal"===this.orientation?100*(l.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-l.pageY)/this.barHeight},l.prototype.updateHandleValue=function(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min)},l.prototype.updateValue=function(l,n){if(this.range){var e=l;0==this.handleIndex?e<this.min?(e=this.min,this.handleValues[0]=0):e>this.values[1]&&(e=this.values[1],this.handleValues[0]=this.handleValues[1]):e>this.max?(e=this.max,this.handleValues[1]=100):e<this.values[0]&&(e=this.values[0],this.handleValues[1]=this.handleValues[0]),this.values[this.handleIndex]=this.getNormalizedValue(e),this.onModelChange(this.values),this.onChange.emit({event:n,values:this.values})}else l<this.min?(l=this.min,this.handleValue=0):l>this.max&&(l=this.max,this.handleValue=100),this.value=this.getNormalizedValue(l),this.onModelChange(this.value),this.onChange.emit({event:n,value:this.value})},l.prototype.getValueFromHandle=function(l){return l/100*(this.max-this.min)+this.min},l.prototype.getDecimalsCount=function(l){return l&&Math.floor(l)!==l&&l.toString().split(".")[1].length||0},l.prototype.getNormalizedValue=function(l){var n=this.getDecimalsCount(this.step);return n>0?+l.toFixed(n):Math.floor(l)},l.prototype.ngOnDestroy=function(){this.unbindDragListeners()},t([o.Input(),u("design:type",Boolean)],l.prototype,"animate",void 0),t([o.Input(),u("design:type",Boolean)],l.prototype,"disabled",void 0),t([o.Input(),u("design:type",Number)],l.prototype,"min",void 0),t([o.Input(),u("design:type",Number)],l.prototype,"max",void 0),t([o.Input(),u("design:type",String)],l.prototype,"orientation",void 0),t([o.Input(),u("design:type",Number)],l.prototype,"step",void 0),t([o.Input(),u("design:type",Boolean)],l.prototype,"range",void 0),t([o.Input(),u("design:type",Object)],l.prototype,"style",void 0),t([o.Input(),u("design:type",String)],l.prototype,"styleClass",void 0),t([o.Output(),u("design:type",o.EventEmitter)],l.prototype,"onChange",void 0),t([o.Output(),u("design:type",o.EventEmitter)],l.prototype,"onSlideEnd",void 0),t([o.Component({selector:"p-slider",template:'\n        <div [ngStyle]="style" [class]="styleClass" [ngClass]="{\'ui-slider ui-widget ui-widget-content ui-corner-all\':true,\'ui-state-disabled\':disabled,\n            \'ui-slider-horizontal\':orientation == \'horizontal\',\'ui-slider-vertical\':orientation == \'vertical\',\'ui-slider-animate\':animate}"\n            (click)="onBarClick($event)">\n            <span *ngIf="range && orientation == \'horizontal\'" class="ui-slider-range ui-widget-header ui-corner-all" [ngStyle]="{\'left\':handleValues[0] + \'%\',width: (handleValues[1] - handleValues[0] + \'%\')}"></span>\n            <span *ngIf="range && orientation == \'vertical\'" class="ui-slider-range ui-widget-header ui-corner-all" [ngStyle]="{\'bottom\':handleValues[0] + \'%\',height: (handleValues[1] - handleValues[0] + \'%\')}"></span>\n            <span *ngIf="!range && orientation==\'vertical\'" class="ui-slider-range ui-slider-range-min ui-widget-header ui-corner-all" [ngStyle]="{\'height\': handleValue + \'%\'}"></span>\n            <span *ngIf="!range && orientation==\'horizontal\'" class="ui-slider-range ui-slider-range-min ui-widget-header ui-corner-all" [ngStyle]="{\'width\': handleValue + \'%\'}"></span>\n            <span *ngIf="!range" class="ui-slider-handle ui-state-default ui-corner-all ui-clickable" (mousedown)="onMouseDown($event)" (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)" (touchend)="onTouchEnd($event)"\n                [style.transition]="dragging ? \'none\': null" [ngStyle]="{\'left\': orientation == \'horizontal\' ? handleValue + \'%\' : null,\'bottom\': orientation == \'vertical\' ? handleValue + \'%\' : null}"></span>\n            <span *ngIf="range" (mousedown)="onMouseDown($event,0)" (touchstart)="onTouchStart($event,0)" (touchmove)="onTouchMove($event,0)" (touchend)="onTouchEnd($event)" [style.transition]="dragging ? \'none\': null" class="ui-slider-handle ui-state-default ui-corner-all ui-clickable" \n                [ngStyle]="{\'left\': rangeStartLeft, \'bottom\': rangeStartBottom}" [ngClass]="{\'ui-slider-handle-active\':handleIndex==0}"></span>\n            <span *ngIf="range" (mousedown)="onMouseDown($event,1)" (touchstart)="onTouchStart($event,1)" (touchmove)="onTouchMove($event,1)" (touchend)="onTouchEnd($event)" [style.transition]="dragging ? \'none\': null" class="ui-slider-handle ui-state-default ui-corner-all ui-clickable" \n                [ngStyle]="{\'left\': rangeEndLeft, \'bottom\': rangeEndBottom}" [ngClass]="{\'ui-slider-handle-active\':handleIndex==1}"></span>\n        </div>\n    ',providers:[n.SLIDER_VALUE_ACCESSOR]})],l)}();n.Slider=d,n.SliderModule=function(){return t([o.NgModule({imports:[i.CommonModule],exports:[d],declarations:[d]})],function(){})}()},sOnn:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=e("yGQT"),o=e("W4AR"),i={Items:"Items",BooleanValue:"BooleanValue",SentimentValue:"SentimentValue"},a={Journeymap:"jm",Persona:"p",StageActivity:"sa"},r={List:1,Callout:2,Stats:3,Boolean:4,Sentiment:5},d={CreateJourneymap:Object(o.g)("[CreateJourneyMap]"),CreateJourneymapSucceeded:Object(o.g)("[CreateJourneyMap] Success"),CreateJourneymapFailed:Object(o.g)("[CreateJourneyMap] Fail"),ResetJourneymapSelection:Object(o.g)("[ResetJourneyMapSelection]"),LoadJourneymaps:Object(o.g)("[LoadJourneyMaps]"),LoadJourneymapsSucceeded:Object(o.g)("[LoadJourneyMaps] Success"),LoadJourneymapsFailed:Object(o.g)("[LoadJourneyMaps] Fail"),LoadJourneymapDetails:Object(o.g)("[LoadJourneyMapDetails]"),LoadJourneymapDetailsSucceeded:Object(o.g)("[LoadJourneyMapDetails] Success"),LoadJourneymapDetailsFailed:Object(o.g)("[LoadJourneyMapDetails] Fail"),UpdateJourneymap:Object(o.g)("[UpdateJourneyMap]"),UpdateJourneymapSucceeded:Object(o.g)("[UpdateJourneyMap] Success"),UpdateJourneymapFailed:Object(o.g)("[UpdateJourneyMap] Fail"),ArchiveJourneymap:Object(o.g)("[ArchiveJourneyMapAction]"),ArchiveJourneymapSucceeded:Object(o.g)("[ArchiveJourneyMapAction] Succeeded"),ArchiveJourneymapFailed:Object(o.g)("[ArchiveJourneyMapAction] Fail"),AttachPrimaryConversations:Object(o.g)("[AttachPrimaryConversations]"),AddPrimaryConversation:Object(o.g)("[AddPrimaryConversation]"),ClosePrimaryConversation:Object(o.g)("[ClosePrimaryConversation]"),UpdateSA:Object(o.g)("[UpdateSA]"),UpdateSASucceeded:Object(o.g)("[UpdateSASucceeded] Success"),UpdateSAFailed:Object(o.g)("[UpdateSAFailed] Fail"),AttachSAConversations:Object(o.g)("[AttachStageActivityConversations]"),AddSAConversation:Object(o.g)("[AddStageActivityConversation]"),CloseSAConversation:Object(o.g)("[CloseStageActivityConversation]"),UpdateStageActivityItem:Object(o.g)("[UpdateStageActivityItem]"),UpdateStageActivityItemSucceeded:Object(o.g)("[UpdateStageActivityItem] Success"),UpdateStageActivityItemFailed:Object(o.g)("[UpdateStageActivityItem] Fail")},s=function(){return function(l){this.payload=l,this.type=d.LoadJourneymaps}}(),c=function(){return function(l){this.payload=l,this.type=d.CreateJourneymap}}(),p=function(){return function(){this.type=d.ResetJourneymapSelection}}(),g=function(){return function(l){this.payload=l,this.type=d.LoadJourneymapDetails}}(),f=function(){return function(l){this.payload=l,this.type=d.UpdateJourneymap}}(),m=function(){return function(l){this.payload=l,this.type=d.ArchiveJourneymap}}(),h=function(){return function(l){this.payload=l,this.type=d.UpdateSA}}(),v=function(){return function(l){this.payload=l,this.type=d.AttachPrimaryConversations}}(),y=function(){return function(l){this.payload=l,this.type=d.AddPrimaryConversation}}(),b=function(){return function(l){this.payload=l,this.type=d.ClosePrimaryConversation}}(),C=function(){return function(l){this.payload=l,this.type=d.AttachSAConversations}}(),_=function(){return function(l){this.payload=l,this.type=d.AddSAConversation}}(),R=function(){return function(l){this.payload=l,this.type=d.CloseSAConversation}}(),S=e("VnD/"),O=function(){function l(l,n,e){var t=this;this.store$=l,this.router=n,this.route=e,this.type="",this.isEditorVisible=!1,this.triggerSearch=!1,this.viewType="detail",this.onSearch=function(l){l.currentWS=t.currentWS,t.store$.dispatch(new s(l))},this.onCreate=function(){return t.isEditorVisible=!0},this.wscode=this.route.parent.parent.snapshot.paramMap.get("wscode")}return l.prototype.ngOnInit=function(){var l=this;this.wsSubscription=this.store$.pipe(Object(u.E)(function(l){return l.containers.currentWorkspace}),Object(S.a)(function(l){return null!==l})).subscribe(function(n){return l.currentWS=n}),this.store$.select(function(l){return l.journeymaps.archived}).subscribe(function(n){return n?l.router.navigate(["journeymaps"]):null}),this.store$.select(function(l){return l.journeymaps.created}).subscribe(function(n){n&&(l.isEditorVisible=!1)}),this.result$=this.store$.select(function(l){return l.journeymaps.journeymaps}),this.result$.subscribe(function(n){l.result=n}),this.triggerSearch=!0},l.prototype.ngOnDestroy=function(){this.wsSubscription.unsubscribe()},l.prototype.onHome=function(){this.router.navigate(["../journeymaps"],{relativeTo:this.route}),this.store$.dispatch(new p)},l.prototype.onViewTypeChanged=function(l){this.viewType=l},l}(),k=e("jUk4"),M=e("8OuM"),x=e("RIEr"),w=function(){function l(l,n,e){var t=this;this.route=l,this.router=n,this.store$=e,this.docTypes=a,this.navigationCommands=[],this.pCode="code",this.editTitle=!1,this.editSummary=!1,this.isActivitiesEditorVisible=!1,this.isStagesEditorVisible=!1,this.isConversationsVisible=!1,this.isAttachmentsEditorVisible=!1,this.canUpdateTitle=function(){return t.record.title&&t.record.title.trim().length>0},this.canUpdateSummary=function(){return t.record.title&&t.record.title.trim().length>0},this.canSave=function(){return!1}}return l.prototype.ngOnInit=function(){var l=this;this.wsSubscription=this.store$.pipe(Object(u.E)(function(l){return l.containers.currentWorkspace}),Object(S.a)(function(l){return null!==l})).subscribe(function(n){l.currentWS=n,console.log("this.currentWS",l.currentWS)}),this.subscribeRouteParams(),this.subscribeJourneyMapDetails(),this.subscribeJourneyMapConversations(),this.subscribeJourneyMapUpdated()},l.prototype.ngOnDestroy=function(){this.wsSubscription.unsubscribe()},l.prototype.subscribeRouteParams=function(){var l=this;this.route.params.subscribe(function(n){n[l.pCode]&&(console.log("params[this.pCode],this.currentWS",n[l.pCode],l.currentWS),l.store$.dispatch(new g({code:n[l.pCode],currentWS:l.currentWS})))})},l.prototype.subscribeJourneyMapDetails=function(){var l=this;this.details$=this.store$.select(function(l){return l.journeymaps.details}),this.details$.subscribe(function(n){if(n){l.details=n,l.record=n.record,l.store$.dispatch(new k.k),l.isStagesEditorVisible=!1,l.isActivitiesEditorVisible=!1;var e=Object(x.a)(l.record.code+":"+l.docTypes.Journeymap+":"+l.record.code);l.store$.dispatch(new M.e(e))}})},l.prototype.subscribeJourneyMapConversations=function(){var l=this;this.store$.select(function(l){return l.journeymaps.conversations}).subscribe(function(n){return n?l.record.conversations=n:null}),this.store$.select(function(l){return l.conversations.formattedResult}).subscribe(function(n){if(n)switch(n.docType){case l.docTypes.Journeymap:l.store$.dispatch(new v(n))}})},l.prototype.subscribeJourneyMapUpdated=function(){},l.prototype.updateTitle=function(){this.canUpdateTitle()&&(this.store$.dispatch(new f({record:{code:this.record.code,title:this.record.title},column:"Title"})),this.editTitle=!1)},l.prototype.updateSummary=function(){this.canUpdateSummary()&&(this.store$.dispatch(new f({record:{code:this.record.code,summary:this.record.summary},column:"Summary"})),this.editSummary=!1)},l.prototype.updateTheme=function(l){this.record.theme=l,this.store$.dispatch(new f({record:{code:this.record.code,theme:l},column:"Theme"}))},l.prototype.onArchiveJourneyMap=function(){!0===confirm("Are you sure you want to delete the workspace?")&&this.store$.dispatch(new m({workspaceCode:this.record.code}))},l.prototype.closeAllEditors=function(){this.isConversationsVisible=!1,this.isStagesEditorVisible=!1,this.isActivitiesEditorVisible=!1,this.isAttachmentsEditorVisible=!1},l.prototype.openAttachmentsEditor=function(){this.closeAllEditors(),this.isAttachmentsEditorVisible=!0},l.prototype.openStagesEditor=function(){this.closeAllEditors(),this.isStagesEditorVisible=!0},l.prototype.openConversationsEditor=function(){this.closeAllEditors(),this.isConversationsVisible=!0},l.prototype.openActivitiesEditor=function(){this.closeAllEditors(),this.isActivitiesEditorVisible=!0},l.prototype.onPrimaryConversationAdded=function(l){l&&l.docType===this.docTypes.Journeymap&&this.store$.dispatch(new y(l.conversation))},l.prototype.onPrimaryConversationClosed=function(l){l&&l.docType===this.docTypes.Journeymap&&this.store$.dispatch(new b(l.conversation))},l}(),I=e("LvDl"),E=e("AmrC"),T=e("jQqf"),A=function(){function l(l,n){var e=this;this.store$=l,this.attachmentService=n,this.docTypes=a,this.activityTypeEnum=r,this.stageActivityColumn=i,this.zoom=100,this.canUpdatePersona=function(){return e.selectedPersonaId&&e.selectedPersonaId>0},this.canUpdateStageTitle=function(l){return l.title&&l.title.trim().length>0},this.canUpdateActivityTitle=function(l){return l.title&&l.title.trim().length>0},this.canUpdateStageActivityItem=function(l){return l.title&&l.title.trim().length>0},this.details$=this.store$.select(function(l){return l.journeymaps.details}),this.details$.subscribe(function(l){if(l&&l.record&&(e.record=l.record,e.record.theme||(e.record.theme="default"),e.record.persona)){var n=e.record.persona;n.photo&&n.photo.length>0&&e.attachmentService.download$(n.code,n.photo).subscribe(function(l){var e=new FileReader;e.addEventListener("load",function(){return n.photoUrl=e.result}),l&&e.readAsDataURL(l)})}}),this.personas$=this.store$.select(function(l){return l.personas.personas}),this.personas$.subscribe(function(l){l&&l.records&&(e.personas=l.records)}),this.store$.dispatch(new E.e({})),this.store$.select(function(l){return l.conversations.formattedResult}).subscribe(function(l){if(l)switch(l.docType){case e.docTypes.StageActivity:e.store$.dispatch(new C(l))}})}return l.prototype.onPersonaSelected=function(){this.canUpdatePersona()&&this.store$.dispatch(new f({record:{code:this.record.code,persona:{id:this.selectedPersonaId}},column:"Persona"}))},l.prototype.updateStageTitle=function(l){this.canUpdateStageTitle(l)&&(l.isDirty=!0,this.store$.dispatch(new f({record:{code:this.record.code,stages:[l]},column:"Stages"})),l.edit=!1)},l.prototype.updateActivityTitle=function(l){this.canUpdateActivityTitle(l)&&(l.isDirty=!0,this.store$.dispatch(new f({record:{code:this.record.code,activities:[l]},column:"Activities"})),l.edit=!1)},l.prototype.getStageActivity=function(l,n){return I.find(this.record.stageActivities,{stageId:n.id,activityId:l.id})},l.prototype.updateStageActivityItem=function(l,n){if(this.canUpdateStageTitle(n)){n.isDirty=!0;var e=I.cloneDeep(l);e.items=[n],this.store$.dispatch(new h({record:e,column:i.Items})),n.edit=!1}},l.prototype.deleteStageActivityItem=function(l,n){n.isDeleted=!0;var e=I.cloneDeep(l);e.items=[n],this.store$.dispatch(new h({record:e,column:i.Items})),n.edit=!1},l.prototype.onChange=function(l,n){this.store$.dispatch(new h({record:l,column:n}))},l.prototype.openConversationsEditor=function(l){l.comments=!0;var n=Object(x.a)("undefined:"+this.docTypes.StageActivity+":"+l.code+":"+this.docTypes.Journeymap+":"+this.record.code);this.store$.dispatch(new M.e(n))},l.prototype.onSAConversationAdded=function(l,n){l&&l.docType===this.docTypes.StageActivity&&l.docCode===n.code&&this.store$.dispatch(new _(l.conversation))},l.prototype.onSAConversationClosed=function(l,n){l&&l.docType===this.docTypes.StageActivity&&l.docCode===n.code&&this.store$.dispatch(new R(l.conversation))},l}(),P=function(){return function(l,n,e){this.route=l,this.router=n,this.store$=e}}(),V=function(){return function(){}}(),D=e("9AJC"),N=e("oAi0"),$=e("pMnS"),j=e("eVFG"),F=e("GQap"),U=e("Ip0R"),L=e("ZYCi"),J=e("jhFJ"),B=e("8uIU"),q=e("HuXx"),z=e("qVCQ"),H=e("Pchq"),G=e("gIcY"),K=function(){function l(l,n){var e=this;this.store$=l,this.formBuilder=n,this.showCodeEditor=!1,this.canSave=function(l){return l.editorForm.invalid},this.submit=function(l){e.store$.dispatch(new c({record:l.editorForm.value,wsId:e.currentWS.id}))},this.editorForm=this.formBuilder.group({code:["",G.Validators.required],title:["",G.Validators.required],summary:[""]}),this.store$.select(function(l){return l.journeymaps.created}).subscribe(function(){e.editorForm.reset(),e.showCodeEditor=!1})}return l.prototype.ngOnInit=function(){var l=this;this.wsSubscription=this.store$.pipe(Object(u.E)(function(l){return l.containers.currentWorkspace}),Object(S.a)(function(l){return null!==l})).subscribe(function(n){return l.currentWS=n})},l.prototype.ngOnDestroy=function(){this.wsSubscription.unsubscribe()},l.prototype.onTitleKeyup=function(l){this.editorForm.patchValue({code:l.target.value.replace(/[^\w]/gi,"").toLocaleLowerCase().slice(0,10)})},l.prototype.reset=function(){this.editorForm.reset()},l}(),W=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function X(l){return t["\u0275vid"](2,[(l()(),t["\u0275eld"](0,0,null,null,52,"div",[["class","container mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,51,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,50,"div",[["class","offset-3 col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,49,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,5).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,5).onReset()&&u),u},null,null)),t["\u0275did"](4,16384,null,0,G["\u0275angular_packages_forms_forms_bh"],[],null,null),t["\u0275did"](5,540672,null,0,G.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,G.ControlContainer,null,[G.FormGroupDirective]),t["\u0275did"](7,16384,null,0,G.NgControlStatusGroup,[[4,G.ControlContainer]],null,null),(l()(),t["\u0275eld"](8,0,null,null,1,"h2",[["class","mt-2 mb-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Lets start mapping a journey"])),(l()(),t["\u0275eld"](10,0,null,null,0,"hr",[["class","custom-shadow"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,25,"div",[["class","form-group mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"h4",[["class","text-muted mb-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Enter a name"])),(l()(),t["\u0275eld"](14,0,null,null,8,"input",[["autofocus",""],["class","form-control custom-shadow"],["formControlName","title"],["id","title"],["placeholder","journeymap name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,15)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,15).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,15)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,15)._compositionEnd(e.target.value)&&u),"keyup"===n&&(u=!1!==o.onTitleKeyup(e)&&u),u},null,null)),t["\u0275did"](15,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](16,16384,null,0,G.RequiredValidator,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,G.NG_VALIDATORS,function(l){return[l]},[G.RequiredValidator]),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](19,671744,null,0,G.FormControlName,[[3,G.ControlContainer],[6,G.NG_VALIDATORS],[8,null],[6,G.NG_VALUE_ACCESSOR],[2,G["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,G.NgControl,null,[G.FormControlName]),t["\u0275did"](21,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](22,1720320,null,0,k.y,[t.ElementRef],null,null),(l()(),t["\u0275eld"](23,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Code"])),(l()(),t["\u0275eld"](25,0,null,null,11,"div",[["class","input-group input-group-sm w-50"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,5,"input",[["class","form-control"],["formControlName","code"],["id","code"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,27)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,27).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,27)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,27)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](27,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](29,671744,null,0,G.FormControlName,[[3,G.ControlContainer],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR],[2,G["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,G.NgControl,null,[G.FormControlName]),t["\u0275did"](31,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),(l()(),t["\u0275eld"](32,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,null,3,"a",[["class","btn btn-light btn-outline-secondary"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=0!=(u.showCodeEditor=!u.showCodeEditor)&&t),t},null,null)),(l()(),t["\u0275eld"](34,0,null,null,2,"i",[["class","fa "]],null,null,null,null,null)),t["\u0275did"](35,278528,null,0,U.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](36,{"fa-pencil-alt":0,"fa-check text-success":1}),(l()(),t["\u0275eld"](37,0,null,null,8,"div",[["class","form-group mb-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,1,"h4",[["class","text-muted mb-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["What is the scenario?"])),(l()(),t["\u0275eld"](40,0,null,null,5,"textarea",[["class","form-control custom-shadow"],["formControlName","summary"],["placeholder","describe the scenario"],["rows","4"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,41)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,41).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,41)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,41)._compositionEnd(e.target.value)&&u),u},null,null)),t["\u0275did"](41,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](43,671744,null,0,G.FormControlName,[[3,G.ControlContainer],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR],[2,G["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,G.NgControl,null,[G.FormControlName]),t["\u0275did"](45,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),(l()(),t["\u0275eld"](46,0,null,null,6,"div",[["class","text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,2,"button",[["class","btn btn-primary custom-shadow mr-1"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.submit(u)&&t),t},null,null)),(l()(),t["\u0275eld"](48,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Save changes"])),(l()(),t["\u0275eld"](50,0,null,null,2,"button",[["class","btn btn-default custom-shadow"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reset()&&t),t},null,null)),(l()(),t["\u0275eld"](51,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reset"]))],function(l,n){var e=n.component;l(n,5,0,e.editorForm),l(n,16,0,""),l(n,19,0,"title"),l(n,29,0,"code");var t=l(n,36,0,!e.showCodeEditor,e.showCodeEditor);l(n,35,0,"fa ",t),l(n,43,0,"summary")},function(l,n){var e=n.component;l(n,3,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending),l(n,14,0,t["\u0275nov"](n,16).required?"":null,t["\u0275nov"](n,21).ngClassUntouched,t["\u0275nov"](n,21).ngClassTouched,t["\u0275nov"](n,21).ngClassPristine,t["\u0275nov"](n,21).ngClassDirty,t["\u0275nov"](n,21).ngClassValid,t["\u0275nov"](n,21).ngClassInvalid,t["\u0275nov"](n,21).ngClassPending),l(n,26,0,!e.showCodeEditor,t["\u0275nov"](n,31).ngClassUntouched,t["\u0275nov"](n,31).ngClassTouched,t["\u0275nov"](n,31).ngClassPristine,t["\u0275nov"](n,31).ngClassDirty,t["\u0275nov"](n,31).ngClassValid,t["\u0275nov"](n,31).ngClassInvalid,t["\u0275nov"](n,31).ngClassPending),l(n,40,0,t["\u0275nov"](n,45).ngClassUntouched,t["\u0275nov"](n,45).ngClassTouched,t["\u0275nov"](n,45).ngClassPristine,t["\u0275nov"](n,45).ngClassDirty,t["\u0275nov"](n,45).ngClassValid,t["\u0275nov"](n,45).ngClassInvalid,t["\u0275nov"](n,45).ngClassPending),l(n,47,0,e.canSave(e))})}var Z=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"p",[["class","mb-1 small text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,1),t["\u0275ppd"](3,3)],null,function(l,n){var e=t["\u0275unv"](n,1,0,l(n,3,0,t["\u0275nov"](n.parent.parent.parent,1),t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent.parent.parent,2),n.parent.context.$implicit.summary)),100,"..."));l(n,1,0,e)})}function Q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"a",[["class","list-group-item list-group-item-action flex-column align-items-start"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),t["\u0275did"](1,278528,null,0,U.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"selected-list-item":0}),t["\u0275did"](3,671744,null,0,L.n,[L.l,L.a,U.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](4,2),(l()(),t["\u0275eld"](5,0,null,null,3,"div",[["class","d-flex w-100 justify-content-between"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"span",[["class","mb-1 text-dark"]],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),t["\u0275ppd"](8,1),(l()(),t["\u0275and"](16777216,null,null,1,null,Y)),t["\u0275did"](10,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.current);l(n,1,0,"list-group-item list-group-item-action flex-column align-items-start",t);var u=l(n,4,0,n.context.$implicit.code,"details");l(n,3,0,u),l(n,10,0,"detail"===e.viewType)},function(l,n){l(n,0,0,t["\u0275nov"](n,3).target,t["\u0275nov"](n,3).href);var e=t["\u0275unv"](n,7,0,l(n,8,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.title));l(n,7,0,e)})}function ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","list-group"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](3,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.result.records)},null)}function nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","alert text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Need a new journey map?"])),(l()(),t["\u0275eld"](4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Journey maps helps you plot an end to end user journey. "])),(l()(),t["\u0275eld"](6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"button",[["class","btn btn-primary custom-shadow"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCreate()&&t),t},null,null)),(l()(),t["\u0275eld"](8,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Add journey map"]))],null,null)}function el(l){return t["\u0275vid"](0,[t["\u0275pid"](0,J.a,[]),t["\u0275pid"](0,J.c,[]),t["\u0275pid"](0,B.c,[]),(l()(),t["\u0275eld"](3,0,null,null,13,"container-splitter",[["leftPaneSize","20"]],null,null,null,j.o,j.h)),t["\u0275did"](4,114688,null,0,k.B,[u.o],{leftPaneSize:[0,"leftPaneSize"]},null),(l()(),t["\u0275eld"](5,0,null,0,7,"container-list",[["icon","fa-map-marked-alt"],["title","Journey maps"],["viewMode","multiple"]],null,[[null,"viewTypeChanged"],[null,"home"],[null,"search"],[null,"create"]],function(l,n,e){var t=!0,u=l.component;return"viewTypeChanged"===n&&(t=!1!==u.onViewTypeChanged(e)&&t),"home"===n&&(t=!1!==u.onHome()&&t),"search"===n&&(t=!1!==u.onSearch(e)&&t),"create"===n&&(t=!1!==u.onCreate()&&t),t},j.p,j.i)),t["\u0275did"](6,49152,null,0,k.C,[q.d],{icon:[0,"icon"],title:[1,"title"],result:[2,"result"],viewMode:[3,"viewMode"],viewType:[4,"viewType"],containerInitiated:[5,"containerInitiated"]},{search:"search",create:"create",home:"home",viewTypeChanged:"viewTypeChanged"}),(l()(),t["\u0275and"](16777216,null,0,2,null,ll)),t["\u0275did"](8,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,U.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,0,2,null,nl)),t["\u0275did"](11,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,U.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](13,0,null,0,3,"p-sidebar",[],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isEditorVisible=e)&&t),t},z.b,z.a)),t["\u0275did"](14,12763136,null,0,H.Sidebar,[t.ElementRef,t.Renderer2],{fullScreen:[0,"fullScreen"],visible:[1,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](15,0,null,0,1,"app-journeymap-editor",[],null,null,null,X,W)),t["\u0275did"](16,245760,null,0,K,[u.o,G.FormBuilder],null,null)],function(l,n){var e=n.component;l(n,4,0,"20"),l(n,6,0,"fa-map-marked-alt","Journey maps",e.result,"multiple",e.viewType,e.triggerSearch),l(n,8,0,t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform(e.result$))&&e.result.total>0),l(n,11,0,!t["\u0275unv"](n,11,0,t["\u0275nov"](n,12).transform(e.result$))||0===e.result.total),l(n,14,0,!0,e.isEditorVisible),l(n,16,0)},null)}function tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-journeymap-home",[],null,null,null,el,Z)),t["\u0275did"](1,245760,null,0,O,[u.o,L.l,L.a],null,null)],function(l,n){l(n,1,0)},null)}var ul=t["\u0275ccf"]("app-journeymap-home",O,tl,{},{},[]),ol=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function il(l){return t["\u0275vid"](2,[(l()(),t["\u0275eld"](0,0,null,null,30,"div",[["class","container mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,28,"div",[["class","offset-3 col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"h2",[["class","mt-2 mb-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Lets start mapping a journey"])),(l()(),t["\u0275eld"](5,0,null,null,0,"hr",[["class","custom-shadow"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,3,"div",[["class","form-group mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"h4",[["class","text-muted mb-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Enter a name"])),(l()(),t["\u0275eld"](9,0,null,null,0,"input",[["class","form-control custom-shadow"],["placeholder","name the journey map"],["type","text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,3,"div",[["class","form-group mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"h4",[["class","text-muted mb-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Who is the primary user?"])),(l()(),t["\u0275eld"](13,0,null,null,0,"input",[["class","form-control custom-shadow"],["placeholder","identify the actor"],["type","text"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,3,"div",[["class","form-group mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"h4",[["class","text-muted mb-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["What is the scenario?"])),(l()(),t["\u0275eld"](17,0,null,null,0,"textarea",[["class","form-control custom-shadow"],["placeholder","map the scenario"],["rows","5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,3,"div",[["class","form-group mb-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"h4",[["class","text-muted mb-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["What are the end goals or expectations?"])),(l()(),t["\u0275eld"](21,0,null,null,0,"textarea",[["class","form-control custom-shadow"],["placeholder","identify goals and expectations"],["rows","5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,8,"div",[["class","text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,2,"button",[["class","btn btn-primary custom-shadow mr-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Create"])),(l()(),t["\u0275eld"](26,0,null,null,4,"a",[["class","btn btn-secondary custom-shadow"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,27).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),t["\u0275did"](27,671744,null,0,L.n,[L.l,L.a,U.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](28,1),(l()(),t["\u0275eld"](29,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Cancel"]))],function(l,n){var e=l(n,28,0,"/routePath");l(n,27,0,e)},function(l,n){l(n,26,0,t["\u0275nov"](n,27).target,t["\u0275nov"](n,27).href)})}function al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-journeymap-create",[],null,null,null,il,ol)),t["\u0275did"](1,49152,null,0,P,[L.a,L.l,u.o],null,null)],null,null)}var rl=t["\u0275ccf"]("app-journeymap-create",P,al,{},{},[]),dl=e("LK7e"),sl=e("nX/Y"),cl=e("4GxJ"),pl=e("SuPe"),gl=e("9fJe"),fl=e("ZYjt"),ml=e("srSj"),hl=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-link btn-sm float-right"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.collapsed=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null))],null,null)}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-link btn-sm float-right"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.collapsed=!0)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,[" details "])),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-angle-down"]],null,null,null,null,null))],null,null)}function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"sub",[["class","small text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275ppd"](3,1),(l()(),t["\u0275eld"](4,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""]))],null,function(l,n){var e=t["\u0275unv"](n,2,0,l(n,3,0,t["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.key));l(n,2,0,e),l(n,5,0,n.context.$implicit.value)})}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](2,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.conversationContext)},null)}function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](2,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](4,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](6,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,e.collapsed),l(n,4,0,!e.collapsed),l(n,6,0,e.collapsed)},null)}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-link btn-sm float-right"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.resetSelectedText()&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,5,"blockquote",[["class","small text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-quote-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275ted"](-1,null,[' " '])),(l()(),t["\u0275eld"](8,0,null,null,0,"i",[["class","fa fa-quote-right"]],null,null,null,null,null))],null,function(l,n){l(n,6,0,n.component.selectedText)})}function Sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","dropdown-item conversation-type"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.add("Discuss")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","far fa-comments fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Discuss"]))],null,null)}function Ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","dropdown-item conversation-type-Ask"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.add("Ask")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","far fa-question-circle fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Ask"]))],null,null)}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","dropdown-item conversation-type-Note"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.add("Note")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","far fa-sticky-note fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Note"]))],null,null)}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","dropdown-item conversation-type-Task"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.add("Task")&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-tasks fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Task"]))],null,null)}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,45,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"button",[["class","btn btn-link btn-sm float-left"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleAll()&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"i",[["class","fa text-muted "]],null,null,null,null,null)),t["\u0275did"](3,278528,null,0,U.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](4,{"fa-angle-double-down":0,"fa-angle-double-up":1}),(l()(),t["\u0275eld"](5,0,null,null,40,"div",[["class","conversation "]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,39,"div",[["style","margin-left:24pt; padding:2pt"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Rl)),t["\u0275did"](8,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](9,16777216,null,null,9,"textarea",[["autocomplete","off"],["autosize",""]],[[8,"className",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"searchTerm"],[null,"keyup.control.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,10)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,10).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,10)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,10)._compositionEnd(e.target.value)&&u),"keydown"===n&&(u=!1!==t["\u0275nov"](l,15).keyHandler(e)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,15).blurHandler(e)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,18).onInput(e.target)&&u),"ngModelChange"===n&&(u=!1!==(o.newConversation=e)&&u),"searchTerm"===n&&(u=!1!==o.searchUsers(e)&&u),"keyup.control.enter"===n&&(u=!1!==o.addConversation()&&u),u},null,null)),t["\u0275did"](10,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](12,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](14,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](15,540672,null,0,pl.MentionDirective,[t.ElementRef,t.ComponentFactoryResolver,t.ViewContainerRef],{mention:[0,"mention"],mentionConfig:[1,"mentionConfig"]},{searchTerm:"searchTerm"}),t["\u0275pod"](16,{labelKey:0,mentionSelect:1}),t["\u0275did"](17,1720320,null,0,k.y,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),t["\u0275did"](18,2768896,null,0,gl.a,[t.ElementRef,t.NgZone],{minRows:[0,"minRows"],maxRows:[1,"maxRows"]},null),(l()(),t["\u0275eld"](19,0,null,null,26,"div",[["style","padding-top:2pt"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,3,"div",[["class","btn-group btn-group-sm float-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addConversation()&&t),t},null,null)),(l()(),t["\u0275eld"](22,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Post"])),(l()(),t["\u0275eld"](24,0,null,null,21,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,18,"div",[["class","btn-group btn-group-sm mr-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,17,"div",[["class","btn btn-default"],["ngbDropdown",""],["placement","bottom-left"]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](27,212992,null,2,cl.t,[t.ChangeDetectorRef,cl.v,U.DOCUMENT,t.NgZone],{placement:[0,"placement"]},null),t["\u0275qud"](335544320,1,{_menu:0}),t["\u0275qud"](335544320,2,{_anchor:0}),(l()(),t["\u0275eld"](30,0,null,null,3,"a",[["aria-haspopup","true"],["class","dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,31).toggleOpen()&&u),u},null,null)),t["\u0275did"](31,16384,null,0,cl.y,[cl.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[2,4]],cl.u,null,[cl.y]),(l()(),t["\u0275ted"](33,null,["",""])),(l()(),t["\u0275eld"](34,0,null,null,9,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](35,16384,[[1,4]],0,cl.w,[cl.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Sl)),t["\u0275did"](37,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ol)),t["\u0275did"](39,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](41,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](43,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](44,0,null,null,1,"help-ctrl-enter-save",[],null,null,null,j.k,j.d)),t["\u0275did"](45,49152,null,0,k.i,[],null,null)],function(l,n){var e=n.component,t=l(n,4,0,e.allCollapsed,!e.allCollapsed);l(n,3,0,"fa text-muted ",t),l(n,8,0,e.selectedText&&e.selectedText.length>0),l(n,12,0,e.newConversation);var u=e.users,o=l(n,16,0,"title",e.mentionSelect);l(n,15,0,u,o),l(n,17,0,1),l(n,18,0,3,6),l(n,27,0,"bottom-left"),l(n,37,0,e.allowDiscuss),l(n,39,0,e.allowAsk),l(n,41,0,e.allowNote),l(n,43,0,e.allowTask)},function(l,n){var e=n.component;l(n,9,0,t["\u0275inlineInterpolate"](1,"form-control form-control-sm conversation-type-",e.type,""),t["\u0275nov"](n,14).ngClassUntouched,t["\u0275nov"](n,14).ngClassTouched,t["\u0275nov"](n,14).ngClassPristine,t["\u0275nov"](n,14).ngClassDirty,t["\u0275nov"](n,14).ngClassValid,t["\u0275nov"](n,14).ngClassInvalid,t["\u0275nov"](n,14).ngClassPending),l(n,26,0,t["\u0275nov"](n,27).isOpen()),l(n,30,0,t["\u0275nov"](n,31).dropdown.isOpen()),l(n,33,0,e.type),l(n,34,0,!0,t["\u0275nov"](n,35).dropdown.isOpen(),t["\u0275nov"](n,35).placement)})}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","text-muted"]],[[8,"title",0]],null,null,null,null)),t["\u0275ppd"](1,2),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","far fa-check-circle"]],null,null,null,null,null))],null,function(l,n){var e=t["\u0275unv"](n,0,0,l(n,1,0,t["\u0275nov"](n.parent.parent.parent.parent,1),n.parent.parent.context.$implicit.closedOn,"medium"));l(n,0,0,e)})}function Il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-link"]],[[8,"title",0],[2,"collapse",null],[2,"show",null]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.markAsClosed(l.parent.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,16384,null,0,cl.m,[],{collapsed:[0,"collapsed"]},null),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","far fa-check-circle"]],null,null,null,null,null))],function(l,n){l(n,1,0,n.parent.parent.context.$implicit.collapsed)},function(l,n){l(n,0,0,"Task"===n.parent.parent.context.$implicit.type?"Mark as done":"Mark as answered",!0,!t["\u0275nov"](n,1).collapsed)})}function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,wl)),t["\u0275did"](2,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Il)),t["\u0275did"](4,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.parent.context.$implicit.isClosed),l(n,4,0,!n.parent.context.$implicit.isClosed)},null)}function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","response"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"b",[["class","mr-1"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),t["\u0275ppd"](5,2),(l()(),t["\u0275eld"](6,0,null,null,2,"ngx-md",[],null,null,null,dl.b,dl.a)),t["\u0275did"](7,4243456,null,0,sl.a,[sl.c,t.ElementRef,t.PLATFORM_ID],{data:[0,"data"]},null),t["\u0275ppd"](8,1)],function(l,n){var e=t["\u0275unv"](n,7,0,l(n,8,0,t["\u0275nov"](n.parent.parent.parent,2),n.context.$implicit.content));l(n,7,0,e)},function(l,n){l(n,2,0,n.context.$implicit.createdById);var e=t["\u0275unv"](n,4,0,l(n,5,0,t["\u0275nov"](n.parent.parent.parent,1),n.context.$implicit.createdOn,"medium"));l(n,4,0,e)})}function Al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","input-group input-group-sm"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"textarea",[["autosize",""],["class","form-control reply"],["placeholder","use ctrl+enter to reply"],["rows","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.control.enter"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,2)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,2).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionEnd(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,8).onInput(e.target)&&u),"keyup.control.enter"===n&&(u=!1!==o.reply(l.parent.context.$implicit)&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.reply=e)&&u),u},null,null)),t["\u0275did"](2,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](4,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](6,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](7,1720320,null,0,k.y,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),t["\u0275did"](8,2768896,null,0,gl.a,[t.ElementRef,t.NgZone],{minRows:[0,"minRows"],maxRows:[1,"maxRows"]},null),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reply(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-reply text-primary"]],null,null,null,null,null))],function(l,n){l(n,4,0,n.parent.context.$implicit.reply),l(n,7,0,n.parent.context.$implicit.replying),l(n,8,0,1,3)},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-sm btn-light btn-reply btn-block"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.replying=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-reply"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reply"]))],null,null)}function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,26,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"button",[["class","btn btn-link btn-sm float-left"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggle(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"i",[["class","fa text-muted "]],null,null,null,null,null)),t["\u0275did"](3,278528,null,0,U.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](4,{"fa-angle-down":0,"fa-angle-up":1}),(l()(),t["\u0275eld"](5,0,null,null,21,"div",[["class","conversation small"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,12,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"div",[["class","float-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,El)),t["\u0275did"](9,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,null,8,"div",[["style","margin-left:16pt;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggle(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"b",[["class","mr-1"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),(l()(),t["\u0275eld"](13,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,["",""])),t["\u0275ppd"](15,2),(l()(),t["\u0275eld"](16,0,null,null,2,"ngx-md",[],null,null,null,dl.b,dl.a)),t["\u0275did"](17,4243456,null,0,sl.a,[sl.c,t.ElementRef,t.PLATFORM_ID],{data:[0,"data"]},null),t["\u0275ppd"](18,1),(l()(),t["\u0275eld"](19,0,null,null,7,"div",[["class","nth"]],[[2,"collapse",null],[2,"show",null]],null,null,null,null)),t["\u0275did"](20,16384,null,0,cl.m,[],{collapsed:[0,"collapsed"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Tl)),t["\u0275did"](22,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Al)),t["\u0275did"](24,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Pl)),t["\u0275did"](26,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=l(n,4,0,n.context.$implicit.collapsed,!n.context.$implicit.collapsed);l(n,3,0,"fa text-muted ",e),l(n,9,0,"Task"===n.context.$implicit.type||"Ask"===n.context.$implicit.type);var u=t["\u0275unv"](n,17,0,l(n,18,0,t["\u0275nov"](n.parent.parent,2),n.context.$implicit.content));l(n,17,0,u),l(n,20,0,n.context.$implicit.collapsed),l(n,22,0,n.context.$implicit.replies),l(n,24,0,n.context.$implicit.replying),l(n,26,0,!n.context.$implicit.replying)},function(l,n){l(n,6,0,t["\u0275inlineInterpolate"](1,"first conversation-type conversation-type-",n.context.$implicit.type,"")),l(n,12,0,n.context.$implicit.createdById);var e=t["\u0275unv"](n,14,0,l(n,15,0,t["\u0275nov"](n.parent.parent,1),n.context.$implicit.createdOn,"medium"));l(n,14,0,e),l(n,19,0,!0,!t["\u0275nov"](n,20).collapsed)})}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](2,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.conversations.records)},null)}function Nl(l){return t["\u0275vid"](0,[t["\u0275pid"](0,U.UpperCasePipe,[]),t["\u0275pid"](0,U.DatePipe,[t.LOCALE_ID]),t["\u0275pid"](0,B.d,[fl.DomSanitizer]),(l()(),t["\u0275and"](16777216,null,null,1,null,_l)),t["\u0275did"](4,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](6,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Dl)),t["\u0275did"](8,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,e.conversationContext&&e.conversationContext.length>0),l(n,6,0,e.allowDiscuss||e.allowAsk||e.allowNote||e.allowTask),l(n,8,0,e.conversations)},null)}var $l=e("kSSh"),jl=e("VYqR"),Fl=e("t/Na"),Ul=e("7LN8"),Ll=e("i4hE"),Jl=function(){function l(l,n,e,t){var u=this;this.authService=l,this.store=n,this.route=e,this.attachmentService=t,this.showUploadEditor=!1,this.toggleUploadEditor=function(){return u.showUploadEditor=!u.showUploadEditor},this.onSearch=function(l){return u.store.dispatch(new Ll.c(l))},this.deleteAttachment=function(l){return u.store.dispatch(new Ll.b(l))},this.userPreference=this.authService.getUserPreference(),this.filter={pageIndex:1,pageSize:this.userPreference.pageSize,q:""},this.store.select(function(l){return l.attachments.uploading}).subscribe(function(l){return u.uploading=u.showUploadEditor=l}),this.uploaded$=this.store.select(function(l){return l.attachments.uploaded}),this.attachments$=this.store.select(function(l){return l.attachments.attachments}),this.attachments$.subscribe(function(l){l&&(u.result=l)})}return Object.defineProperty(l.prototype,"token",{get:function(){return this._token},set:function(l){this._token=l,this._token&&this._token.length>0&&(this.filter=this.filter||{},this.filter.token=this._token,this.onSearch(this.filter))},enumerable:!0,configurable:!0}),l.prototype.onUploadHandler=function(l,n){this.store.dispatch(new Ll.d({token:this.filter.token,files:l.files})),n.clear()},l.prototype.search=function(l){l!==this.filter.pageIndex&&(this.filter.pageIndex=l,this.onSearch(this.filter))},l.prototype.download=function(l){this.attachmentService.download$(l.contextToken,l.code).subscribe(function(n){var e=document.createElement("a");document.body.appendChild(e),e.href=window.URL.createObjectURL(n),e.download=l.filename,e.click()})},l}(),Bl=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-default"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.result.total)})}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","pt-1 pb-1"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","badge badge-default pull-right"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),t["\u0275ppd"](4,1)],null,function(l,n){l(n,1,0,n.context.$implicit.name);var e=t["\u0275unv"](n,3,0,l(n,4,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.size));l(n,3,0,e)})}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"p",[["class","p-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Drag and drop one or more files here..."]))],null,null)}function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" uploading "," / ","... "])),t["\u0275pid"](131072,U.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pid"](131072,U.AsyncPipe,[t.ChangeDetectorRef])],null,function(l,n){var e=n.component;l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform(e.uploaded$)).loaded,t["\u0275unv"](n,1,1,t["\u0275nov"](n,3).transform(e.uploaded$)).total)})}function Kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","row"],["style","border-bottom: solid 1px #eee"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","col-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"small",[["class","badge badge-default float-right mt-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),t["\u0275ppd"](4,1),(l()(),t["\u0275eld"](5,0,null,null,1,"button",[["class","btn btn-link text-left"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.download(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,2,"div",[["class","col-2 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"a",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteAttachment(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](9,0,null,null,0,"i",[["class","fa fa-times text-danger"]],null,null,null,null,null))],null,function(l,n){var e=t["\u0275unv"](n,3,0,l(n,4,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.fileLength));l(n,3,0,e),l(n,6,0,n.context.$implicit.title)})}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,24,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"p-fileUpload",[["auto","auto"],["customUpload","true"],["maxFileSize","100000000"],["multiple","multiple"],["name","demo[]"],["showCancelButton","false"],["showUploadButton","false"]],null,[[null,"uploadHandler"]],function(l,n,e){var u=!0;return"uploadHandler"===n&&(u=!1!==l.component.onUploadHandler(e,t["\u0275nov"](l,3))&&u),u},$l.b,$l.a)),t["\u0275did"](3,5423104,[["form",4]],1,jl.FileUpload,[t.ElementRef,fl.DomSanitizer,t.NgZone,Fl.HttpClient],{name:[0,"name"],multiple:[1,"multiple"],auto:[2,"auto"],maxFileSize:[3,"maxFileSize"],showUploadButton:[4,"showUploadButton"],showCancelButton:[5,"showCancelButton"],customUpload:[6,"customUpload"]},{uploadHandler:"uploadHandler"}),t["\u0275qud"](603979776,1,{templates:1}),(l()(),t["\u0275and"](0,null,null,1,null,zl)),t["\u0275did"](6,16384,[[1,4]],0,Ul.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,Hl)),t["\u0275did"](8,16384,[[1,4]],0,Ul.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](16777216,null,null,2,null,Gl)),t["\u0275did"](10,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,U.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,9,"div",[["class","input-group mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,5,"input",[["autofocus",""],["class","form-control"],["placeholder","search attachments"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,14)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,14).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,14)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,14)._compositionEnd(e.target.value)&&u),"keyup.enter"===n&&(u=!1!==o.onSearch(o.filter)&&u),"ngModelChange"===n&&(u=!1!==(o.filter.q=e)&&u),"keyup.esc"===n&&(o.filter.q="",u=!1!==o.onSearch(o.filter)&&u),u},null,null)),t["\u0275did"](14,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](16,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](18,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.onSearch(u.filter)&&t),t},null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,2,"div",[["class","container-fluid mt-2 mb-5"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Kl)),t["\u0275did"](24,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"demo[]","multiple","auto","100000000","false","false","true"),l(n,6,0,"file"),l(n,8,0,"content"),l(n,10,0,!0===e.uploading&&t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform(e.uploaded$))),l(n,16,0,e.filter.q),l(n,24,0,e.result.records)},function(l,n){l(n,13,0,t["\u0275nov"](n,18).ngClassUntouched,t["\u0275nov"](n,18).ngClassTouched,t["\u0275nov"](n,18).ngClassPristine,t["\u0275nov"](n,18).ngClassDirty,t["\u0275nov"](n,18).ngClassValid,t["\u0275nov"](n,18).ngClassInvalid,t["\u0275nov"](n,18).ngClassPending)})}function Xl(l){return t["\u0275vid"](0,[t["\u0275pid"](0,B.a,[]),(l()(),t["\u0275eld"](1,0,null,null,14,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,5,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"h5",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-paperclip text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Attachments "])),(l()(),t["\u0275and"](16777216,null,null,1,null,ql)),t["\u0275did"](7,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,3,"div",[["class","pane-body"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,Wl)),t["\u0275did"](10,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,U.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,3,"div",[["class","pane-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"ngb-pagination",[["maxSize","3"],["role","navigation"],["size","sm"]],null,[[null,"pageChange"]],function(l,n,e){var t=!0;return"pageChange"===n&&(t=!1!==l.component.search(e)&&t),t},D.d,D.c)),t["\u0275did"](14,573440,null,0,cl.E,[cl.F],{boundaryLinks:[0,"boundaryLinks"],ellipses:[1,"ellipses"],rotate:[2,"rotate"],collectionSize:[3,"collectionSize"],maxSize:[4,"maxSize"],pageSize:[5,"pageSize"],size:[6,"size"]},{pageChange:"pageChange"}),t["\u0275pid"](131072,U.AsyncPipe,[t.ChangeDetectorRef])],function(l,n){var e=n.component;l(n,7,0,e.result&&e.result.total>0),l(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform(e.attachments$))),l(n,14,0,!0,!1,!0,t["\u0275unv"](n,14,3,t["\u0275nov"](n,15).transform(e.attachments$)).total,"3",e.userPreference.pageSize,"sm")},null)}var Zl=e("W/8W"),Yl=e("hwsA"),Ql=e("5KDg"),ln=e("X1q0"),nn=function(){function l(l){var n=this;this.store=l,this._stages=!1,this.changelog=[],this.deletedRecords=[],this.onRemoveStage=function(l){var e=n.records.splice(l,1);if(e&&e.length>0){var t=e[0];console.log("removedRecord",e,t),t.id&&(t.isDeleted=!0,n.deletedRecords.push(t),n.changelog.push("Stage removed: "+t.title))}},this.dndDropped=function(l){return console.log("dndDropped",l)},this.canSave=function(){return n.changelog.length>0}}return Object.defineProperty(l.prototype,"stages",{get:function(){return this._stages},set:function(l){this._stages=l,this.reset()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.reset()},l.prototype.onEditTitle=function(l){l.oldTitle=l.title,l.isEditMode=!0},l.prototype.canUpdateTitle=function(l){return l.title&&l.title.trim().length>0&&l.title!==l.oldTitle},l.prototype.onUpdateTitle=function(l){l.oldTitle!==l.title&&(l.isDirty=!0,this.changelog.push("Title changed: "+l.oldTitle+" -> "+l.title)),l.isEditMode=!1},l.prototype.onCancelTitle=function(l){l.title=l.oldTitle,l.isEditMode=!1},l.prototype.onAddStage=function(){null==this.records?(this.records=[],this.panelCntr=0):this.panelCntr=this.records.length,this.panelCntr++;var l={code:Object(o.d)(10),title:"Stage "+this.panelCntr,isDirty:!0,sequence:this.panelCntr};this.records.push(l),this.onEditTitle(l),this.changelog.push("Stage added: "+l.title)},l.prototype.onRemoveMovedStage=function(l,n){n.splice(n.indexOf(l),1),this.changelog.push("Stage moved: "+l.title)},l.prototype.submit=function(){this.records.forEach(function(l,n){l.activities=null,l.sequence!==n&&(l.sequence=n,l.isDirty=!0)});var l={code:this.journeyCode,stages:I.filter(this.records,{isDirty:!0})};this.deletedRecords.length>0&&(l.stages=I.union(l.stages,this.deletedRecords)),console.log(l),this.store.dispatch(new f({record:l,column:"Stages"}))},l.prototype.reset=function(){this.changelog=[],this.deletedRecords=[],this.stages&&(this.records=I.cloneDeep(this.stages))},l}(),en=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Change title"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onUpdateTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-check text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Reset"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],null,function(l,n){l(n,1,0,!n.component.canUpdateTitle(n.parent.context.$implicit))})}function un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","click to edit title"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-pencil-alt"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Remove stage"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemoveStage(l.parent.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times text-danger"]],null,null,null,null,null))],null,null)}function on(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[["class","mb-3"]],null,[[null,"dndMoved"],[null,"dragstart"],[null,"dragend"],[null,"click"]],function(l,n,e){var u=!0,o=l.component;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,1).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,1).handleDragEnd(e)&&u),"click"===n&&(u=!1!==t["\u0275nov"](l,1).handleClick(e)&&u),"dndMoved"===n&&(u=!1!==o.onRemoveMovedStage(l.context.$implicit,o.records)&&u),u},null,null)),t["\u0275did"](1,212992,null,0,Zl.a,[t.ElementRef,Yl.a],{option:[0,"option"],dndType:[1,"dndType"],dndObject:[2,"dndObject"]},{dndMoved:"dndMoved"}),t["\u0275pod"](2,{effectAllowed:0}),(l()(),t["\u0275eld"](3,0,null,null,15,"div",[["class","input-group input-group-cf-field-toolbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"span",[["class","input-group-text text-muted"],["dndHandle",""],["style","cursor:move"]],null,[[null,"dragstart"],[null,"dragend"]],function(l,n,e){var u=!0;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,6).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,6).handleDragEnd(e)&&u),u},null,null)),t["\u0275did"](6,16384,null,0,Ql.a,[t.ElementRef,Yl.a],null,null),(l()(),t["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-grip-vertical text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,6,"input",[["aria-describedby","basic-addon1"],["aria-label","stage title"],["class","form-control"],["placeholder","stage title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,9)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,9).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,9)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,9)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.title=e)&&u),"keyup.enter"===n&&(u=!1!==o.onUpdateTitle(l.context.$implicit)&&u),"keyup.esc"===n&&(u=!1!==o.onCancelTitle(l.context.$implicit)&&u),u},null,null)),t["\u0275did"](9,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](11,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](13,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](14,1720320,null,0,k.y,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,tn)),t["\u0275did"](16,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](18,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=l(n,2,0,"move");l(n,1,0,e,"stage",n.context.$implicit),l(n,11,0,!n.context.$implicit.isEditMode,n.context.$implicit.title),l(n,14,0,n.context.$implicit.isEditMode),l(n,16,0,n.context.$implicit.isEditMode),l(n,18,0,!n.context.$implicit.isEditMode)},function(l,n){l(n,8,0,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending)})}function an(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-muted mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Changelog: "])),(l()(),t["\u0275eld"](3,0,null,null,2,"ul",[["class","small "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](5,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.changelog)},null)}function dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Manage stages"])),(l()(),t["\u0275eld"](4,0,null,null,14,"div",[["class","pane-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"div",[["class","text-muted mt-2 mb-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Define jourmeymap stages and drag-n-drop to set the sequence"])),(l()(),t["\u0275eld"](7,0,[["placeholder",1]],null,0,"div",[["class","dndPlaceholder col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,5,"div",[],null,[[null,"dragenter"],[null,"dragover"],[null,"drop"],[null,"dragleave"]],function(l,n,e){var u=!0;return"dragenter"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragEnter(e)&&u),"dragover"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragOver(e)&&u),"drop"===n&&(u=!1!==t["\u0275nov"](l,9).handleDrop(e)&&u),"dragleave"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragLeave(e)&&u),u},null,null)),t["\u0275did"](9,212992,null,0,ln.a,[t.ElementRef,Yl.a],{option:[0,"option"],dndModel:[1,"dndModel"],dndPlaceholder:[2,"dndPlaceholder"]},null),t["\u0275pad"](10,1),t["\u0275pod"](11,{allowedTypes:0,effectAllowed:1}),(l()(),t["\u0275and"](16777216,null,null,1,null,on)),t["\u0275did"](13,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](14,0,null,null,2,"button",[["class","btn btn-outline-primary btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddStage()&&t),t},null,null)),(l()(),t["\u0275eld"](15,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Add new stage"])),(l()(),t["\u0275and"](16777216,null,null,1,null,rn)),t["\u0275did"](18,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](19,0,null,null,6,"div",[["class","pane-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"button",[["class","btn btn-primary mr-1"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.submit()&&t),t},null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Save changes"])),(l()(),t["\u0275eld"](23,0,null,null,2,"button",[["class","btn btn-default"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reset()&&t),t},null,null)),(l()(),t["\u0275eld"](24,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reset"]))],function(l,n){var e=n.component,u=l(n,11,0,l(n,10,0,"stage"),"move");l(n,9,0,u,e.records,t["\u0275nov"](n,7)),l(n,13,0,e.records),l(n,18,0,e.changelog&&e.changelog.length>0)},function(l,n){var e=n.component;l(n,20,0,!e.canSave()),l(n,23,0,!e.canSave())})}var sn=function(){function l(l){var n=this;this.store=l,this._activities=!1,this.changelog=[],this.deletedRecords=[],this.onRemoveActivity=function(l){var e=n.records.splice(l,1);if(e&&e.length>0){var t=e[0];console.log("removedRecord",e,t),t.id&&(t.isDeleted=!0,n.deletedRecords.push(t),n.changelog.push("Activity removed: "+t.title))}},this.dndDropped=function(l){return console.log("dndDropped",l)},this.canSave=function(){return n.changelog.length>0}}return Object.defineProperty(l.prototype,"activities",{get:function(){return this._activities},set:function(l){this._activities=l,this.reset()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.reset()},l.prototype.onEditTitle=function(l){l.oldTitle=l.title,l.oldType=l.type,l.isEditMode=!0},l.prototype.canUpdateTitle=function(l){return console.log(l.type),l.type&&l.title&&l.title.trim().length>0&&l.title!==l.oldTitle||l.type!==l.oldType},l.prototype.onUpdateTitle=function(l){l.oldTitle!==l.title&&(l.isDirty=!0,this.changelog.push("Title changed: "+l.oldTitle+" -> "+l.title)),l.oldType!==l.type&&(l.isDirty=!0,this.changelog.push(l.title+" Type changed: "+l.oldType+" -> "+l.type)),l.isEditMode=!1},l.prototype.onCancelTitle=function(l){l.title=l.oldTitle,l.isEditMode=!1},l.prototype.onAddActivity=function(){null==this.records?(this.records=[],this.panelCntr=0):this.panelCntr=this.records.length,this.panelCntr++;var l={code:Object(o.d)(10),title:"Activity "+this.panelCntr,isDirty:!0,sequence:this.panelCntr,type:0};this.records.push(l),this.onEditTitle(l),this.changelog.push("Activity added: "+l.title)},l.prototype.onRemoveMovedActivity=function(l,n){n.splice(n.indexOf(l),1),this.changelog.push("Activity moved: "+l.title)},l.prototype.submit=function(){this.records.forEach(function(l,n){l.activities=null,l.sequence!==n&&(l.sequence=n,l.isDirty=!0)});var l={code:this.journeyCode,activities:I.filter(this.records,{isDirty:!0})};this.deletedRecords.length>0&&(l.activities=I.union(l.activities,this.deletedRecords)),this.store.dispatch(new f({record:l,column:"Activities"}))},l.prototype.reset=function(){this.changelog=[],this.deletedRecords=[],this.activities&&(this.records=I.cloneDeep(this.activities))},l}(),cn=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Change title"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onUpdateTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-check text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Reset"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],null,function(l,n){l(n,1,0,!n.component.canUpdateTitle(n.parent.context.$implicit))})}function gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","click to edit title"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-pencil-alt"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Remove activity"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemoveActivity(l.parent.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times text-danger"]],null,null,null,null,null))],null,null)}function fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,26,"div",[["style","margin:4pt 64pt 4pt 30pt"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,25,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,2).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.type=e)&&u),u},null,null)),t["\u0275did"](2,16384,null,0,G.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.SelectControlValueAccessor]),t["\u0275did"](4,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](6,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),(l()(),t["\u0275eld"](7,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),t["\u0275did"](8,147456,null,0,G.NgSelectOption,[t.ElementRef,t.Renderer2,[2,G.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](9,147456,null,0,G["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["List"])),(l()(),t["\u0275eld"](11,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),t["\u0275did"](12,147456,null,0,G.NgSelectOption,[t.ElementRef,t.Renderer2,[2,G.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](13,147456,null,0,G["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Callout"])),(l()(),t["\u0275eld"](15,0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),t["\u0275did"](16,147456,null,0,G.NgSelectOption,[t.ElementRef,t.Renderer2,[2,G.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](17,147456,null,0,G["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Stats"])),(l()(),t["\u0275eld"](19,0,null,null,3,"option",[["value","4"]],null,null,null,null,null)),t["\u0275did"](20,147456,null,0,G.NgSelectOption,[t.ElementRef,t.Renderer2,[2,G.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](21,147456,null,0,G["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Boolean"])),(l()(),t["\u0275eld"](23,0,null,null,3,"option",[["value","5"]],null,null,null,null,null)),t["\u0275did"](24,147456,null,0,G.NgSelectOption,[t.ElementRef,t.Renderer2,[2,G.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](25,147456,null,0,G["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["Sentiment"]))],function(l,n){l(n,4,0,n.parent.context.$implicit.type),l(n,8,0,"1"),l(n,9,0,"1"),l(n,12,0,"2"),l(n,13,0,"2"),l(n,16,0,"3"),l(n,17,0,"3"),l(n,20,0,"4"),l(n,21,0,"4"),l(n,24,0,"5"),l(n,25,0,"5")},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function mn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"div",[["class","mt-1 mb-2 pb-1"]],null,[[null,"dndMoved"],[null,"dragstart"],[null,"dragend"],[null,"click"]],function(l,n,e){var u=!0,o=l.component;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,3).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,3).handleDragEnd(e)&&u),"click"===n&&(u=!1!==t["\u0275nov"](l,3).handleClick(e)&&u),"dndMoved"===n&&(u=!1!==o.onRemoveMovedActivity(l.context.$implicit,o.records)&&u),u},null,null)),t["\u0275did"](1,278528,null,0,U.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{"background-color":0}),t["\u0275did"](3,212992,null,0,Zl.a,[t.ElementRef,Yl.a],{option:[0,"option"],dndType:[1,"dndType"],dndObject:[2,"dndObject"]},{dndMoved:"dndMoved"}),t["\u0275pod"](4,{effectAllowed:0}),(l()(),t["\u0275eld"](5,0,null,null,15,"div",[["class","input-group input-group-cf-field-toolbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"span",[["class","input-group-text text-muted"],["dndHandle",""],["style","cursor:move"]],null,[[null,"dragstart"],[null,"dragend"]],function(l,n,e){var u=!0;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,8).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,8).handleDragEnd(e)&&u),u},null,null)),t["\u0275did"](8,16384,null,0,Ql.a,[t.ElementRef,Yl.a],null,null),(l()(),t["\u0275eld"](9,0,null,null,0,"i",[["class","fa fa-grip-vertical text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,6,"input",[["aria-describedby","basic-addon1"],["aria-label","activity title"],["class","form-control"],["placeholder","activity title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,11)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,11).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.title=e)&&u),"keyup.enter"===n&&(u=!1!==o.onUpdateTitle(l.context.$implicit)&&u),"keyup.esc"===n&&(u=!1!==o.onCancelTitle(l.context.$implicit)&&u),u},null,null)),t["\u0275did"](11,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](13,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](15,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](16,1720320,null,0,k.y,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,pn)),t["\u0275did"](18,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](20,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,fn)),t["\u0275did"](22,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=l(n,2,0,n.context.$implicit.isEditMode?"#f4f4f4":"transparent");l(n,1,0,e);var t=l(n,4,0,"move");l(n,3,0,t,"activity",n.context.$implicit),l(n,13,0,!n.context.$implicit.isEditMode,n.context.$implicit.title),l(n,16,0,n.context.$implicit.isEditMode),l(n,18,0,n.context.$implicit.isEditMode),l(n,20,0,!n.context.$implicit.isEditMode),l(n,22,0,n.context.$implicit.isEditMode)},function(l,n){l(n,10,0,t["\u0275nov"](n,15).ngClassUntouched,t["\u0275nov"](n,15).ngClassTouched,t["\u0275nov"](n,15).ngClassPristine,t["\u0275nov"](n,15).ngClassDirty,t["\u0275nov"](n,15).ngClassValid,t["\u0275nov"](n,15).ngClassInvalid,t["\u0275nov"](n,15).ngClassPending)})}function hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-muted mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Changelog: "])),(l()(),t["\u0275eld"](3,0,null,null,2,"ul",[["class","small "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,hn)),t["\u0275did"](5,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.changelog)},null)}function yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Manage activities"])),(l()(),t["\u0275eld"](4,0,null,null,14,"div",[["class","pane-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"div",[["class","text-muted mt-2 mb-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Define jourmeymap activities and drag-n-drop to set the sequence"])),(l()(),t["\u0275eld"](7,0,[["placeholder",1]],null,0,"div",[["class","dndPlaceholder col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,5,"div",[],null,[[null,"dragenter"],[null,"dragover"],[null,"drop"],[null,"dragleave"]],function(l,n,e){var u=!0;return"dragenter"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragEnter(e)&&u),"dragover"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragOver(e)&&u),"drop"===n&&(u=!1!==t["\u0275nov"](l,9).handleDrop(e)&&u),"dragleave"===n&&(u=!1!==t["\u0275nov"](l,9).handleDragLeave(e)&&u),u},null,null)),t["\u0275did"](9,212992,null,0,ln.a,[t.ElementRef,Yl.a],{option:[0,"option"],dndModel:[1,"dndModel"],dndPlaceholder:[2,"dndPlaceholder"]},null),t["\u0275pad"](10,1),t["\u0275pod"](11,{allowedTypes:0,effectAllowed:1}),(l()(),t["\u0275and"](16777216,null,null,1,null,mn)),t["\u0275did"](13,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](14,0,null,null,2,"button",[["class","btn btn-outline-primary btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddActivity()&&t),t},null,null)),(l()(),t["\u0275eld"](15,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Add new activity"])),(l()(),t["\u0275and"](16777216,null,null,1,null,vn)),t["\u0275did"](18,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](19,0,null,null,6,"div",[["class","pane-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"button",[["class","btn btn-primary mr-1"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.submit()&&t),t},null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Save changes"])),(l()(),t["\u0275eld"](23,0,null,null,2,"button",[["class","btn btn-default"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reset()&&t),t},null,null)),(l()(),t["\u0275eld"](24,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reset"]))],function(l,n){var e=n.component,u=l(n,11,0,l(n,10,0,"activity"),"move");l(n,9,0,u,e.records,t["\u0275nov"](n,7)),l(n,13,0,e.records),l(n,18,0,e.changelog&&e.changelog.length>0)},function(l,n){var e=n.component;l(n,20,0,!e.canSave()),l(n,23,0,!e.canSave())})}var bn=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"h3",[["style","margin-bottom:0;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"span",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.editTitle=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"span",[["class","hover-border "]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-pencil-alt text-muted hover-button"]],null,null,null,null,null))],null,function(l,n){l(n,3,0,n.component.record.title)})}function _n(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","input-group input-group-lg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"input",[["autofocus",""],["class","form-control"],["placeholder","journeymap title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,3)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,3).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionEnd(e.target.value)&&u),"keyup.enter"===n&&(u=!1!==o.updateTitle()&&u),"ngModelChange"===n&&(u=!1!==(o.record.title=e)&&u),"keyup.esc"===n&&(u=0!=(o.editTitle=!1)&&u),u},null,null)),t["\u0275did"](3,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](5,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](7,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](8,1720320,null,0,k.y,[t.ElementRef],null,null),(l()(),t["\u0275eld"](9,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTitle()&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.editTitle=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null))],function(l,n){l(n,5,0,n.component.record.title)},function(l,n){var e=n.component;l(n,2,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending),l(n,10,0,!e.canUpdateTitle())})}function Rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.editSummary=!0)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add summary..."]))],null,null)}function Sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.editSummary=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","hover-border "]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-link btn-sm hover-button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-pencil-alt text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"ngx-md",[],null,null,null,dl.b,dl.a)),t["\u0275did"](5,4243456,null,0,sl.a,[sl.c,t.ElementRef,t.PLATFORM_ID],{data:[0,"data"]},null)],function(l,n){l(n,5,0,n.component.record.summary)},null)}function On(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"textarea",[["autofocus",""],["class","form-control mb-2"],["placeholder","summary"],["rows","5"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.control.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,2)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,2).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionEnd(e.target.value)&&u),"keyup.control.enter"===n&&(u=!1!==o.updateSummary()&&u),"ngModelChange"===n&&(u=!1!==(o.record.summary=e)&&u),"keyup.esc"===n&&(u=0!=(o.editSummary=!1)&&u),u},null,null)),t["\u0275did"](2,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](4,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](6,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](7,1720320,null,0,k.y,[t.ElementRef],null,null),(l()(),t["\u0275eld"](8,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,5,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"help-gfm-spec",[],null,null,null,j.l,j.e)),t["\u0275did"](11,49152,null,0,k.j,[],null,null),(l()(),t["\u0275ted"](-1,null,[" | "])),(l()(),t["\u0275eld"](13,0,null,null,1,"help-ctrl-enter-save",[],null,null,null,j.k,j.d)),t["\u0275did"](14,49152,null,0,k.i,[],null,null),(l()(),t["\u0275eld"](15,0,null,null,7,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,6,"div",[["class","btn-group btn-group-sm"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateSummary()&&t),t},null,null)),(l()(),t["\u0275eld"](18,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Save changes"])),(l()(),t["\u0275eld"](20,0,null,null,2,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.editSummary=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Close"]))],function(l,n){l(n,4,0,n.component.record.summary)},function(l,n){var e=n.component;l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,17,0,!e.canUpdateSummary())})}function kn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,66,"div",[["class","mt-4 mb-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,65,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,11,"div",[["class","card text-white bg-primary"],["style","width:16rem;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","badge badge-pill badge-light"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["1"])),(l()(),t["\u0275ted"](-1,null,[" Define stages "])),(l()(),t["\u0275eld"](8,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Identify stages in your user journey."])),(l()(),t["\u0275eld"](11,0,null,null,3,"div",[["class","text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"a",[["class","btn btn-sm btn-light text-dark"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openStagesEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","fa fa-puzzle-piece"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Manage stages"])),(l()(),t["\u0275eld"](15,0,null,null,12,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,11,"div",[["class","card text-white bg-info"],["style","width:16rem;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"span",[["class","badge badge-pill badge-light"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["2"])),(l()(),t["\u0275ted"](-1,null,[" Configure activities "])),(l()(),t["\u0275eld"](21,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Identify activities to track against each stage."])),(l()(),t["\u0275eld"](24,0,null,null,3,"div",[["class","text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,2,"a",[["class","btn btn-sm btn-light text-dark"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openActivitiesEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](26,0,null,null,0,"i",[["class","fa fa-layer-group"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Configure activities"])),(l()(),t["\u0275eld"](28,0,null,null,38,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,37,"div",[["class","card text-white bg-secondary"],["style","width:16rem;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"span",[["class","badge badge-pill badge-light"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["3"])),(l()(),t["\u0275ted"](-1,null,[" Select Theme "])),(l()(),t["\u0275eld"](34,0,null,null,32,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Select from one of many colur themes supported."])),(l()(),t["\u0275eld"](37,0,null,null,29,"div",[["class","text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,28,"div",[["class","btn btn-light btn-sm text-dark"],["ngbDropdown",""],["placement","bottom-left"]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](39,212992,null,2,cl.t,[t.ChangeDetectorRef,cl.v,U.DOCUMENT,t.NgZone],{placement:[0,"placement"]},null),t["\u0275qud"](335544320,5,{_menu:0}),t["\u0275qud"](335544320,6,{_anchor:0}),(l()(),t["\u0275eld"](42,0,null,null,4,"a",[["aria-haspopup","true"],["class","dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,43).toggleOpen()&&u),u},null,null)),t["\u0275did"](43,16384,null,0,cl.y,[cl.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[6,4]],cl.u,null,[cl.y]),(l()(),t["\u0275eld"](45,0,null,null,0,"i",[["class","fa fa-paint-brush"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Select theme"])),(l()(),t["\u0275eld"](47,0,null,null,19,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](48,16384,[[5,4]],0,cl.w,[cl.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275eld"](49,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("default")&&t),t},null,null)),(l()(),t["\u0275eld"](50,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#ccc;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Default"])),(l()(),t["\u0275eld"](52,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("aqua")&&t),t},null,null)),(l()(),t["\u0275eld"](53,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:aqua"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Aqua"])),(l()(),t["\u0275eld"](55,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("teal")&&t),t},null,null)),(l()(),t["\u0275eld"](56,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#808040"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Teal"])),(l()(),t["\u0275eld"](58,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("green")&&t),t},null,null)),(l()(),t["\u0275eld"](59,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:greenyellow"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Green"])),(l()(),t["\u0275eld"](61,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("blue")&&t),t},null,null)),(l()(),t["\u0275eld"](62,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#02C1F9"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Blue"])),(l()(),t["\u0275eld"](64,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("maroon")&&t),t},null,null)),(l()(),t["\u0275eld"](65,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#C7491F"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Maroon"]))],function(l,n){l(n,39,0,"bottom-left")},function(l,n){l(n,38,0,t["\u0275nov"](n,39).isOpen()),l(n,42,0,t["\u0275nov"](n,43).dropdown.isOpen()),l(n,47,0,!0,t["\u0275nov"](n,48).dropdown.isOpen(),t["\u0275nov"](n,48).placement)})}function Mn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,100,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,70,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,60,"div",[["class","row mt-1"],["style","position:sticky;top:0;background-color: #fff;;z-index: 2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Cn)),t["\u0275did"](5,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,_n)),t["\u0275did"](7,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,54,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,53,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-light"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openAttachmentsEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-paperclip fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-light"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openConversationsEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","far fa-comments fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,27,"div",[["class","btn btn-light"],["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](15,212992,null,2,cl.t,[t.ChangeDetectorRef,cl.v,U.DOCUMENT,t.NgZone],{placement:[0,"placement"]},null),t["\u0275qud"](335544320,1,{_menu:0}),t["\u0275qud"](335544320,2,{_anchor:0}),(l()(),t["\u0275eld"](18,0,null,null,3,"a",[["aria-haspopup","true"],["class","dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,19).toggleOpen()&&u),u},null,null)),t["\u0275did"](19,16384,null,0,cl.y,[cl.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[2,4]],cl.u,null,[cl.y]),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-paint-brush"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,19,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](23,16384,[[1,4]],0,cl.w,[cl.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275eld"](24,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("default")&&t),t},null,null)),(l()(),t["\u0275eld"](25,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#ccc;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Default"])),(l()(),t["\u0275eld"](27,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("aqua")&&t),t},null,null)),(l()(),t["\u0275eld"](28,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:aqua"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Aqua"])),(l()(),t["\u0275eld"](30,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("teal")&&t),t},null,null)),(l()(),t["\u0275eld"](31,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#808040"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Teal"])),(l()(),t["\u0275eld"](33,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("green")&&t),t},null,null)),(l()(),t["\u0275eld"](34,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:greenyellow"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Green"])),(l()(),t["\u0275eld"](36,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("blue")&&t),t},null,null)),(l()(),t["\u0275eld"](37,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#02C1F9"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Blue"])),(l()(),t["\u0275eld"](39,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateTheme("maroon")&&t),t},null,null)),(l()(),t["\u0275eld"](40,0,null,null,0,"i",[["class","fa fa-circle"],["style","color:#C7491F"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Maroon"])),(l()(),t["\u0275eld"](42,0,null,null,20,"div",[["class","btn btn-light"],["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](43,212992,null,2,cl.t,[t.ChangeDetectorRef,cl.v,U.DOCUMENT,t.NgZone],{placement:[0,"placement"]},null),t["\u0275qud"](335544320,3,{_menu:0}),t["\u0275qud"](335544320,4,{_anchor:0}),(l()(),t["\u0275eld"](46,0,null,null,3,"a",[["aria-haspopup","true"],["class","dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,47).toggleOpen()&&u),u},null,null)),t["\u0275did"](47,16384,null,0,cl.y,[cl.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[4,4]],cl.u,null,[cl.y]),(l()(),t["\u0275eld"](49,0,null,null,0,"i",[["class","far fa-sun"]],null,null,null,null,null)),(l()(),t["\u0275eld"](50,0,null,null,12,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](51,16384,[[3,4]],0,cl.w,[cl.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275eld"](52,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openStagesEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](54,0,null,null,0,"i",[["class","fa fa-puzzle-piece fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Stages"])),(l()(),t["\u0275eld"](56,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openActivitiesEditor()&&t),t},null,null)),(l()(),t["\u0275eld"](57,0,null,null,0,"i",[["class","fa fa-layer-group fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Activities"])),(l()(),t["\u0275eld"](59,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),t["\u0275eld"](60,0,null,null,2,"button",[["class","dropdown-item text-danger"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onArchiveJourneyMap()&&t),t},null,null)),(l()(),t["\u0275eld"](61,0,null,null,0,"i",[["class","fa fa-times fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Archive journey map "])),(l()(),t["\u0275eld"](63,0,null,null,6,"div",[["class","mb-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Rn)),t["\u0275did"](65,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Sn)),t["\u0275did"](67,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,On)),t["\u0275did"](69,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kn)),t["\u0275did"](71,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](72,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](73,0,null,null,2,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](74,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](75,212992,null,0,L.p,[L.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null),(l()(),t["\u0275eld"](76,0,null,null,12,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-lg"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isConversationsVisible=e)&&t),t},z.b,z.a)),t["\u0275did"](77,12763136,null,0,H.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](78,0,null,0,10,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](79,0,null,null,3,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](80,0,null,null,2,"h4",[],null,null,null,null,null)),(l()(),t["\u0275eld"](81,0,null,null,0,"i",[["class","fa fa-comments"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Collaborate"])),(l()(),t["\u0275eld"](83,0,null,null,5,"div",[["class","pane-body-wo-footer pane-body-grey"]],null,null,null,null,null)),(l()(),t["\u0275eld"](84,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](85,0,null,null,3,"app-conversations",[["allowAsk","true"],["allowDiscuss","true"],["allowNote","true"],["allowTask","true"]],null,[[null,"conversationAdded"],[null,"conversationClosed"]],function(l,n,e){var t=!0,u=l.component;return"conversationAdded"===n&&(t=!1!==u.onPrimaryConversationAdded(e)&&t),"conversationClosed"===n&&(t=!1!==u.onPrimaryConversationClosed(e)&&t),t},Nl,hl)),t["\u0275did"](86,49152,null,0,ml.a,[u.o,q.h,t.ChangeDetectorRef],{conversations:[0,"conversations"],type:[1,"type"],allowDiscuss:[2,"allowDiscuss"],allowAsk:[3,"allowAsk"],allowNote:[4,"allowNote"],allowTask:[5,"allowTask"],selectedText:[6,"selectedText"],conversationContext:[7,"conversationContext"],docType:[8,"docType"],docCode:[9,"docCode"],editorVisible:[10,"editorVisible"]},{conversationAdded:"conversationAdded",conversationClosed:"conversationClosed"}),t["\u0275pod"](87,{key:0,value:1}),t["\u0275pad"](88,1),(l()(),t["\u0275eld"](89,0,null,null,3,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isAttachmentsEditorVisible=e)&&t),t},z.b,z.a)),t["\u0275did"](90,12763136,null,0,H.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](91,0,null,0,1,"app-attachments",[],null,null,null,Xl,Bl)),t["\u0275did"](92,49152,null,0,Jl,[q.d,u.o,L.a,T.a],{token:[0,"token"]},null),(l()(),t["\u0275eld"](93,0,null,null,3,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isStagesEditorVisible=e)&&t),t},z.b,z.a)),t["\u0275did"](94,12763136,null,0,H.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](95,0,null,0,1,"app-stages-editor",[],null,null,null,dn,en)),t["\u0275did"](96,114688,null,0,nn,[u.o],{journeyCode:[0,"journeyCode"],stages:[1,"stages"]},null),(l()(),t["\u0275eld"](97,0,null,null,3,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.isActivitiesEditorVisible=e)&&t),t},z.b,z.a)),t["\u0275did"](98,12763136,null,0,H.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](99,0,null,0,1,"app-activities-editor",[],null,null,null,yn,cn)),t["\u0275did"](100,114688,null,0,sn,[u.o],{journeyCode:[0,"journeyCode"],activities:[1,"activities"]},null)],function(l,n){var e=n.component;l(n,5,0,!e.editTitle),l(n,7,0,e.editTitle),l(n,15,0,"bottom-right"),l(n,43,0,"bottom-right"),l(n,65,0,!e.editSummary&&!e.record.summary),l(n,67,0,!e.editSummary&&e.record.summary),l(n,69,0,e.editSummary),l(n,71,0,!e.record||!e.record.stages||0===e.record.stages.length||!e.record.activities||0===e.record.activities.length),l(n,75,0),l(n,77,0,"right","ui-sidebar-lg","false",e.isConversationsVisible);var t=e.record.conversations,u=e.record.selectedText,o=l(n,88,0,l(n,87,0,"journeymap",e.record.title));l(n,86,1,[t,"Discuss","true","true","true","true",u,o,e.docTypes.Journeymap,e.record.code,e.details.addingConversation]),l(n,90,0,"right","ui-sidebar-md","false",e.isAttachmentsEditorVisible),l(n,92,0,e.record.code),l(n,94,0,"right","ui-sidebar-md","false",e.isStagesEditorVisible),l(n,96,0,e.record.code,e.record.stages),l(n,98,0,"right","ui-sidebar-md","false",e.isActivitiesEditorVisible),l(n,100,0,e.record.code,e.record.activities)},function(l,n){l(n,14,0,t["\u0275nov"](n,15).isOpen()),l(n,18,0,t["\u0275nov"](n,19).dropdown.isOpen()),l(n,22,0,!0,t["\u0275nov"](n,23).dropdown.isOpen(),t["\u0275nov"](n,23).placement),l(n,42,0,t["\u0275nov"](n,43).isOpen()),l(n,46,0,t["\u0275nov"](n,47).dropdown.isOpen()),l(n,50,0,!0,t["\u0275nov"](n,51).dropdown.isOpen(),t["\u0275nov"](n,51).placement)})}function xn(l){return t["\u0275vid"](2,[(l()(),t["\u0275and"](16777216,null,null,2,null,Mn)),t["\u0275did"](1,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,U.AsyncPipe,[t.ChangeDetectorRef])],function(l,n){var e=n.component;l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform(e.details$)))},null)}function wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-journeymap-container",[],null,null,null,xn,bn)),t["\u0275did"](1,245760,null,0,w,[L.a,L.l,u.o],null,null)],function(l,n){l(n,1,0)},null)}var In=t["\u0275ccf"]("app-journeymap-container",w,wn,{},{},[]),En=e("QvwM"),Tn=function(){function l(l){var n=this;this.store=l,this._stageActivity={},this.changelog=[],this.deletedRecords=[],this.onRemoveRecord=function(l){var e=n.records.splice(l,1);if(e&&e.length>0){var t=e[0];t.id&&(t.isDeleted=!0,n.deletedRecords.push(t),n.changelog.push("Record removed: "+t.title))}},this.dndDropped=function(l){return console.log("dndDropped",l)},this.canSave=function(){return n.changelog.length>0}}return Object.defineProperty(l.prototype,"stageActivity",{get:function(){return this._stageActivity},set:function(l){this._stageActivity=l,this.reset()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.reset()},l.prototype.onEditTitle=function(l){l.oldTitle=l.title,l.isEditMode=!0},l.prototype.canUpdateTitle=function(l){return l.title&&l.title.trim().length>0&&l.title!==l.oldTitle},l.prototype.onUpdateTitle=function(l){l.oldTitle!==l.title&&(l.isDirty=!0,this.changelog.push("Title changed: "+l.oldTitle+" -> "+l.title)),l.isEditMode=!1},l.prototype.onCancelTitle=function(l){l.title=l.oldTitle,l.isEditMode=!1},l.prototype.onAddRecord=function(){this.records=this.records||[],this.panelCntr=this.records.length+1;var l={title:"Record "+this.panelCntr,isEditMode:!0,isDirty:!0,sequence:this.panelCntr,activityId:this.stageActivity.stageId,stageId:this.stageActivity.stageId};this.records.push(l),this.changelog.push("Record added: "+l.title)},l.prototype.onRemoveMovedRecord=function(l,n){n.splice(n.indexOf(l),1),this.changelog.push("Record moved: "+l.title)},l.prototype.submit=function(){this.records.forEach(function(l,n){l.sequence!==n&&(l.sequence=n,l.isDirty=!0)});var l=I.filter(this.records,{isDirty:!0});this.deletedRecords.length>0&&(l=I.union(l,this.deletedRecords));var n=I.cloneDeep(this.stageActivity);n.items=l,console.log(n),this.store.dispatch(new h({record:n,column:i.Items}))},l.prototype.reset=function(){this.changelog=[],this.deletedRecords=[],this.stageActivity&&(this.records=I.cloneDeep(this.stageActivity.items)||[])},l}(),An=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Change title"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onUpdateTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-check text-success"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Reset"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],null,function(l,n){l(n,1,0,!n.component.canUpdateTitle(n.parent.context.$implicit))})}function Vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","click to edit title"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-pencil-alt"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["title","Remove stage"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRemoveRecord(l.parent.context.index)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-times text-danger"]],null,null,null,null,null))],null,null)}function Dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,19,"div",[["class","mb-3"]],null,[[null,"dndMoved"],[null,"dragstart"],[null,"dragend"],[null,"click"]],function(l,n,e){var u=!0,o=l.component;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,1).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,1).handleDragEnd(e)&&u),"click"===n&&(u=!1!==t["\u0275nov"](l,1).handleClick(e)&&u),"dndMoved"===n&&(u=!1!==o.onRemoveMovedRecord(l.context.$implicit,o.records)&&u),u},null,null)),t["\u0275did"](1,212992,null,0,Zl.a,[t.ElementRef,Yl.a],{option:[0,"option"],dndType:[1,"dndType"],dndObject:[2,"dndObject"]},{dndMoved:"dndMoved"}),t["\u0275pod"](2,{effectAllowed:0}),(l()(),t["\u0275eld"](3,0,null,null,16,"div",[["class","input-group input-group-cf-field-toolbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"span",[["class","input-group-text text-muted"],["dndHandle",""],["style","cursor:move"]],null,[[null,"dragstart"],[null,"dragend"]],function(l,n,e){var u=!0;return"dragstart"===n&&(u=!1!==t["\u0275nov"](l,6).handleDragStart(e)&&u),"dragend"===n&&(u=!1!==t["\u0275nov"](l,6).handleDragEnd(e)&&u),u},null,null)),t["\u0275did"](6,16384,null,0,Ql.a,[t.ElementRef,Yl.a],null,null),(l()(),t["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-grip-vertical text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,7,"textarea",[["aria-describedby","basic-addon1"],["aria-label","record title"],["autosize",""],["class","form-control"],["placeholder","record title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.control.enter"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,9)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,9).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,9)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,9)._compositionEnd(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,14).onInput(e.target)&&u),"ngModelChange"===n&&(u=!1!==(l.context.$implicit.title=e)&&u),"keyup.control.enter"===n&&(u=!1!==o.onUpdateTitle(l.context.$implicit)&&u),"keyup.esc"===n&&(u=!1!==o.onCancelTitle(l.context.$implicit)&&u),u},null,null)),t["\u0275did"](9,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](11,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](13,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](14,2768896,null,0,gl.a,[t.ElementRef,t.NgZone],{minRows:[0,"minRows"],maxRows:[1,"maxRows"]},null),t["\u0275did"](15,1720320,null,0,k.y,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Pn)),t["\u0275did"](17,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Vn)),t["\u0275did"](19,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=l(n,2,0,"move");l(n,1,0,e,"sai",n.context.$implicit),l(n,11,0,!n.context.$implicit.isEditMode,n.context.$implicit.title),l(n,14,0,0,5),l(n,15,0,n.context.$implicit.isEditMode),l(n,17,0,n.context.$implicit.isEditMode),l(n,19,0,!n.context.$implicit.isEditMode)},function(l,n){l(n,8,0,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending)})}function Nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function $n(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-muted mt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Changelog: "])),(l()(),t["\u0275eld"](3,0,null,null,2,"ul",[["class","small "]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Nn)),t["\u0275did"](5,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.changelog)},null)}function jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,24,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Manage records"])),(l()(),t["\u0275eld"](4,0,null,null,13,"div",[["class","pane-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,[["placeholder",1]],null,0,"div",[["class","dndPlaceholder col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,5,"div",[],null,[[null,"dragenter"],[null,"dragover"],[null,"drop"],[null,"dragleave"]],function(l,n,e){var u=!0;return"dragenter"===n&&(u=!1!==t["\u0275nov"](l,8).handleDragEnter(e)&&u),"dragover"===n&&(u=!1!==t["\u0275nov"](l,8).handleDragOver(e)&&u),"drop"===n&&(u=!1!==t["\u0275nov"](l,8).handleDrop(e)&&u),"dragleave"===n&&(u=!1!==t["\u0275nov"](l,8).handleDragLeave(e)&&u),u},null,null)),t["\u0275did"](8,212992,null,0,ln.a,[t.ElementRef,Yl.a],{option:[0,"option"],dndModel:[1,"dndModel"],dndPlaceholder:[2,"dndPlaceholder"]},null),t["\u0275pad"](9,1),t["\u0275pod"](10,{allowedTypes:0,effectAllowed:1}),(l()(),t["\u0275and"](16777216,null,null,1,null,Dn)),t["\u0275did"](12,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](13,0,null,null,2,"button",[["class","btn btn-outline-primary btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddRecord()&&t),t},null,null)),(l()(),t["\u0275eld"](14,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Add new record"])),(l()(),t["\u0275and"](16777216,null,null,1,null,$n)),t["\u0275did"](17,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,null,6,"div",[["class","pane-footer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"button",[["class","btn btn-primary mr-1"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.submit()&&t),t},null,null)),(l()(),t["\u0275eld"](20,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Save changes"])),(l()(),t["\u0275eld"](22,0,null,null,2,"button",[["class","btn btn-default"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reset()&&t),t},null,null)),(l()(),t["\u0275eld"](23,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Reset"]))],function(l,n){var e=n.component,u=l(n,10,0,l(n,9,0,"sai"),"move");l(n,8,0,u,e.records,t["\u0275nov"](n,6)),l(n,12,0,e.records),l(n,17,0,e.changelog&&e.changelog.length>0)},function(l,n){var e=n.component;l(n,19,0,!e.canSave()),l(n,22,0,!e.canSave())})}var Fn=e("K8Pq"),Un=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","ui-slider-range ui-widget-header ui-corner-all"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,U.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{left:0,width:1})],function(l,n){var e=n.component,t=l(n,2,0,e.handleValues[0]+"%",e.handleValues[1]-e.handleValues[0]+"%");l(n,1,0,t)},null)}function Jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","ui-slider-range ui-widget-header ui-corner-all"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,U.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{bottom:0,height:1})],function(l,n){var e=n.component,t=l(n,2,0,e.handleValues[0]+"%",e.handleValues[1]-e.handleValues[0]+"%");l(n,1,0,t)},null)}function Bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","ui-slider-range ui-slider-range-min ui-widget-header ui-corner-all"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,U.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{height:0})],function(l,n){var e=l(n,2,0,n.component.handleValue+"%");l(n,1,0,e)},null)}function qn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","ui-slider-range ui-slider-range-min ui-widget-header ui-corner-all"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,U.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{width:0})],function(l,n){var e=l(n,2,0,n.component.handleValue+"%");l(n,1,0,e)},null)}function zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","ui-slider-handle ui-state-default ui-corner-all ui-clickable"]],[[4,"transition",null]],[[null,"mousedown"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],function(l,n,e){var t=!0,u=l.component;return"mousedown"===n&&(t=!1!==u.onMouseDown(e)&&t),"touchstart"===n&&(t=!1!==u.onTouchStart(e)&&t),"touchmove"===n&&(t=!1!==u.onTouchMove(e)&&t),"touchend"===n&&(t=!1!==u.onTouchEnd(e)&&t),t},null,null)),t["\u0275did"](1,278528,null,0,U.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{left:0,bottom:1})],function(l,n){var e=n.component,t=l(n,2,0,"horizontal"==e.orientation?e.handleValue+"%":null,"vertical"==e.orientation?e.handleValue+"%":null);l(n,1,0,t)},function(l,n){l(n,0,0,n.component.dragging?"none":null)})}function Hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[["class","ui-slider-handle ui-state-default ui-corner-all ui-clickable"]],[[4,"transition",null]],[[null,"mousedown"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],function(l,n,e){var t=!0,u=l.component;return"mousedown"===n&&(t=!1!==u.onMouseDown(e,0)&&t),"touchstart"===n&&(t=!1!==u.onTouchStart(e,0)&&t),"touchmove"===n&&(t=!1!==u.onTouchMove(e,0)&&t),"touchend"===n&&(t=!1!==u.onTouchEnd(e)&&t),t},null,null)),t["\u0275did"](1,278528,null,0,U.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"ui-slider-handle-active":0}),t["\u0275did"](3,278528,null,0,U.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{left:0,bottom:1})],function(l,n){var e=n.component,t=l(n,2,0,0==e.handleIndex);l(n,1,0,"ui-slider-handle ui-state-default ui-corner-all ui-clickable",t);var u=l(n,4,0,e.rangeStartLeft,e.rangeStartBottom);l(n,3,0,u)},function(l,n){l(n,0,0,n.component.dragging?"none":null)})}function Gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[["class","ui-slider-handle ui-state-default ui-corner-all ui-clickable"]],[[4,"transition",null]],[[null,"mousedown"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],function(l,n,e){var t=!0,u=l.component;return"mousedown"===n&&(t=!1!==u.onMouseDown(e,1)&&t),"touchstart"===n&&(t=!1!==u.onTouchStart(e,1)&&t),"touchmove"===n&&(t=!1!==u.onTouchMove(e,1)&&t),"touchend"===n&&(t=!1!==u.onTouchEnd(e)&&t),t},null,null)),t["\u0275did"](1,278528,null,0,U.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"ui-slider-handle-active":0}),t["\u0275did"](3,278528,null,0,U.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{left:0,bottom:1})],function(l,n){var e=n.component,t=l(n,2,0,1==e.handleIndex);l(n,1,0,"ui-slider-handle ui-state-default ui-corner-all ui-clickable",t);var u=l(n,4,0,e.rangeEndLeft,e.rangeEndBottom);l(n,3,0,u)},function(l,n){l(n,0,0,n.component.dragging?"none":null)})}function Kn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onBarClick(e)&&t),t},null,null)),t["\u0275did"](1,278528,null,0,U.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"ui-slider ui-widget ui-widget-content ui-corner-all":0,"ui-state-disabled":1,"ui-slider-horizontal":2,"ui-slider-vertical":3,"ui-slider-animate":4}),t["\u0275did"](3,278528,null,0,U.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ln)),t["\u0275did"](5,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Jn)),t["\u0275did"](7,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bn)),t["\u0275did"](9,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,qn)),t["\u0275did"](11,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,zn)),t["\u0275did"](13,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Hn)),t["\u0275did"](15,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Gn)),t["\u0275did"](17,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=e.styleClass,u=l(n,2,0,!0,e.disabled,"horizontal"==e.orientation,"vertical"==e.orientation,e.animate);l(n,1,0,t,u),l(n,3,0,e.style),l(n,5,0,e.range&&"horizontal"==e.orientation),l(n,7,0,e.range&&"vertical"==e.orientation),l(n,9,0,!e.range&&"vertical"==e.orientation),l(n,11,0,!e.range&&"horizontal"==e.orientation),l(n,13,0,!e.range),l(n,15,0,e.range),l(n,17,0,e.range)},null)}var Wn=t["\u0275crt"]({encapsulation:0,styles:[['.journeymap[_ngcontent-%COMP%]{border-width:0}.journeymap[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{padding:.25rem}.journeymap[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;vertical-align:top}.journeymap[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{background-color:#fafafa;border-bottom:1px solid #eee}.journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-width:0}.journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:before{border-left:10px solid hsla(0,0%,73%,.3);margin-left:1px}.journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:after, .journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:before{content:" ";display:block;width:0;height:0;border-top:21px solid transparent;border-bottom:21px solid transparent;position:absolute;top:50%;margin-top:-21px;left:100%;z-index:3}.journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:after{border-left:10px solid #fff}.journeymap[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{background-color:#fff}.callouts[_ngcontent-%COMP%]{padding-left:8pt;max-width:290px}.callouts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding:15px;margin-bottom:8pt;background-color:#fff;border:1px solid #c1c1c1;border-radius:6px;box-shadow:0 0 10px #c1c1c1}.callouts--left[_ngcontent-%COMP%]:before{content:"";position:absolute;width:0;height:0;left:-22px;top:6px;border:10px solid transparent;border-right:12px solid rgba(193,193,193,.5);z-index:2}.callouts--left[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0;left:-19px;top:8px;border:8px solid transparent;border-right:11px solid #fff;z-index:3}'],[".journeymap-blue[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#02c1f9;color:#fff;border-width:0}.journeymap-blue[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i.fa-paint-brush[_ngcontent-%COMP%]{background-color:#02c1f9;padding:2pt;color:#fff;border:1px solid #aaa}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#ecfbff}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){background-color:#dff9ff}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background-color:#ccf4ff}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4){background-color:#c1f1ff}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(5){background-color:#a8ecff}.journeymap-blue[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(n+6){background-color:#95e8ff;border-bottom:1px solid #00c4fd}"],[".journeymap-green[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#408080;color:#fff;border-width:0}.journeymap-green[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i.fa-paint-brush[_ngcontent-%COMP%]{background-color:#408080;padding:2pt;color:#fff;border:1px solid #aaa}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#f1f8f8}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){background-color:#e6f2f2}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background-color:#dceded}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4){background-color:#d2e8e8}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(5){background-color:#c6e1e1}.journeymap-green[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(n+6){background-color:#b4d6d6;border-bottom:1px solid #bff7ff}"],[".journeymap-teal[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#808040;color:#222;border-width:0}.journeymap-teal[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i.fa-paint-brush[_ngcontent-%COMP%]{background-color:#808040;padding:2pt;border:1px solid #aaa}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#f8f8ef}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){background-color:#f2f2e3}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background-color:#ececd7}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4){background-color:#e3e3c6}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(5){background-color:#d9d9b0}.journeymap-teal[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(n+6){background-color:#d0d09f;border-bottom:1px solid #ddd}"],[".journeymap-default[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#eee}.journeymap-default[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#fafafa}"],[".journeymap-maroon[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#c7491f;color:#fff;border-width:0}.journeymap-maroon[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i.fa-paint-brush[_ngcontent-%COMP%]{background-color:#c7491f;padding:2pt;color:#fff;border:1px solid #aaa}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#fdf5f2}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){background-color:#fae6de}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background-color:#fae2da}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4){background-color:#f9d8cc}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(5){background-color:#f8d1c2}.journeymap-maroon[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(n+6){background-color:#f7c6b3;border-bottom:1px solid #f09775}"],[".journeymap-aqua[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#00acbf;color:#fff;border-width:0}.journeymap-aqua[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i.fa-paint-brush[_ngcontent-%COMP%]{background-color:#00acbf;padding:2pt;color:#fff;border:1px solid #aaa}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(1){background-color:#ecfcff}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){background-color:#dffaff}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3){background-color:#cff9ff}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4){background-color:#bff8ff}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(5){background-color:#aff4ff}.journeymap-aqua[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(n+6){background-color:#9febff;border-bottom:1px solid #bff7ff}"],[".flex-container[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none;-ms-box-orient:horizontal;display:-moz-flex;display:flex;justify-content:space-around;flex-flow:row wrap;align-items:stretch}.flex-item[_ngcontent-%COMP%]{flex:0 0 230px;border-bottom:1px solid #eee}.flex-header-item[_ngcontent-%COMP%]{background:#eee;margin-bottom:4px;box-shadow:0 4px 5px -2px rgba(170,170,170,1)}.box[_ngcontent-%COMP%]{width:100%}.box[_ngcontent-%COMP%]   button.box-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#444;position:absolute;right:5px;z-index:1;top:0}.box[_ngcontent-%COMP%]   button.box-button[_ngcontent-%COMP%]{cursor:pointer;border:none;position:absolute;top:0;right:0}.box[_ngcontent-%COMP%]   button.box-button[_ngcontent-%COMP%]:focus{outline:0}.box[_ngcontent-%COMP%]   button.box-button[_ngcontent-%COMP%]::after, .box[_ngcontent-%COMP%]   button.box-button[_ngcontent-%COMP%]::before{content:'';position:absolute;top:0;right:0;border-color:transparent;border-style:solid}.box[_ngcontent-%COMP%]   button.box-button[_ngcontent-%COMP%]::after{border-width:.75em;border-right-color:#eee;border-top-color:#eee}"]],data:{}});function Xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,G.NgSelectOption,[t.ElementRef,t.Renderer2,[2,G.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,G["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.title)})}function Zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,2).onTouched()&&u),"click"===n&&(u=!1!==o.onPersonaSelected()&&u),"ngModelChange"===n&&(u=!1!==(o.selectedPersonaId=e)&&u),u},null,null)),t["\u0275did"](2,16384,null,0,G.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.SelectControlValueAccessor]),t["\u0275did"](4,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](6,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Xn)),t["\u0275did"](8,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.showPersonaSelector=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,4,0,e.selectedPersonaId),l(n,8,0,e.personas)},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)})}function Yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"i",[["class","text-muted small"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-user-tie"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" No personas defined. "])),(l()(),t["\u0275eld"](3,0,null,null,3,"a",[["class","btn btn-link btn-sm"],["routerLink","/personas"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,4).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),t["\u0275did"](4,671744,null,0,L.n,[L.l,L.a,U.LocationStrategy],{routerLink:[0,"routerLink"]},null),(l()(),t["\u0275ted"](-1,null,["Manage "])),(l()(),t["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-external-link-alt"]],null,null,null,null,null))],function(l,n){l(n,4,0,"/personas")},function(l,n){l(n,3,0,t["\u0275nov"](n,4).target,t["\u0275nov"](n,4).href)})}function Qn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,Zn)),t["\u0275did"](2,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,U.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,Yn)),t["\u0275did"](5,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform(e.personas$))&&e.personas&&e.personas.length>0),l(n,5,0,!e.personas||0===e.personas.length)},null)}function le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.showPersonaSelector=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-user-tie"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Associate persona"]))],null,null)}function ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.showPersonaSelector=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","hover-border"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"img",[["class","float-left mr-2 pb-1"],["ngxGravatar",""],["size","50"]],null,null,null,null,null)),t["\u0275did"](3,606208,null,0,En.b,[t.ElementRef,t.Renderer2,En.c],{src:[0,"src"],email:[1,"email"],size:[2,"size"]},null),(l()(),t["\u0275eld"](4,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"small",[["class","small text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["PERSONA"])),(l()(),t["\u0275eld"](7,0,null,null,1,"h5",[["style","margin-top:-4pt"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""]))],function(l,n){var e=n.component;l(n,3,0,e.record.persona.photoUrl,e.record.persona.photo,"50")},function(l,n){l(n,8,0,n.component.record.persona.title)})}function ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,le)),t["\u0275did"](2,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ne)),t["\u0275did"](4,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,!e.record.persona),l(n,4,0,e.record.persona)},null)}function te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","hover-border "]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-link btn-sm hover-button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-pencil-alt text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""]))],null,function(l,n){l(n,5,0,n.parent.context.$implicit.title)})}function ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"input",[["autofocus",""],["class","form-control"],["placeholder","stage title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,3)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,3).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionEnd(e.target.value)&&u),"keyup.enter"===n&&(u=!1!==o.updateStageTitle(l.parent.context.$implicit)&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.title=e)&&u),"keyup.esc"===n&&(u=0!=(l.parent.context.$implicit.edit=!1)&&u),u},null,null)),t["\u0275did"](3,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](5,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](7,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](8,1720320,null,0,k.y,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275eld"](9,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateStageTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],function(l,n){l(n,5,0,n.parent.context.$implicit.title),l(n,8,0,n.parent.context.$implicit.edit)},function(l,n){var e=n.component;l(n,2,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending),l(n,10,0,!e.canUpdateStageTitle(n.parent.context.$implicit))})}function oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","flex-item flex-header-item"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,te)),t["\u0275did"](2,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ue)),t["\u0275did"](4,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,!n.context.$implicit.edit),l(n,4,0,n.context.$implicit.edit)},null)}function ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-link btn-sm hover-button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-pencil-alt text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "]))],null,function(l,n){l(n,4,0,n.parent.context.$implicit.title)})}function ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"input",[["autofocus",""],["class","form-control"],["placeholder","activity title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,3)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,3).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,3)._compositionEnd(e.target.value)&&u),"keyup.enter"===n&&(u=!1!==o.updateActivityTitle(l.parent.context.$implicit)&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.title=e)&&u),"keyup.esc"===n&&(u=0!=(l.parent.context.$implicit.edit=!1)&&u),u},null,null)),t["\u0275did"](3,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](5,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](7,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](8,1720320,null,0,k.y,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275eld"](9,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateActivityTitle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],function(l,n){l(n,5,0,n.parent.context.$implicit.title),l(n,8,0,n.parent.context.$implicit.edit)},function(l,n){var e=n.component;l(n,2,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending),l(n,10,0,!e.canUpdateActivityTitle(n.parent.context.$implicit))})}function re(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","hover-container"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","hover-border "]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-link btn-sm hover-button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-pencil-alt text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"ngx-md",[["class","small"]],null,null,null,dl.b,dl.a)),t["\u0275did"](5,4243456,null,0,sl.a,[sl.c,t.ElementRef,t.PLATFORM_ID],{data:[0,"data"]},null)],function(l,n){l(n,5,0,n.parent.context.$implicit.title)},null)}function de(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"textarea",[["autosize",""],["class","form-control form-control-sm"],["placeholder","stage activity title"],["style","min-width:275px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.control.enter"],[null,"ngModelChange"],[null,"keyup.esc"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,2)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,2).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,2)._compositionEnd(e.target.value)&&u),"input"===n&&(u=!1!==t["\u0275nov"](l,7).onInput(e.target)&&u),"keyup.control.enter"===n&&(u=!1!==o.updateStageActivityItem(l.parent.parent.parent.context.$implicit,l.parent.context.$implicit)&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.title=e)&&u),"keyup.esc"===n&&(u=0!=(l.parent.context.$implicit.edit=!1)&&u),u},null,null)),t["\u0275did"](2,16384,null,0,G.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,G.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[G.DefaultValueAccessor]),t["\u0275did"](4,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](6,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),t["\u0275did"](7,2768896,null,0,gl.a,[t.ElementRef,t.NgZone],{minRows:[0,"minRows"],maxRows:[1,"maxRows"]},null),t["\u0275did"](8,1720320,null,0,k.y,[t.ElementRef],{shouldFocusElement:[0,"shouldFocusElement"]},null),(l()(),t["\u0275eld"](9,0,null,null,9,"div",[["class","row mt-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteStageActivityItem(l.parent.parent.parent.context.$implicit,l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-times text-danger"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,5,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,4,"div",[["class","btn-group btn-group-sm"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.updateStageActivityItem(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](16,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.parent.context.$implicit.edit=!1)&&t),t},null,null)),(l()(),t["\u0275eld"](18,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null))],function(l,n){l(n,4,0,n.parent.context.$implicit.title),l(n,7,0,2,6),l(n,8,0,n.parent.context.$implicit.edit)},function(l,n){var e=n.component;l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,15,0,!e.canUpdateStageActivityItem(n.parent.context.$implicit))})}function se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"li",[],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,U.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](2,{"list-group-item":0,"callouts--left":1}),(l()(),t["\u0275and"](16777216,null,null,1,null,re)),t["\u0275did"](4,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,de)),t["\u0275did"](6,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=l(n,2,0,e.activityTypeEnum.List,n.parent.parent.parent.parent.context.$implicit.type===e.activityTypeEnum.Callout);l(n,1,0,t),l(n,4,0,!n.context.$implicit.edit),l(n,6,0,n.context.$implicit.edit)},null)}function ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","text-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"ul",[],null,null,null,null,null)),t["\u0275did"](2,278528,null,0,U.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{"list-group list-group-flush list-group-sm":0,callouts:1}),(l()(),t["\u0275and"](16777216,null,null,1,null,se)),t["\u0275did"](5,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](6,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xa0"])),(l()(),t["\u0275eld"](8,0,null,null,3,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.parent.context.$implicit.edit=e)&&t),t},z.b,z.a)),t["\u0275did"](9,12763136,null,0,H.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](10,0,null,0,1,"app-stage-activity-items-editor",[],null,null,null,jn,An)),t["\u0275did"](11,114688,null,0,Tn,[u.o],{stageActivity:[0,"stageActivity"]},null)],function(l,n){var e=n.component,t=l(n,3,0,n.parent.parent.parent.context.$implicit.type===e.activityTypeEnum.List,n.parent.parent.parent.context.$implicit.type===e.activityTypeEnum.Callout);l(n,2,0,t),l(n,5,0,n.parent.context.$implicit.items),l(n,9,0,"right","ui-sidebar-md","false",n.parent.context.$implicit.edit),l(n,11,0,n.parent.context.$implicit)},null)}function pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,15,"div",[["class","btn-group btn-group-sm btn-group-toggle"],["name","radioBasic"],["ngbRadioGroup",""],["role","group"],["style","background-color:#fff;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.parent.context.$implicit.booleanValue=e)&&t),t},null,null)),t["\u0275did"](2,16384,null,0,cl.M,[],{name:[0,"name"]},null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[cl.M]),t["\u0275did"](4,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](6,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),(l()(),t["\u0275eld"](7,0,null,null,4,"label",[["class","btn-outline-success"],["ngbButtonLabel",""]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,cl.g,[],null,null),(l()(),t["\u0275eld"](9,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,10).onChange()&&u),"focus"===n&&(u=0!=(t["\u0275nov"](l,10).focused=!0)&&u),"blur"===n&&(u=0!=(t["\u0275nov"](l,10).focused=!1)&&u),"change"===n&&(u=!1!==o.onChange(l.parent.context.$implicit,o.stageActivityColumn.BooleanValue)&&u),u},null,null)),t["\u0275did"](10,147456,null,0,cl.L,[cl.M,cl.g,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,[" True "])),(l()(),t["\u0275eld"](12,0,null,null,4,"label",[["class","btn-outline-danger"],["ngbButtonLabel",""]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),t["\u0275did"](13,16384,null,0,cl.g,[],null,null),(l()(),t["\u0275eld"](14,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,15).onChange()&&u),"focus"===n&&(u=0!=(t["\u0275nov"](l,15).focused=!0)&&u),"blur"===n&&(u=0!=(t["\u0275nov"](l,15).focused=!1)&&u),"change"===n&&(u=!1!==o.onChange(l.parent.context.$implicit,o.stageActivityColumn.BooleanValue)&&u),u},null,null)),t["\u0275did"](15,147456,null,0,cl.L,[cl.M,cl.g,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,[" False "]))],function(l,n){l(n,2,0,"radioBasic"),l(n,4,0,"radioBasic",n.parent.context.$implicit.booleanValue),l(n,10,0,!0),l(n,15,0,!1)},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,7,0,!0,t["\u0275nov"](n,8).active,t["\u0275nov"](n,8).disabled,t["\u0275nov"](n,8).focused),l(n,9,0,t["\u0275nov"](n,10).checked,t["\u0275nov"](n,10).disabled,t["\u0275nov"](n,10).nameAttr),l(n,12,0,!0,t["\u0275nov"](n,13).active,t["\u0275nov"](n,13).disabled,t["\u0275nov"](n,13).focused),l(n,14,0,t["\u0275nov"](n,15).checked,t["\u0275nov"](n,15).disabled,t["\u0275nov"](n,15).nameAttr)})}function ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,21,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,20,"div",[["class","btn-group btn-group-sm btn-group-toggle"],["name","radioBasic"],["ngbRadioGroup",""],["role","group"],["style","background-color:#fff;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.parent.context.$implicit.sentimentValue=e)&&t),t},null,null)),t["\u0275did"](2,16384,null,0,cl.M,[],{name:[0,"name"]},null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[cl.M]),t["\u0275did"](4,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](6,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),(l()(),t["\u0275eld"](7,0,null,null,4,"label",[["class","btn-outline-danger"],["ngbButtonLabel",""],["title","negative"]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),t["\u0275did"](8,16384,null,0,cl.g,[],null,null),(l()(),t["\u0275eld"](9,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,10).onChange()&&u),"focus"===n&&(u=0!=(t["\u0275nov"](l,10).focused=!0)&&u),"blur"===n&&(u=0!=(t["\u0275nov"](l,10).focused=!1)&&u),"change"===n&&(u=!1!==o.onChange(l.parent.context.$implicit,o.stageActivityColumn.SentimentValue)&&u),u},null,null)),t["\u0275did"](10,147456,null,0,cl.L,[cl.M,cl.g,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],{value:[0,"value"]},null),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","far fa-frown"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,4,"label",[["class","btn-outline-secondary"],["ngbButtonLabel",""],["title","neutral"]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),t["\u0275did"](13,16384,null,0,cl.g,[],null,null),(l()(),t["\u0275eld"](14,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,15).onChange()&&u),"focus"===n&&(u=0!=(t["\u0275nov"](l,15).focused=!0)&&u),"blur"===n&&(u=0!=(t["\u0275nov"](l,15).focused=!1)&&u),"change"===n&&(u=!1!==o.onChange(l.parent.context.$implicit,o.stageActivityColumn.SentimentValue)&&u),u},null,null)),t["\u0275did"](15,147456,null,0,cl.L,[cl.M,cl.g,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],{value:[0,"value"]},null),(l()(),t["\u0275eld"](16,0,null,null,0,"i",[["class","far fa-meh"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,4,"label",[["class","btn-outline-success"],["ngbButtonLabel",""],["title","positive"]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),t["\u0275did"](18,16384,null,0,cl.g,[],null,null),(l()(),t["\u0275eld"](19,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(l,n,e){var u=!0,o=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,20).onChange()&&u),"focus"===n&&(u=0!=(t["\u0275nov"](l,20).focused=!0)&&u),"blur"===n&&(u=0!=(t["\u0275nov"](l,20).focused=!1)&&u),"change"===n&&(u=!1!==o.onChange(l.parent.context.$implicit,o.stageActivityColumn.SentimentValue)&&u),u},null,null)),t["\u0275did"](20,147456,null,0,cl.L,[cl.M,cl.g,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],{value:[0,"value"]},null),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","far fa-smile"]],null,null,null,null,null))],function(l,n){l(n,2,0,"radioBasic"),l(n,4,0,"radioBasic",n.parent.context.$implicit.sentimentValue),l(n,10,0,-1),l(n,15,0,0),l(n,20,0,1)},function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,7,0,!0,t["\u0275nov"](n,8).active,t["\u0275nov"](n,8).disabled,t["\u0275nov"](n,8).focused),l(n,9,0,t["\u0275nov"](n,10).checked,t["\u0275nov"](n,10).disabled,t["\u0275nov"](n,10).nameAttr),l(n,12,0,!0,t["\u0275nov"](n,13).active,t["\u0275nov"](n,13).disabled,t["\u0275nov"](n,13).focused),l(n,14,0,t["\u0275nov"](n,15).checked,t["\u0275nov"](n,15).disabled,t["\u0275nov"](n,15).nameAttr),l(n,17,0,!0,t["\u0275nov"](n,18).active,t["\u0275nov"](n,18).disabled,t["\u0275nov"](n,18).focused),l(n,19,0,t["\u0275nov"](n,20).checked,t["\u0275nov"](n,20).disabled,t["\u0275nov"](n,20).nameAttr)})}function fe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,33,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,14,"div",[["class","box"],["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](2,212992,null,2,cl.t,[t.ChangeDetectorRef,cl.v,U.DOCUMENT,t.NgZone],{placement:[0,"placement"]},null),t["\u0275qud"](335544320,1,{_menu:0}),t["\u0275qud"](335544320,2,{_anchor:0}),(l()(),t["\u0275eld"](5,0,null,null,2,"button",[["aria-haspopup","true"],["class","hide-caret box-button dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,6).toggleOpen()&&u),u},null,null)),t["\u0275did"](6,16384,null,0,cl.y,[cl.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[2,4]],cl.u,null,[cl.y]),(l()(),t["\u0275eld"](8,0,null,null,7,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](9,16384,[[1,4]],0,cl.w,[cl.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275eld"](10,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.context.$implicit.edit=!0)&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","far fa-sun fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Manage"])),(l()(),t["\u0275eld"](13,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openConversationsEditor(l.context.$implicit)&&t),t},null,null)),(l()(),t["\u0275eld"](14,0,null,null,0,"i",[["class","far fa-comments fa-fw"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Collaborate"])),(l()(),t["\u0275eld"](16,0,null,null,10,"p-sidebar",[["position","right"],["showCloseIcon","false"],["styleClass","ui-sidebar-md text-left"]],null,[[null,"visibleChange"]],function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.context.$implicit.comments=e)&&t),t},z.b,z.a)),t["\u0275did"](17,12763136,null,0,H.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],styleClass:[1,"styleClass"],showCloseIcon:[2,"showCloseIcon"],visible:[3,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](18,0,null,0,8,"div",[["class","pane-dynamic"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,3,"div",[["class","pane-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"h4",[],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-comments"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Collaborate"])),(l()(),t["\u0275eld"](23,0,null,null,3,"div",[["class","pane-body-wo-footer pane-body-grey"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"app-conversations",[["allowAsk","true"],["allowDiscuss","true"],["allowNote","true"],["allowTask","true"]],null,[[null,"conversationAdded"],[null,"conversationClosed"]],function(l,n,e){var t=!0,u=l.component;return"conversationAdded"===n&&(t=!1!==u.onSAConversationAdded(e,l.context.$implicit)&&t),"conversationClosed"===n&&(t=!1!==u.onSAConversationClosed(e,l.context.$implicit)&&t),t},Nl,hl)),t["\u0275did"](26,49152,null,0,ml.a,[u.o,q.h,t.ChangeDetectorRef],{conversations:[0,"conversations"],type:[1,"type"],allowDiscuss:[2,"allowDiscuss"],allowAsk:[3,"allowAsk"],allowNote:[4,"allowNote"],allowTask:[5,"allowTask"],conversationContext:[6,"conversationContext"],parentDocType:[7,"parentDocType"],parentDocCode:[8,"parentDocCode"],docType:[9,"docType"],docCode:[10,"docCode"],editorVisible:[11,"editorVisible"]},{conversationAdded:"conversationAdded",conversationClosed:"conversationClosed"}),(l()(),t["\u0275eld"](27,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ce)),t["\u0275did"](29,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,pe)),t["\u0275did"](31,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ge)),t["\u0275did"](33,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"bottom-right"),l(n,17,0,"right","ui-sidebar-md text-left","false",n.context.$implicit.comments),l(n,26,1,[n.context.$implicit.conversations,"Note","true","true","true","true",n.context.$implicit.conversationContext,e.docTypes.Journeymap,e.record.code,e.docTypes.StageActivity,n.context.$implicit.code,n.context.$implicit.addingConversation]),l(n,29,0,n.parent.parent.context.$implicit.type===e.activityTypeEnum.List||n.parent.parent.context.$implicit.type===e.activityTypeEnum.Callout),l(n,31,0,n.parent.parent.context.$implicit.type===e.activityTypeEnum.Boolean),l(n,33,0,n.parent.parent.context.$implicit.type===e.activityTypeEnum.Sentiment)},function(l,n){l(n,1,0,t["\u0275nov"](n,2).isOpen()),l(n,5,0,t["\u0275nov"](n,6).dropdown.isOpen()),l(n,8,0,!0,t["\u0275nov"](n,9).dropdown.isOpen(),t["\u0275nov"](n,9).placement)})}function me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","flex-item text-center"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,fe)),t["\u0275did"](2,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.getStageActivity(n.parent.context.$implicit,n.context.$implicit))},null)}function he(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","flex-container"]],[[4,"width","px"]],null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","flex-item"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ie)),t["\u0275did"](3,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ae)),t["\u0275did"](5,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,me)),t["\u0275did"](7,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,!n.context.$implicit.edit),l(n,5,0,n.context.$implicit.edit),l(n,7,0,e.record.stages)},function(l,n){l(n,0,0,230*(n.component.record.stages.length+1))})}function ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","mb-4 clearfix text-muted"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,9,"div",[["class","float-right"],["style","width: 200px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","float-right"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["1x"])),(l()(),t["\u0275ted"](-1,null,[" 0.5x "])),(l()(),t["\u0275eld"](6,0,null,null,5,"p-slider",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.component.zoom=e)&&t),t},Kn,Un)),t["\u0275did"](7,180224,null,0,Fn.Slider,[t.ElementRef,t.Renderer2,t.NgZone,t.ChangeDetectorRef],{min:[0,"min"],max:[1,"max"],step:[2,"step"]},null),t["\u0275prd"](1024,null,G.NG_VALUE_ACCESSOR,function(l){return[l]},[Fn.Slider]),t["\u0275did"](9,671744,null,0,G.NgModel,[[8,null],[8,null],[8,null],[6,G.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,G.NgControl,null,[G.NgModel]),t["\u0275did"](11,16384,null,0,G.NgControlStatus,[[4,G.NgControl]],null,null),(l()(),t["\u0275eld"](12,0,null,null,10,"div",[],[[4,"zoom",null]],null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,7,"div",[["class","flex-container"]],[[4,"width","px"]],null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,4,"div",[["class","flex-item flex-header-item"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Qn)),t["\u0275did"](16,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ee)),t["\u0275did"](18,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,oe)),t["\u0275did"](20,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,he)),t["\u0275did"](22,278528,null,0,U.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,7,0,50,100,10),l(n,9,0,e.zoom),l(n,16,0,e.showPersonaSelector),l(n,18,0,!e.showPersonaSelector),l(n,20,0,e.record.stages),l(n,22,0,e.record.activities)},function(l,n){var e=n.component;l(n,6,0,t["\u0275nov"](n,11).ngClassUntouched,t["\u0275nov"](n,11).ngClassTouched,t["\u0275nov"](n,11).ngClassPristine,t["\u0275nov"](n,11).ngClassDirty,t["\u0275nov"](n,11).ngClassValid,t["\u0275nov"](n,11).ngClassInvalid,t["\u0275nov"](n,11).ngClassPending),l(n,12,0,e.zoom/100),l(n,13,0,230*(e.record.stages.length+1))})}function ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,ve)),t["\u0275did"](1,16384,null,0,U.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.record)},null)}function be(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-journeymap-details",[],null,null,null,ye,Wn)),t["\u0275did"](1,49152,null,0,A,[u.o,T.a],null,null)],null,null)}var Ce=t["\u0275ccf"]("app-journeymap-details",A,be,{},{},[]),_e=e("4Vzq"),Re=e("1bD0"),Se=e("/CeA"),Oe=e("HF1C"),ke=e("grLa"),Me=e("Fa87"),xe=e("VSng"),we=e("h5lK"),Ie=e("g4HV"),Ee=e("pODc"),Te=e("38E1"),Ae=e("G5kV"),Pe=e("gKem"),Ve=e("kAZL"),De=e("yqyW"),Ne=e("mrSG"),$e=function(l,n){switch(n.type){case d.UpdateSASucceeded:return Ne.__assign({},l,{items:n.payload.items});case d.AttachSAConversations:return Ne.__assign({},l,{conversations:n.payload.conversations});case d.AddSAConversation:return(e=l.conversations||{total:0,records:[]}).total=e.total+1,e.records.push(n.payload),Ne.__assign({},l,{conversations:Ne.__assign({},l.conversations,{total:e.total,records:e.records})});case d.CloseSAConversation:var e,t=I.find((e=l.conversations).records,{code:n.payload.code});return t&&(t.isClosed=n.payload.isClosed,t.closedOn=n.payload.closedOn,t.closedById=n.payload.closedById),Ne.__assign({},l,{conversations:Ne.__assign({},l.conversations,{total:e.total,records:e.records})})}return l};function je(l,n){switch(n.type){case d.LoadJourneymaps:return Ne.__assign({},l,{listLoading:!0,listLoaded:!1,filter:n.payload});case d.LoadJourneymapsSucceeded:return n.payload&&n.payload.records&&n.payload.records.forEach(function(l){l.current=!1}),Ne.__assign({},l,{listLoading:!1,listLoaded:!0,journeymaps:n.payload});case d.ResetJourneymapSelection:return l.journeymaps&&l.journeymaps.records&&l.journeymaps.records.forEach(function(l){return l.current=!1}),Ne.__assign({},l,{details:null});case d.CreateJourneymap:return Ne.__assign({},l,{creating:!0,created:null});case d.CreateJourneymapSucceeded:return(e=l.journeymaps.records).push(n.payload),Ne.__assign({},l,{creating:!1,created:n.payload,journeymaps:Ne.__assign({},l.journeymaps,{total:l.journeymaps.total+1,records:e})});case d.LoadJourneymapDetails:return Ne.__assign({},l,{selected:n.payload});case d.LoadJourneymapDetailsSucceeded:return(t=Fe(l,n.payload))&&t.record&&((s=t.record).stageActivities=[],s.activities&&s.activities.length>0&&s.activities.forEach(function(l){s.stages&&s.stages.length>0&&s.stages.forEach(function(n){s.stageActivities.push(function(l,n,e){var t=I.find(n.activities,{activityId:l.id});return t||n.activities.push(t={isDirty:!0,journeymapCode:e,activityId:l.id,stageId:n.id,booleanValue:null,sentimentValue:null,items:[]}),t.code=t.stageId+"_"+t.activityId,t.conversationContext=[{key:"Stage",value:n.title},{key:"Activity",value:l.title}],t}(l,n,s.code))})})),Ne.__assign({},l,{selected:null,details:t,journeymaps:Ne.__assign({},l.journeymaps,{records:l.journeymaps?l.journeymaps.records:null})});case d.CreateJourneymap:return Ne.__assign({},l,{creating:!0,created:null});case d.CreateJourneymapSucceeded:var e;return(e=l.journeymaps.records).push(n.payload),Ne.__assign({},l,{creating:!1,created:n.payload,journeymaps:Ne.__assign({},l.journeymaps,{total:l.journeymaps.total+1,records:e})});case d.UpdateJourneymap:return Ne.__assign({},l,{updating:!0,updated:null});case d.UpdateJourneymapSucceeded:var t=Fe(l,n.payload.record);return Ne.__assign({},l,{selected:null,updating:!1,updated:t,details:t});case d.AttachPrimaryConversations:return Ne.__assign({},l,{conversations:n.payload.conversations});case d.AddPrimaryConversation:return(u=l.conversations||{total:0,records:[]}).total=u.total+1,u.records.push(n.payload),Ne.__assign({},l,{conversations:Ne.__assign({},l.conversations,{total:u.total,records:u.records})});case d.ClosePrimaryConversation:var u,o=I.find((u=l.conversations).records,{code:n.payload.code});return o&&(o.isClosed=n.payload.isClosed,o.closedOn=n.payload.closedOn,o.closedById=n.payload.closedById),Ne.__assign({},l,{conversations:Ne.__assign({},l.conversations,{total:u.total,records:u.records})});case d.UpdateSASucceeded:return Ne.__assign({},l,{details:Ne.__assign({},l.details,{record:Ne.__assign({},l.details.record,{stageActivities:l.details.record.stageActivities.map(function(l){return l.stageId===n.payload.stageId&&l.activityId===n.payload.activityId?$e(l,n):l})})})});case d.AttachSAConversations:case d.AddSAConversation:case d.CloseSAConversation:var i=a,r=n.payload&&n.payload.contextToken&&n.payload.contextToken.length>0?Object(x.a)(n.payload.contextToken):n.payload;return Ne.__assign({},l,{details:Ne.__assign({},l.details,{record:Ne.__assign({},l.details.record,{stageActivities:l.details.record.stageActivities.map(function(l){return l.code===n.payload.contextToken||r&&r.docType===i.StageActivity&&r.docCode===l.code?$e(l,n):l})})})});default:return l}var s}function Fe(l,n){var e=l.journeymaps?l.journeymaps.records:null,t={prevPage:1===l.filter.pageIndex?null:l.filter.pageIndex-1,prev:null,record:n,next:null,nextPage:l.filter.pageIndex*l.filter.pageSize>(l.journeymaps?l.journeymaps.total:0)?null:l.filter.pageIndex+1};if(e){var u=e.length-1,o=I.findIndex(e,{code:n.code});o>=0&&(e.forEach(function(l){l.current=!1}),e[o].current=!0),o>0&&o<=u&&(t.prev=e[o-1].code),o>=0&&o<u&&(t.next=e[o+1].code)}return t}var Ue=e("jYNz"),Le=e("PhIK"),Je=e("d78H"),Be=e("VKiE"),qe=e("15JJ"),ze=e("67Y/"),He=e("9Z1F"),Ge=e("F/XL"),Ke=function(l){function n(n){var e=l.call(this,{headers:{servicename:"journeys-api"}})||this;return e.httpClient=n,e.baseUrl="/journeymaps",e.updateJourneymap$=function(l){return e.extendPayload(l,null),e.httpClient.put(e.baseUrl+"/"+l.record.code,l,e.options)},e.updateStageActivity$=function(l){return e.extendPayload(l,null),e.httpClient.put(e.baseUrl+"/"+l.record.journeymapCode+"/stages/"+l.record.stageId+"/activities/"+l.record.activityId,l,e.options)},e}return Ne.__extends(n,l),n.prototype.getList$=function(l,n){return this.httpClient.get(this.baseUrl,this.buildHttpOptions(l,n))},n.prototype.getDetails$=function(l,n){return this.httpClient.get(this.baseUrl+"/"+l,this.buildHttpOptions({},n))},n.prototype.createJourneymap$=function(l){return this.extendPayload(l,null),this.httpClient.post(this.baseUrl,l,this.options)},n.ngInjectableDef=t.defineInjectable({factory:function(){return new n(t.inject(Fl.HttpClient))},token:n,providedIn:"root"}),n}(k.b),We=function(){function l(l,n){var e=this;this.actions$=l,this.journeymapsService=n,this.loadJourneymaps=this.actions$.pipe(Object(Ue.d)(d.LoadJourneymaps),Object(qe.a)(function(l){return e.journeymapsService.getList$(l.payload,l.payload.currentWS).pipe(Object(ze.a)(function(l){return{type:d.LoadJourneymapsSucceeded,payload:l}}),Object(He.a)(function(){return Object(Ge.a)({type:d.LoadJourneymapsFailed})}))})),this.loadJourneymapDetails=this.actions$.pipe(Object(Ue.d)(d.LoadJourneymapDetails),Object(qe.a)(function(l){return e.journeymapsService.getDetails$(l.payload.code,l.payload.currentWS).pipe(Object(ze.a)(function(l){return{type:d.LoadJourneymapDetailsSucceeded,payload:l}}),Object(He.a)(function(){return Object(Ge.a)({type:d.LoadJourneymapsFailed})}))})),this.updateJourneymap=this.actions$.pipe(Object(Ue.d)(d.UpdateJourneymap),Object(qe.a)(function(l){return e.journeymapsService.updateJourneymap$(l.payload).pipe(Object(ze.a)(function(n){return{type:d.UpdateJourneymapSucceeded,payload:{record:n,column:l.payload.column}}}),Object(He.a)(function(){return Object(Ge.a)({type:d.UpdateJourneymapFailed})}))})),this.updateStageActivity=this.actions$.pipe(Object(Ue.d)(d.UpdateSA),Object(qe.a)(function(l){return e.journeymapsService.updateStageActivity$(l.payload).pipe(Object(ze.a)(function(l){return{type:d.UpdateSASucceeded,payload:l}}),Object(He.a)(function(){return Object(Ge.a)({type:d.UpdateSAFailed})}))})),this.createJourneymap=this.actions$.pipe(Object(Ue.d)(d.CreateJourneymap),Object(qe.a)(function(l){return e.journeymapsService.createJourneymap$(l.payload).pipe(Object(ze.a)(function(l){return{type:d.CreateJourneymapSucceeded,payload:l}}),Object(He.a)(function(){return Object(Ge.a)({type:d.CreateJourneymapFailed})}))}))}return l.ngInjectableDef=t.defineInjectable({factory:function(){return new l(t.inject(Ue.a),t.inject(Ke))},token:l,providedIn:"root"}),Ne.__decorate([Object(Ue.b)(),Ne.__metadata("design:type",Object)],l.prototype,"loadJourneymaps",void 0),Ne.__decorate([Object(Ue.b)(),Ne.__metadata("design:type",Object)],l.prototype,"loadJourneymapDetails",void 0),Ne.__decorate([Object(Ue.b)(),Ne.__metadata("design:type",Object)],l.prototype,"updateJourneymap",void 0),Ne.__decorate([Object(Ue.b)(),Ne.__metadata("design:type",Object)],l.prototype,"updateStageActivity",void 0),Ne.__decorate([Object(Ue.b)(),Ne.__metadata("design:type",Object)],l.prototype,"createJourneymap",void 0),l}(),Xe=e("YMiO"),Ze=e("GS5F"),Ye=e("WwML"),Qe=e("Qs4e"),lt=e("dQt/");e.d(n,"JourneyMapsModuleNgFactory",function(){return nt});var nt=t["\u0275cmf"](V,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[D.a,D.b,D.h,D.i,D.e,D.f,D.g,N.a,$.a,j.q,j.a,F.a,ul,rl,In,Ce]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,U.NgLocalization,U.NgLocaleLocalization,[t.LOCALE_ID,[2,U["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,G["\u0275angular_packages_forms_forms_j"],G["\u0275angular_packages_forms_forms_j"],[]),t["\u0275mpd"](4608,G.FormBuilder,G.FormBuilder,[]),t["\u0275mpd"](4608,cl.A,cl.A,[t.ComponentFactoryResolver,t.Injector,cl.nb,cl.B]),t["\u0275mpd"](4608,Fl.HttpXsrfTokenExtractor,Fl["\u0275angular_packages_common_http_http_g"],[U.DOCUMENT,t.PLATFORM_ID,Fl["\u0275angular_packages_common_http_http_e"]]),t["\u0275mpd"](4608,Fl["\u0275angular_packages_common_http_http_h"],Fl["\u0275angular_packages_common_http_http_h"],[Fl.HttpXsrfTokenExtractor,Fl["\u0275angular_packages_common_http_http_f"]]),t["\u0275mpd"](4608,_e.MessageService,_e.MessageService,[]),t["\u0275mpd"](5120,Fl.HTTP_INTERCEPTORS,function(l,n,e,t){return[l,new Re.b(n),new k.h(e),new k.o(t)]},[Fl["\u0275angular_packages_common_http_http_h"],Se.c,_e.MessageService,o.a]),t["\u0275mpd"](4608,Fl["\u0275angular_packages_common_http_http_d"],Fl["\u0275angular_packages_common_http_http_d"],[]),t["\u0275mpd"](6144,Fl.XhrFactory,null,[Fl["\u0275angular_packages_common_http_http_d"]]),t["\u0275mpd"](4608,Fl.HttpXhrBackend,Fl.HttpXhrBackend,[Fl.XhrFactory]),t["\u0275mpd"](6144,Fl.HttpBackend,null,[Fl.HttpXhrBackend]),t["\u0275mpd"](4608,Fl.HttpHandler,Fl["\u0275HttpInterceptingHandler"],[Fl.HttpBackend,t.Injector]),t["\u0275mpd"](4608,Fl.HttpClient,Fl.HttpClient,[Fl.HttpHandler]),t["\u0275mpd"](4608,sl.c,sl.c,[Fl.HttpClient,fl.DomSanitizer]),t["\u0275mpd"](4608,Yl.a,Yl.a,[]),t["\u0275mpd"](4608,k.e,k.e,[u.o,L.l]),t["\u0275mpd"](4608,k.m,k.m,[]),t["\u0275mpd"](5120,k.q,k.s,[]),t["\u0275mpd"](1073742336,U.CommonModule,U.CommonModule,[]),t["\u0275mpd"](1073742336,G["\u0275angular_packages_forms_forms_bc"],G["\u0275angular_packages_forms_forms_bc"],[]),t["\u0275mpd"](1073742336,G.FormsModule,G.FormsModule,[]),t["\u0275mpd"](1073742336,G.ReactiveFormsModule,G.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,cl.c,cl.c,[]),t["\u0275mpd"](1073742336,cl.f,cl.f,[]),t["\u0275mpd"](1073742336,cl.h,cl.h,[]),t["\u0275mpd"](1073742336,cl.l,cl.l,[]),t["\u0275mpd"](1073742336,cl.n,cl.n,[]),t["\u0275mpd"](1073742336,cl.s,cl.s,[]),t["\u0275mpd"](1073742336,cl.x,cl.x,[]),t["\u0275mpd"](1073742336,cl.C,cl.C,[]),t["\u0275mpd"](1073742336,cl.G,cl.G,[]),t["\u0275mpd"](1073742336,cl.H,cl.H,[]),t["\u0275mpd"](1073742336,cl.K,cl.K,[]),t["\u0275mpd"](1073742336,cl.P,cl.P,[]),t["\u0275mpd"](1073742336,cl.S,cl.S,[]),t["\u0275mpd"](1073742336,cl.W,cl.W,[]),t["\u0275mpd"](1073742336,cl.X,cl.X,[]),t["\u0275mpd"](1073742336,cl.ab,cl.ab,[]),t["\u0275mpd"](1073742336,cl.D,cl.D,[]),t["\u0275mpd"](1073742336,Oe.a,Oe.a,[]),t["\u0275mpd"](1073742336,ke.MentionModule,ke.MentionModule,[]),t["\u0275mpd"](1073742336,En.a,En.a,[]),t["\u0275mpd"](1073742336,Fn.SliderModule,Fn.SliderModule,[]),t["\u0275mpd"](1073742336,Me.InputTextModule,Me.InputTextModule,[]),t["\u0275mpd"](1073742336,xe.ButtonModule,xe.ButtonModule,[]),t["\u0275mpd"](1073742336,Ul.SharedModule,Ul.SharedModule,[]),t["\u0275mpd"](1073742336,we.AutoCompleteModule,we.AutoCompleteModule,[]),t["\u0275mpd"](1073742336,Fl.HttpClientXsrfModule,Fl.HttpClientXsrfModule,[]),t["\u0275mpd"](1073742336,Fl.HttpClientModule,Fl.HttpClientModule,[]),t["\u0275mpd"](1073742336,sl.b,sl.b,[]),t["\u0275mpd"](1073742336,H.SidebarModule,H.SidebarModule,[]),t["\u0275mpd"](1073742336,Ie.TooltipModule,Ie.TooltipModule,[]),t["\u0275mpd"](1073742336,Ee.TabViewModule,Ee.TabViewModule,[]),t["\u0275mpd"](1073742336,J.b,J.b,[]),t["\u0275mpd"](1073742336,Te.a,Te.a,[]),t["\u0275mpd"](1073742336,gl.b,gl.b,[]),t["\u0275mpd"](1073742336,B.b,B.b,[]),t["\u0275mpd"](1073742336,L.o,L.o,[[2,L.u],[2,L.l]]),t["\u0275mpd"](1073742336,k.t,k.t,[]),t["\u0275mpd"](1073742336,Se.b,Se.b,[]),t["\u0275mpd"](1073742336,Re.a,Re.a,[]),t["\u0275mpd"](1073742336,Ae.ToastModule,Ae.ToastModule,[]),t["\u0275mpd"](1073742336,Pe.c,Pe.c,[]),t["\u0275mpd"](1024,u.F,function(){return[{initialState:{commands:[],currentWorkspace:null,menulist:null,workspaces:[],isLeftPaneCollapsed:!1}},{initialState:{appType:null,filter:{pageIndex:0,pageSize:25,q:""},result:{query:null,total:0,records:[]},formattedResult:null,created:null,replied:null,closed:null}},{initialState:{loaded:!1,loading:!1,filter:{pageIndex:0,pageSize:25,q:""},attachments:{total:0,records:[]},uploading:!1,uploaded:null,blob:null}},{initialState:{listLoaded:!1,listLoading:!1,archived:!1,filter:{pageIndex:0,pageSize:25,q:""},journeymaps:null,selected:null,details:null,creating:!1,created:null,updating:!1,updated:null,conversations:null}}]},[]),t["\u0275mpd"](1024,u.k,function(){return[{key:"containers",reducerFactory:u.B,metaReducers:[],initialState:{commands:[],currentWorkspace:null,menulist:null,workspaces:[],isLeftPaneCollapsed:!1}},{key:"conversations",reducerFactory:u.B,metaReducers:[],initialState:{appType:null,filter:{pageIndex:0,pageSize:25,q:""},result:{query:null,total:0,records:[]},formattedResult:null,created:null,replied:null,closed:null}},{key:"attachments",reducerFactory:u.B,metaReducers:[],initialState:{loaded:!1,loading:!1,filter:{pageIndex:0,pageSize:25,q:""},attachments:{total:0,records:[]},uploading:!1,uploaded:null,blob:null}},{key:"journeymaps",reducerFactory:u.B,metaReducers:[],initialState:{listLoaded:!1,listLoading:!1,archived:!1,filter:{pageIndex:0,pageSize:25,q:""},journeymaps:null,selected:null,details:null,creating:!1,created:null,updating:!1,updated:null,conversations:null}}]},[]),t["\u0275mpd"](1024,u.G,u.H,[t.Injector,u.F,u.k]),t["\u0275mpd"](1024,u.s,function(){return[k.v,Ve.a,De.a,je]},[]),t["\u0275mpd"](1024,u.t,function(l,n,e,t){return[l,n,e,t]},[u.s,u.s,u.s,u.s]),t["\u0275mpd"](1024,u.b,function(l,n,e,t,o,i,a,r,d,s,c,p){return[u.y(l,n,e),u.y(t,o,i),u.y(a,r,d),u.y(s,c,p)]},[t.Injector,u.s,u.t,t.Injector,u.s,u.t,t.Injector,u.s,u.t,t.Injector,u.s,u.t]),t["\u0275mpd"](1073873408,u.p,u.p,[u.G,u.b,u.h,u.q]),t["\u0275mpd"](512,k.w,k.w,[Ue.a,L.l,U.Location,k.x]),t["\u0275mpd"](512,Le.a,Le.a,[Ue.a,u.o,Je.a]),t["\u0275mpd"](512,Be.a,Be.a,[Ue.a,u.o,T.a]),t["\u0275mpd"](512,We,We,[Ue.a,Ke]),t["\u0275mpd"](1024,Ue.i,function(l,n,e,t){return[Ue.e(l),Ue.e(n),Ue.e(e),Ue.e(t)]},[k.w,Le.a,Be.a,We]),t["\u0275mpd"](1073742336,Ue.g,Ue.g,[Ue.f,Ue.i,[2,u.q],[2,u.p]]),t["\u0275mpd"](1073742336,k.d,k.d,[]),t["\u0275mpd"](1073742336,Xe.a,Xe.a,[]),t["\u0275mpd"](1073742336,Ze.ProgressBarModule,Ze.ProgressBarModule,[]),t["\u0275mpd"](1073742336,Ye.MessagesModule,Ye.MessagesModule,[]),t["\u0275mpd"](1073742336,jl.FileUploadModule,jl.FileUploadModule,[]),t["\u0275mpd"](1073742336,Qe.a,Qe.a,[]),t["\u0275mpd"](1073742336,V,V,[]),t["\u0275mpd"](256,Fl["\u0275angular_packages_common_http_http_e"],"XSRF-TOKEN",[]),t["\u0275mpd"](256,Fl["\u0275angular_packages_common_http_http_f"],"X-XSRF-TOKEN",[]),t["\u0275mpd"](1024,L.j,function(){return[[{path:"not-implemented",component:k.u},{path:"app-home",component:k.a}],[{path:"home",component:lt.a,children:[]}],[{path:"",component:O,children:[{path:"create",component:P},{path:":code",component:w,children:[{path:"details",component:A}]}]}]]},[])])})}}]);